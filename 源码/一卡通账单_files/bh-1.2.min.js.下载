function QR8bitByte(e){this.mode=QRMode.MODE_8BIT_BYTE,this.data=e}function QR_code(e,t){this.typeNumber=e,this.errorCorrectLevel=t,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=new Array}function QRPolynomial(e,t){if(void 0==e.length)throw new Error(e.length+"/"+t);for(var a=0;a<e.length&&0==e[a];)a++;this.num=new Array(e.length-a+t);for(var n=0;n<e.length-a;n++)this.num[n]=e[n+a]}function QRRSBlock(e,t){this.totalCount=e,this.dataCount=t}function QRBitBuffer(){this.buffer=new Array,this.length=0}!function(e){"use strict";var t,a,n=Array.prototype.slice;a=function(t){this.options=e.extend({},a.defaults,t),this.parser=this.options.parser,this.locale=this.options.locale,this.messageStore=this.options.messageStore,this.languages={},this.init()},a.prototype={init:function(){var t=this;String.locale=t.locale,String.prototype.toLocaleString=function(){var a,n,i,o,r,s,l;for(i=this.valueOf(),o=t.locale,r=0;o;){a=o.split("-"),n=a.length;do{if(s=a.slice(0,n).join("-"),l=t.messageStore.get(s,i))return l;n--}while(n);if("en"===o)break;o=e.i18n.fallbacks[t.locale]&&e.i18n.fallbacks[t.locale][r]||t.options.fallbackLocale,e.i18n.log("Trying fallback locale for "+t.locale+": "+o),r++}return""}},destroy:function(){e.removeData(document,"i18n")},load:function(t,a){var n,i,o,r={};if(t||a||(t="i18n/"+e.i18n().locale+".json",a=e.i18n().locale),"string"==typeof t&&"json"!==t.split(".").pop()){r[a]=t+"/"+a+".json",n=(e.i18n.fallbacks[a]||[]).concat(this.options.fallbackLocale);for(i in n)o=n[i],r[o]=t+"/"+o+".json";return this.load(r)}return this.messageStore.load(t,a)},parse:function(t,a){var n=t.toLocaleString();return this.parser.language=e.i18n.languages[e.i18n().locale]||e.i18n.languages.default,""===n&&(n=t),this.parser.parse(n,a)}},e.i18n=function(t,i){var o,r=e.data(document,"i18n"),s="object"==typeof t&&t;return s&&s.locale&&r&&r.locale!==s.locale&&(String.locale=r.locale=s.locale),r||(r=new a(s),e.data(document,"i18n",r)),"string"==typeof t?(o=void 0!==i?n.call(arguments,1):[],r.parse(t,o)):r},e.fn.i18n=function(){var t=e.data(document,"i18n");return t||(t=new a,e.data(document,"i18n",t)),String.locale=t.locale,this.each(function(){var a,n,i,o,r=e(this),s=r.data("i18n");s?(a=s.indexOf("["),n=s.indexOf("]"),-1!==a&&-1!==n&&a<n?(i=s.slice(a+1,n),o=s.slice(n+1),"html"===i?r.html(t.parse(o)):r.attr(i,t.parse(o))):r.text(t.parse(s))):r.find("[data-i18n]").i18n()})},String.locale=String.locale||e("html").attr("lang"),String.locale||(void 0!==typeof window.navigator?(t=window.navigator,String.locale=t.language||t.userLanguage||""):String.locale=""),e.i18n.languages={},e.i18n.messageStore=e.i18n.messageStore||{},e.i18n.parser={parse:function(e,t){return e.replace(/\$(\d+)/g,function(e,a){var n=parseInt(a,10)-1;return void 0!==t[n]?t[n]:"$"+a})},emitter:{}},e.i18n.fallbacks={},e.i18n.debug=!1,e.i18n.log=function(){window.console&&e.i18n.debug&&window.console.log.apply(window.console,arguments)},a.defaults={locale:String.locale,fallbackLocale:"en",parser:e.i18n.parser,messageStore:e.i18n.messageStore},e.i18n.constructor=a}(jQuery),function(e){"use strict";function t(t){var a=e.Deferred();return e.getJSON(t).done(a.resolve).fail(function(n,i,o){e.i18n.log("Error in loading messages from "+t+" Exception: "+o),a.resolve()}),a.promise()}var a=function(){this.messages={},this.sources={}};a.prototype={load:function(a,n){var i=null,o=null,r=[],s=this;if("string"==typeof a)return e.i18n.log("Loading messages from: "+a),o=t(a).done(function(e){s.set(n,e)}),o.promise();if(n)return s.set(n,a),e.Deferred().resolve();for(i in a)Object.prototype.hasOwnProperty.call(a,i)&&(n=i,r.push(s.load(a[i],n)));return e.when.apply(e,r)},set:function(t,a){this.messages[t]?this.messages[t]=e.extend(this.messages[t],a):this.messages[t]=a},get:function(e,t){return this.messages[e]&&this.messages[e][t]}},e.extend(e.i18n.messageStore,new a)}(jQuery),function(e){"use strict";e.i18n=e.i18n||{},e.extend(e.i18n.fallbacks,{ab:["ru"],ace:["id"],aln:["sq"],als:["gsw","de"],an:["es"],anp:["hi"],arn:["es"],arz:["ar"],av:["ru"],ay:["es"],ba:["ru"],bar:["de"],"bat-smg":["sgs","lt"],bcc:["fa"],"be-x-old":["be-tarask"],bh:["bho"],bjn:["id"],bm:["fr"],bpy:["bn"],bqi:["fa"],bug:["id"],"cbk-zam":["es"],ce:["ru"],crh:["crh-latn"],"crh-cyrl":["ru"],csb:["pl"],cv:["ru"],"de-at":["de"],"de-ch":["de"],"de-formal":["de"],dsb:["de"],dtp:["ms"],egl:["it"],eml:["it"],ff:["fr"],fit:["fi"],"fiu-vro":["vro","et"],frc:["fr"],frp:["fr"],frr:["de"],fur:["it"],gag:["tr"],gan:["gan-hant","zh-hant","zh-hans"],"gan-hans":["zh-hans"],"gan-hant":["zh-hant","zh-hans"],gl:["pt"],glk:["fa"],gn:["es"],gsw:["de"],hif:["hif-latn"],hsb:["de"],ht:["fr"],ii:["zh-cn","zh-hans"],inh:["ru"],iu:["ike-cans"],jut:["da"],jv:["id"],kaa:["kk-latn","kk-cyrl"],kbd:["kbd-cyrl"],khw:["ur"],kiu:["tr"],kk:["kk-cyrl"],"kk-arab":["kk-cyrl"],"kk-latn":["kk-cyrl"],"kk-cn":["kk-arab","kk-cyrl"],"kk-kz":["kk-cyrl"],"kk-tr":["kk-latn","kk-cyrl"],kl:["da"],"ko-kp":["ko"],koi:["ru"],krc:["ru"],ks:["ks-arab"],ksh:["de"],ku:["ku-latn"],"ku-arab":["ckb"],kv:["ru"],lad:["es"],lb:["de"],lbe:["ru"],lez:["ru"],li:["nl"],lij:["it"],liv:["et"],lmo:["it"],ln:["fr"],ltg:["lv"],lzz:["tr"],mai:["hi"],"map-bms":["jv","id"],mg:["fr"],mhr:["ru"],min:["id"],mo:["ro"],mrj:["ru"],mwl:["pt"],myv:["ru"],mzn:["fa"],nah:["es"],nap:["it"],nds:["de"],"nds-nl":["nl"],"nl-informal":["nl"],no:["nb"],os:["ru"],pcd:["fr"],pdc:["de"],pdt:["de"],pfl:["de"],pms:["it"],pt:["pt-br"],"pt-br":["pt"],qu:["es"],qug:["qu","es"],rgn:["it"],rmy:["ro"],"roa-rup":["rup"],rue:["uk","ru"],ruq:["ruq-latn","ro"],"ruq-cyrl":["mk"],"ruq-latn":["ro"],sa:["hi"],sah:["ru"],scn:["it"],sg:["fr"],sgs:["lt"],sli:["de"],sr:["sr-ec"],srn:["nl"],stq:["de"],su:["id"],szl:["pl"],tcy:["kn"],tg:["tg-cyrl"],tt:["tt-cyrl","ru"],"tt-cyrl":["ru"],ty:["fr"],udm:["ru"],ug:["ug-arab"],uk:["ru"],vec:["it"],vep:["et"],vls:["nl"],vmf:["de"],vot:["fi"],vro:["et"],wa:["fr"],wo:["fr"],wuu:["zh-hans"],xal:["ru"],xmf:["ka"],yi:["he"],za:["zh-hans"],zea:["nl"],zh:["zh-hans"],"zh-classical":["lzh"],"zh-cn":["zh-hans"],"zh-hant":["zh-hans"],"zh-hk":["zh-hant","zh-hans"],"zh-min-nan":["nan"],"zh-mo":["zh-hk","zh-hant","zh-hans"],"zh-my":["zh-sg","zh-hans"],"zh-sg":["zh-hans"],"zh-tw":["zh-hant","zh-hans"],"zh-yue":["yue"]})}(jQuery),function(e){"use strict";var t=function(t){this.options=e.extend({},e.i18n.parser.defaults,t),this.language=e.i18n.languages[String.locale]||e.i18n.languages.default,this.emitter=e.i18n.parser.emitter};t.prototype={constructor:t,simpleParse:function(e,t){return e.replace(/\$(\d+)/g,function(e,a){var n=parseInt(a,10)-1;return void 0!==t[n]?t[n]:"$"+a})},parse:function(t,a){return t.indexOf("{{")<0?this.simpleParse(t,a):(this.emitter.language=e.i18n.languages[e.i18n().locale]||e.i18n.languages.default,this.emitter.emit(this.ast(t),a))},ast:function(e){function t(e){return function(){var t,a;for(t=0;t<e.length;t++)if(null!==(a=e[t]()))return a;return null}}function a(e){var t,a,n=A,i=[];for(t=0;t<e.length;t++){if(null===(a=e[t]()))return A=n,null;i.push(a)}return i}function n(e,t){return function(){for(var a=A,n=[],i=t();null!==i;)n.push(i),i=t();return n.length<e?(A=a,null):n}}function i(t){var a=t.length;return function(){var n=null;return e.slice(A,A+a)===t&&(n=t,A+=a),n}}function o(t){return function(){var a=e.slice(A).match(t);return null===a?null:(A+=a[0].length,a[0])}}function r(){var e=n(1,x)();return null===e?null:e.join("")}function s(){var e=n(1,T)();return null===e?null:e.join("")}function l(){var e=a([g,v]);return null===e?null:e[1]}function d(){var e=a([m,y]);return null===e?null:["REPLACE",parseInt(e[1],10)-1]}function c(){var e,t=a([f,n(0,E)]);return null===t?null:(e=t[1],e.length>1?["CONCAT"].concat(e):e[0])}function h(){var e=a([D,b,d]);return null===e?null:[e[0],e[2]]}function u(){var e=a([D,b,E]);return null===e?null:[e[0],e[2]]}function p(){var e=a([I,N,S]);return null===e?null:e[1]}var f,b,g,v,m,y,k,C,w,x,T,N,D,I,S,P,E,B,A=0;if(f=i("|"),b=i(":"),g=i("\\"),v=o(/^./),m=i("$"),y=o(/^\d+/),k=o(/^[^{}\[\]$\\]/),C=o(/^[^{}\[\]$\\|]/),w=o(/^[^{}\[\]$\s]/),t([l,w]),x=t([l,C]),T=t([l,k]),D=function(e,t){return function(){var a=e();return null===a?null:t(a)}}(o(/^[ !"$&'()*,.\/0-9;=?@A-Z\^_`a-z~\x80-\xFF+\-]+/),function(e){return e.toString()}),N=t([function(){var e=a([t([h,u]),n(0,c)]);return null===e?null:e[0].concat(e[1])},function(){var e=a([D,n(0,c)]);return null===e?null:[e[0]].concat(e[1])}]),I=i("{{"),S=i("}}"),P=t([p,d,s]),E=t([p,d,r]),null===(B=function(){var e=n(0,P)();return null===e?null:["CONCAT"].concat(e)}())||A!==e.length)throw new Error("Parse error at position "+A.toString()+" in input: "+e);return B}},e.extend(e.i18n.parser,new t)}(jQuery),function(e){"use strict";var t=function(){this.language=e.i18n.languages[String.locale]||e.i18n.languages.default};t.prototype={constructor:t,emit:function(t,a){var n,i,o,r=this;switch(typeof t){case"string":case"number":n=t;break;case"object":if(i=e.map(t.slice(1),function(e){return r.emit(e,a)}),o=t[0].toLowerCase(),"function"!=typeof r[o])throw new Error('unknown operation "'+o+'"');n=r[o](i,a);break;case"undefined":n="";break;default:throw new Error("unexpected type in AST: "+typeof t)}return n},concat:function(t){var a="";return e.each(t,function(e,t){a+=t}),a},replace:function(e,t){var a=parseInt(e[0],10);return a<t.length?t[a]:"$"+(a+1)},plural:function(e){var t=parseFloat(this.language.convertNumber(e[0],10)),a=e.slice(1);return a.length?this.language.convertPlural(t,a):""},gender:function(e){var t=e[0],a=e.slice(1);return this.language.gender(t,a)},grammar:function(e){var t=e[0],a=e[1];return a&&t&&this.language.convertGrammar(a,t)}},e.extend(e.i18n.parser.emitter,new t)}(jQuery),function(e){"use strict";var t={pluralRules:{af:{one:"n = 1"},ak:{one:"n = 0..1"},am:{one:"i = 0 or n = 1"},ar:{zero:"n = 0",one:"n = 1",two:"n = 2",few:"n % 100 = 3..10",many:"n % 100 = 11..99"},ars:{zero:"n = 0",one:"n = 1",two:"n = 2",few:"n % 100 = 3..10",many:"n % 100 = 11..99"},as:{one:"i = 0 or n = 1"},asa:{one:"n = 1"},ast:{one:"i = 1 and v = 0"},az:{one:"n = 1"},be:{one:"n % 10 = 1 and n % 100 != 11",few:"n % 10 = 2..4 and n % 100 != 12..14",many:"n % 10 = 0 or n % 10 = 5..9 or n % 100 = 11..14"},bem:{one:"n = 1"},bez:{one:"n = 1"},bg:{one:"n = 1"},bh:{one:"n = 0..1"},bm:{},bn:{one:"i = 0 or n = 1"},bo:{},br:{one:"n % 10 = 1 and n % 100 != 11,71,91",two:"n % 10 = 2 and n % 100 != 12,72,92",few:"n % 10 = 3..4,9 and n % 100 != 10..19,70..79,90..99",many:"n != 0 and n % 1000000 = 0"},brx:{one:"n = 1"},bs:{one:"v = 0 and i % 10 = 1 and i % 100 != 11 or f % 10 = 1 and f % 100 != 11",few:"v = 0 and i % 10 = 2..4 and i % 100 != 12..14 or f % 10 = 2..4 and f % 100 != 12..14"},ca:{one:"i = 1 and v = 0"},ce:{one:"n = 1"},cgg:{one:"n = 1"},chr:{one:"n = 1"},ckb:{one:"n = 1"},cs:{one:"i = 1 and v = 0",few:"i = 2..4 and v = 0",many:"v != 0"},cy:{zero:"n = 0",one:"n = 1",two:"n = 2",few:"n = 3",many:"n = 6"},da:{one:"n = 1 or t != 0 and i = 0,1"},de:{one:"i = 1 and v = 0"},dsb:{one:"v = 0 and i % 100 = 1 or f % 100 = 1",two:"v = 0 and i % 100 = 2 or f % 100 = 2",few:"v = 0 and i % 100 = 3..4 or f % 100 = 3..4"},dv:{one:"n = 1"},dz:{},ee:{one:"n = 1"},el:{one:"n = 1"},en:{one:"i = 1 and v = 0"},eo:{one:"n = 1"},es:{one:"n = 1"},et:{one:"i = 1 and v = 0"},eu:{one:"n = 1"},fa:{one:"i = 0 or n = 1"},ff:{one:"i = 0,1"},fi:{one:"i = 1 and v = 0"},fil:{one:"v = 0 and i = 1,2,3 or v = 0 and i % 10 != 4,6,9 or v != 0 and f % 10 != 4,6,9"},fo:{one:"n = 1"},fr:{one:"i = 0,1"},fur:{one:"n = 1"},fy:{one:"i = 1 and v = 0"},ga:{one:"n = 1",two:"n = 2",few:"n = 3..6",many:"n = 7..10"},gd:{one:"n = 1,11",two:"n = 2,12",few:"n = 3..10,13..19"},gl:{one:"i = 1 and v = 0"},gsw:{one:"n = 1"},gu:{one:"i = 0 or n = 1"},guw:{one:"n = 0..1"},gv:{one:"v = 0 and i % 10 = 1",two:"v = 0 and i % 10 = 2",few:"v = 0 and i % 100 = 0,20,40,60,80",many:"v != 0"},ha:{one:"n = 1"},haw:{one:"n = 1"},he:{one:"i = 1 and v = 0",two:"i = 2 and v = 0",many:"v = 0 and n != 0..10 and n % 10 = 0"},hi:{one:"i = 0 or n = 1"},hr:{one:"v = 0 and i % 10 = 1 and i % 100 != 11 or f % 10 = 1 and f % 100 != 11",few:"v = 0 and i % 10 = 2..4 and i % 100 != 12..14 or f % 10 = 2..4 and f % 100 != 12..14"},hsb:{one:"v = 0 and i % 100 = 1 or f % 100 = 1",two:"v = 0 and i % 100 = 2 or f % 100 = 2",few:"v = 0 and i % 100 = 3..4 or f % 100 = 3..4"},hu:{one:"n = 1"},hy:{one:"i = 0,1"},id:{},ig:{},ii:{},in:{},is:{one:"t = 0 and i % 10 = 1 and i % 100 != 11 or t != 0"},it:{one:"i = 1 and v = 0"},iu:{one:"n = 1",two:"n = 2"},iw:{one:"i = 1 and v = 0",two:"i = 2 and v = 0",many:"v = 0 and n != 0..10 and n % 10 = 0"},ja:{},jbo:{},jgo:{one:"n = 1"},ji:{one:"i = 1 and v = 0"},jmc:{one:"n = 1"},jv:{},jw:{},ka:{one:"n = 1"},kab:{one:"i = 0,1"},kaj:{one:"n = 1"},kcg:{one:"n = 1"},kde:{},kea:{},kk:{one:"n = 1"},kkj:{one:"n = 1"},kl:{one:"n = 1"},km:{},kn:{one:"i = 0 or n = 1"},ko:{},ks:{one:"n = 1"},ksb:{one:"n = 1"},ksh:{zero:"n = 0",one:"n = 1"},ku:{one:"n = 1"},kw:{one:"n = 1",two:"n = 2"},ky:{one:"n = 1"},lag:{zero:"n = 0",one:"i = 0,1 and n != 0"},lb:{one:"n = 1"},lg:{one:"n = 1"},lkt:{},ln:{one:"n = 0..1"},lo:{},lt:{one:"n % 10 = 1 and n % 100 != 11..19",few:"n % 10 = 2..9 and n % 100 != 11..19",many:"f != 0"},lv:{zero:"n % 10 = 0 or n % 100 = 11..19 or v = 2 and f % 100 = 11..19",one:"n % 10 = 1 and n % 100 != 11 or v = 2 and f % 10 = 1 and f % 100 != 11 or v != 2 and f % 10 = 1"},mas:{one:"n = 1"},mg:{one:"n = 0..1"},mgo:{one:"n = 1"},mk:{one:"v = 0 and i % 10 = 1 or f % 10 = 1"},ml:{one:"n = 1"},mn:{one:"n = 1"},mo:{one:"i = 1 and v = 0",few:"v != 0 or n = 0 or n != 1 and n % 100 = 1..19"},mr:{one:"i = 0 or n = 1"},ms:{},mt:{one:"n = 1",few:"n = 0 or n % 100 = 2..10",many:"n % 100 = 11..19"},my:{},nah:{one:"n = 1"},naq:{one:"n = 1",two:"n = 2"},nb:{one:"n = 1"},nd:{one:"n = 1"},ne:{one:"n = 1"},nl:{one:"i = 1 and v = 0"},nn:{one:"n = 1"},nnh:{one:"n = 1"},no:{one:"n = 1"},nqo:{},nr:{one:"n = 1"},nso:{one:"n = 0..1"},ny:{one:"n = 1"},nyn:{one:"n = 1"},om:{one:"n = 1"},or:{one:"n = 1"},os:{one:"n = 1"},pa:{one:"n = 0..1"},pap:{one:"n = 1"},pl:{one:"i = 1 and v = 0",few:"v = 0 and i % 10 = 2..4 and i % 100 != 12..14",many:"v = 0 and i != 1 and i % 10 = 0..1 or v = 0 and i % 10 = 5..9 or v = 0 and i % 100 = 12..14"},prg:{zero:"n % 10 = 0 or n % 100 = 11..19 or v = 2 and f % 100 = 11..19",one:"n % 10 = 1 and n % 100 != 11 or v = 2 and f % 10 = 1 and f % 100 != 11 or v != 2 and f % 10 = 1"},ps:{one:"n = 1"},pt:{one:"n = 0..2 and n != 2"},"pt-PT":{one:"n = 1 and v = 0"},rm:{one:"n = 1"},ro:{one:"i = 1 and v = 0",few:"v != 0 or n = 0 or n != 1 and n % 100 = 1..19"},rof:{one:"n = 1"},root:{},ru:{one:"v = 0 and i % 10 = 1 and i % 100 != 11",few:"v = 0 and i % 10 = 2..4 and i % 100 != 12..14",many:"v = 0 and i % 10 = 0 or v = 0 and i % 10 = 5..9 or v = 0 and i % 100 = 11..14"},rwk:{one:"n = 1"},sah:{},saq:{one:"n = 1"},sdh:{one:"n = 1"},se:{one:"n = 1",two:"n = 2"},seh:{one:"n = 1"},ses:{},sg:{},sh:{one:"v = 0 and i % 10 = 1 and i % 100 != 11 or f % 10 = 1 and f % 100 != 11",few:"v = 0 and i % 10 = 2..4 and i % 100 != 12..14 or f % 10 = 2..4 and f % 100 != 12..14"},shi:{one:"i = 0 or n = 1",few:"n = 2..10"},si:{one:"n = 0,1 or i = 0 and f = 1"},sk:{one:"i = 1 and v = 0",few:"i = 2..4 and v = 0",many:"v != 0"},sl:{one:"v = 0 and i % 100 = 1",two:"v = 0 and i % 100 = 2",few:"v = 0 and i % 100 = 3..4 or v != 0"},sma:{one:"n = 1",two:"n = 2"},smi:{one:"n = 1",two:"n = 2"},smj:{one:"n = 1",two:"n = 2"},smn:{one:"n = 1",two:"n = 2"},sms:{one:"n = 1",two:"n = 2"},sn:{one:"n = 1"},so:{one:"n = 1"},sq:{one:"n = 1"},sr:{one:"v = 0 and i % 10 = 1 and i % 100 != 11 or f % 10 = 1 and f % 100 != 11",few:"v = 0 and i % 10 = 2..4 and i % 100 != 12..14 or f % 10 = 2..4 and f % 100 != 12..14"},ss:{one:"n = 1"},ssy:{one:"n = 1"},st:{one:"n = 1"},sv:{one:"i = 1 and v = 0"},sw:{one:"i = 1 and v = 0"},syr:{one:"n = 1"},ta:{one:"n = 1"},te:{one:"n = 1"},teo:{one:"n = 1"},th:{},ti:{one:"n = 0..1"},tig:{one:"n = 1"},tk:{one:"n = 1"},tl:{one:"v = 0 and i = 1,2,3 or v = 0 and i % 10 != 4,6,9 or v != 0 and f % 10 != 4,6,9"},tn:{one:"n = 1"},to:{},tr:{one:"n = 1"},ts:{one:"n = 1"},tzm:{one:"n = 0..1 or n = 11..99"},ug:{one:"n = 1"},uk:{one:"v = 0 and i % 10 = 1 and i % 100 != 11",few:"v = 0 and i % 10 = 2..4 and i % 100 != 12..14",many:"v = 0 and i % 10 = 0 or v = 0 and i % 10 = 5..9 or v = 0 and i % 100 = 11..14"},ur:{one:"i = 1 and v = 0"},uz:{one:"n = 1"},ve:{one:"n = 1"},vi:{},vo:{one:"n = 1"},vun:{one:"n = 1"},wa:{one:"n = 0..1"},wae:{one:"n = 1"},wo:{},xh:{one:"n = 1"},xog:{one:"n = 1"},yi:{one:"i = 1 and v = 0"},yo:{},yue:{},zh:{},zu:{one:"i = 0 or n = 1"}},convertPlural:function(t,a){var n,i,o,r,s=new RegExp("\\d+=","i");if(!a||0===a.length)return"";for(o=0;o<a.length;o++)if(r=a[o],s.test(r)){if(parseInt(r.slice(0,r.indexOf("=")),10)===t)return r.slice(r.indexOf("=")+1);a[o]=void 0}return a=e.map(a,function(e){if(void 0!==e)return e}),(n=this.pluralRules[e.i18n().locale])?(i=this.getPluralForm(t,n),i=Math.min(i,a.length-1),a[i]):1===t?a[0]:a[1]},getPluralForm:function(e,t){var a,n=["zero","one","two","few","many","other"],i=0;for(a=0;a<n.length;a++)if(t[n[a]]){if(pluralRuleParser(t[n[a]],e))return i;i++}return i},convertNumber:function(t,a){var n,i,o,r,s,l;if(r=this.digitTransformTable(e.i18n().locale),s=String(t),l="",!r)return t;if(a){if(parseFloat(t,10)===t)return t;n=[];for(i in r)n[r[i]]=i;r=n}for(o=0;o<s.length;o++)r[s[o]]?l+=r[s[o]]:l+=s[o];return a?parseFloat(l,10):l},convertGrammar:function(e,t){return e},gender:function(e,t){if(!t||0===t.length)return"";for(;t.length<2;)t.push(t[t.length-1]);return"male"===e?t[0]:"female"===e?t[1]:3===t.length?t[2]:t[0]},digitTransformTable:function(e){var t={ar:"٠١٢٣٤٥٦٧٨٩",fa:"۰۱۲۳۴۵۶۷۸۹",ml:"൦൧൨൩൪൫൬൭൮൯",kn:"೦೧೨೩೪೫೬೭೮೯",lo:"໐໑໒໓໔໕໖໗໘໙",or:"୦୧୨୩୪୫୬୭୮୯",kh:"០១២៣៤៥៦៧៨៩",pa:"੦੧੨੩੪੫੬੭੮੯",gu:"૦૧૨૩૪૫૬૭૮૯",hi:"०१२३४५६७८९",my:"၀၁၂၃၄၅၆၇၈၉",ta:"௦௧௨௩௪௫௬௭௮௯",te:"౦౧౨౩౪౫౬౭౮౯",th:"๐๑๒๓๔๕๖๗๘๙",bo:"༠༡༢༣༤༥༦༧༨༩"};return!!t[e]&&t[e].split("")}};e.extend(e.i18n.languages,{default:t})}(jQuery),function(){var e={"bha-choose-addApp":"Add app","bha-choose-searchPlaceholder":"Enter search keyword","bha-choose-selectAll":"Select all","bha-choose-only":"Select ","bha-choose-record":" data at most","bha-choose-select":"Selected ","bha-choose-selectedField":"Selected key","bha-choose-confirm":"Confirm","bha-choose-cancel":"Cancel","bha-buttons-wrongData":"The data format is wrong","bha-buttons-consoleDetail":"See the console for details","bha-buttons-close":"Close","bha-buttons-all":"All","bha-panel-expand":"Expand","bha-panel-collapse":"Collapse","bha-state-submission":"Personal submission","bha-state-sucess":"Submit successfully","bha-header-blueSkin":"Blue Skin","bha-header-purpleSkin":"Purple Skin","bha-header-paleBlueSkin":"Pale Blue Skin","bha-header-greenSkin":"Green Skin","bha-header-selectRole":"Select Role","bha-header-logOut":"Log Out","bha-pagination-jump":"Jump to","bha-pagination-page":"page","bha-pagination-perPage":"per page","bha-pagination-total":"total","bha-pagination-tiao":"","bha-pagination-totalRecord":" total ","bha-property-confirm":"confirm","bha-property-cancel":"cancel","bha-ticker1-customSelection":"Custom Selection","bha-ticker1-chooseMonthly":"Choose Monthly","bha-ticker1-confirm":"Confirm","bha-ticker1-year":" Year ","bha-ticker1-month":" month ","bha-ticker1-month1":"Jan","bha-ticker1-month2":"Feb","bha-ticker1-month3":"Mar","bha-ticker1-month4":"Apr","bha-ticker1-month5":"May","bha-ticker1-month6":"Jun","bha-ticker1-month7":"Jul","bha-ticker1-month8":"Aug","bha-ticker1-month9":"Sep","bha-ticker1-month10":"Oct","bha-ticker1-month11":"Nov","bha-ticker1-month12":"Dec","bha-ticker1-day":" day","bha-ticker1-Y":"Y","bha-ticker1-M":"M","bha-ticker1-D":"D","bha-ticker1-custom":"Custom","bha-ticker1-all":"All","bha-ticker1-today":"Today","bha-ticker1-currentWeek":"Current Week","bha-ticker1-lastWeek":"Last Week","bha-ticker1-currentMonth":"Current Month","bha-ticker1-lastMonth":"Last Month","bha-ticker1-currentQuarter":"Current Quarter","bha-ticker1-lastQuarter":"LastQuarter","bha-ticker1-currentYear":"Current Year","bha-ticker1-lastYear":"Last Year","bha-ticker1-last7Day":"Last 7 D","bha-ticker1-last30Day":"Last 30 D","bha-ticker1-clear":"Clear","bha-data-choosed":"Chosen ","bha-data-tiao":" data","bha-data-fold":"Fold","bha-data-expand":"Expand","bha-data-clear":"Clear","bha-column-searchWord":"Search key","bha-column-selectAll":"Select all","bha-column-nonGroupingField":"Non grouping key","bha-column-chosen":"Chosen","bha-column-addDelete":"Add / Delete Keys","bha-column-export":"Export","bha-column-save":"Save","bha-column-cancel":"Cancel","bha-column-total":"Total","bha-column-tiaoo":" ","bha-column-number":"Number ","bha-column-tiao":";","bha-column-number0":"Number 0","bha-dateArea-greater":"The start date is greater than the end date","bha-dateArea-less":"The end date is less than the start date","bha-dialog-detail":"Detail","bha-dialog-fold":"Fold","bha-dialog-close":"Close","bha-dialog-confirm":"Confirm","bha-dialog-cancel":"Cancel","bha-dialog-retry":"Retry","bha-dialog-prompt":"Prompt","bha-ticker2-customSelection":"Custom Selection","bha-ticker2-chooseMonthly":"Choose Monthly","bha-ticker2-confirm":"Confirm","bha-ticker2-year":" Year ","bha-ticker2-month":" month ","bha-ticker2-month1":"Jan","bha-ticker2-month2":"Feb","bha-ticker2-month3":"Mar","bha-ticker2-month4":"Apr","bha-ticker2-month5":"May","bha-ticker2-month6":"Jun","bha-ticker2-month7":"Jul","bha-ticker2-month8":"Aug","bha-ticker2-month9":"Sep","bha-ticker2-month10":"Oct","bha-ticker2-month11":"Nov","bha-ticker2-month12":"Dec","bha-ticker2-day":"day","bha-ticker2-Y":"Y","bha-ticker2-M":"M","bha-ticker2-D":"D","bha-ticker2-custom":"Custom","bha-ticker2-all":"All","bha-ticker2-startEmpty":"startEmpty","bha-ticker2-endEmpty":"endEmpty","bha-ticker2-today":"Today","bha-ticker2-currentWeek":"Current Week","bha-ticker2-lastWeek":"Last Week","bha-ticker2-currentMonth":"Current Month","bha-ticker2-lastMonth":"Last Month","bha-ticker2-currentQuarter":"Current Quarter","bha-ticker2-lastQuarter":"LastQuarter","bha-ticker2-currentYear":"Current Year","bha-ticker2-lastYear":"Last Year","bha-ticker2-last7Day":"Last 7 D","bha-ticker2-last30Day":"Last 30 D","bha-ticker2-clear":"Clear"};$.i18n().load(e,"en")}(),function(){var e={"bha-choose-addApp":"添加应用","bha-choose-searchPlaceholder":"输入关键字搜索","bha-choose-selectAll":"全选","bha-choose-only":"最多只能选中","bha-choose-record":"条记录","bha-choose-select":"已选中 ","bha-choose-selectedField":"已选择字段","bha-choose-confirm":"确定","bha-choose-cancel":"取消","bha-buttons-wrongData":"数据格式有误","bha-buttons-consoleDetail":"具体内容请查看控制台","bha-buttons-close":"关闭","bha-buttons-all":"全部","bha-panel-expand":"展开","bha-panel-collapse":"收起","bha-state-submission":"个人提交","bha-state-sucess":"提交成功","bha-header-blueSkin":"蓝色皮肤","bha-header-purpleSkin":"紫色皮肤","bha-header-paleBlueSkin":"淡蓝色皮肤","bha-header-greenSkin":"绿色皮肤","bha-header-selectRole":"选择角色","bha-header-logOut":"退出登录","bha-pagination-jump":"跳转至","bha-pagination-page":"页","bha-pagination-perPage":"每页显示","bha-pagination-total":"共","bha-pagination-tiao":"条","bha-pagination-totalRecord":"总记录数","bha-property-confirm":"确定","bha-property-cancel":"取消","bha-ticker1-customSelection":"自定义选择","bha-ticker1-chooseMonthly":"按月选择","bha-ticker1-confirm":"确定","bha-ticker1-year":"年","bha-ticker1-month":"月","bha-ticker1-day":"日","bha-ticker1-Y":"年","bha-ticker1-M":"月","bha-ticker1-D":"日","bha-ticker1-custom":"自定义","bha-ticker1-all":"全部","bha-ticker1-today":"今天","bha-ticker1-currentWeek":"本周","bha-ticker1-lastWeek":"上周","bha-ticker1-currentMonth":"本月","bha-ticker1-lastMonth":"上月","bha-ticker1-currentQuarter":"本季度","bha-ticker1-lastQuarter":"上季度","bha-ticker1-currentYear":"今年","bha-ticker1-lastYear":"去年","bha-ticker1-last7Day":"近7天","bha-ticker1-last30Day":"近30天","bha-ticker1-clear":"清除","bha-data-choosed":"已选择","bha-data-tiao":"条数据","bha-data-fold":"收起","bha-data-expand":"展开","bha-data-clear":"清空","bha-column-searchWord":"搜索字段","bha-column-selectAll":"全选","bha-column-nonGroupingField":"未分组字段","bha-column-chosen":"已选择","bha-column-addDelete":"添加/删除字段","bha-column-export":"导出","bha-column-save":"保存","bha-column-cancel":"取消","bha-column-total":"共","bha-column-tiaoo":"条","bha-column-number":"第","bha-column-tiao":"条","bha-column-number0":"第0条","bha-dateArea-greater":"开始日期大于结束日期","bha-dateArea-less":"结束日期小于开始日期","bha-dialog-detail":"详情","bha-dialog-fold":"收起","bha-dialog-close":"关闭","bha-dialog-confirm":"确定","bha-dialog-cancel":"取消","bha-dialog-retry":"重试","bha-dialog-prompt":"提示","bha-ticker2-customSelection":"自定义选择","bha-ticker2-chooseMonthly":"按月选择","bha-ticker2-confirm":"确定","bha-ticker2-year":"年","bha-ticker2-month":"月","bha-ticker2-day":"日","bha-ticker2-Y":"年","bha-ticker2-M":"月","bha-ticker2-D":"日","bha-ticker2-custom":"自定义","bha-ticker2-all":"全部","bha-ticker2-startEmpty":"开始时间空","bha-ticker2-endEmpty":"结束时间空","bha-ticker2-today":"今天","bha-ticker2-currentWeek":"本周","bha-ticker2-lastWeek":"上周","bha-ticker2-currentMonth":"本月","bha-ticker2-lastMonth":"上月","bha-ticker2-currentQuarter":"本季度","bha-ticker2-lastQuarter":"上季度","bha-ticker2-currentYear":"今年","bha-ticker2-lastYear":"去年","bha-ticker2-last7Day":"近7天","bha-ticker2-last30Day":"近30天","bha-ticker2-clear":"清除"};$.i18n().load(e,"zh")}(),function(){var e="zh";if(window.APP_CONFIG&&window.APP_CONFIG.USE_LANG&&(e=function(e){var t,a;return document.cookie.length>0&&-1!=(t=document.cookie.indexOf(e+"="))?(t=t+e.length+1,a=document.cookie.indexOf(";",t),-1==a&&(a=document.cookie.length),decodeURI(document.cookie.substring(t,a))):""}("EMAP_LANG")),window.WIS_I18N){WIS_I18N.i18n=$.i18n();for(var t in WIS_I18N)"i18n"!==t&&WIS_I18N.i18n.load(WIS_I18N[t],t);WIS_I18N.i18n.locale=e}else $.i18n().locale=e}(),function(){"undefined"!=typeof Waves&&(Waves.attach(".bh-btn:not(.bh-disabled):not([disabled])"),Waves.init()),$("body").on("click",'[bh-btn-role="bhSelectBtnGroup"]',function(e){var t=$(e.target||e.srcElement);t.hasClass("bh-btn")&&($(this).find(".bh-btn").removeClass("bh-active"),t.addClass("bh-active"))})}(),function(e){"use strict";function t(t){return this.each(function(){var n=e(this),i=n.data("bs.tab");i||n.data("bs.tab",i=new a(this)),"string"==typeof t&&i[t]()})}var a=function(t){this.element=e(t)};a.VERSION="3.3.4",a.TRANSITION_DURATION=150,a.prototype.show=function(){var t=this.element,a=t.closest("ul:not(.dropdown-menu)"),n=t.data("target");if(n||(n=t.attr("href"),n=n&&n.replace(/.*(?=#[^\s]*$)/,"")),!t.parent("li").hasClass("bh-active")){var i=a.find(".bh-active:last a"),o=e.Event("hide.bs.tab",{relatedTarget:t[0]}),r=e.Event("show.bs.tab",{relatedTarget:i[0]});if(i.trigger(o),t.trigger(r),!r.isDefaultPrevented()&&!o.isDefaultPrevented()){var s=e(n);this.activate(t.closest("li"),a),this.activate(s,s.parent(),function(){i.trigger({type:"hidden.bs.tab",relatedTarget:t[0]}),t.trigger({type:"shown.bs.tab",relatedTarget:i[0]})})}}},a.prototype.activate=function(t,n,i){function o(){r.removeClass("bh-active").find("> .dropdown-menu > .bh-active").removeClass("bh-active").end().find('[data-toggle="bhTab"]').attr("aria-expanded",!1),t.addClass("bh-active").find('[data-toggle="bhTab"]').attr("aria-expanded",!0),s?(t[0].offsetWidth,t.addClass("bh-in")):t.removeClass("bh-fade"),t.parent(".dropdown-menu").length&&t.closest("li.dropdown").addClass("bh-active").end().find('[data-toggle="bhTab"]').attr("aria-expanded",!0),i&&i()}var r=n.find("> .bh-active"),s=i&&e.support.transition&&(r.length&&r.hasClass("bh-fade")||!!n.find("> .bh-fade").length);r.length&&s?r.one("bsTransitionEnd",o).emulateTransitionEnd(a.TRANSITION_DURATION):o(),r.removeClass("bh-in")};var n=e.fn.tab;e.fn.tab=t,e.fn.tab.Constructor=a,e.fn.tab.noConflict=function(){return e.fn.tab=n,this};var i=function(a){a.preventDefault(),t.call(e(this),"show")};e(document).on("click.bs.tab.data-api",'[data-toggle="bhTab"]',i)}(jQuery),function(e){"use strict";e(document).on("click",".bh-table tr",function(t){if("INPUT"!=t.target.nodeName){var a=e(this),n=a.closest("table.bh-table");n.children("tbody");a.hasClass("bh-ch-active")?a.removeClass("bh-ch-active"):(n.find("tr.bh-ch-active, td.bh-ch-active").removeClass("bh-ch-active"),a.addClass("bh-ch-active"))}}).on("mouseover",".bh-table td",function(){var t=e(this);t.parent("tr").addClass("bh-ch-hover")}).on("mouseout",".bh-table td",function(){var t=e(this);t.parent("tr").removeClass("bh-ch-hover")})}(jQuery),function(){$.bhDefaults=$.bhDefaults||{},$.bhDefaults.Dialog={type:"",title:"",content:"",className:"",buttons:[{text:"确定",className:"bh-btn-primary",callback:null}],width:370,height:"auto"},$.bhDialog=function(e){var t=$("body"),a=$.extend({},$.bhDefaults.Dialog,e||{}),n={},i={_init:function(){var e=$("<div class='bh-bhdialog-container'></div>"),n=i.NewGuid();e.attr("id","dialog"+n);var o=$("<div class='bh-modal'></div>"),r=$("<div class='bh-pop bh-card bh-card-lv4 bh-dialog-con'></div>");a.width&&r.width(a.width),a.className&&r.addClass(a.className),i._createDialogIcon(r),i._createDialogBody(r,n),o.append(r),e.append(o),e.append($('<div class="bh-modal-backdrop"></div>')),t.append(e),i._checkScrollbar(),t.hasClass("bh-has-modal-body")?i.isRetainModal=!0:(i.isRetainModal=!1,t.addClass("bh-has-modal-body")),i._resetPos(r)},_resetPos:function(e){var t=document.documentElement.clientHeight,a=e.height();e.css("margin-top",(t-a)/2)},_checkScrollbar:function(){var e=window.innerWidth;if(!e){var t=document.documentElement.getBoundingClientRect();e=t.right-Math.abs(t.left)}var a=document.body.clientWidth<e,n=i._measureScrollbar();i._setScrollbar(a,n)},_setScrollbar:function(e,a){var i=parseInt(t.css("padding-right")||0,10);n.originalBodyPad=document.body.style.paddingRight||"",e&&t.css("padding-right",i+a)},_resetScrollbar:function(){t.css("padding-right",n.originalBodyPad)},_measureScrollbar:function(){var e=document.createElement("div");e.className="bh-modal-scrollbar-measure",t.append(e);var a=e.offsetWidth-e.clientWidth;return t[0].removeChild(e),a},_removeDialog:function(e){$("#dialog"+e).remove(),i._resetScrollbar(),i.isRetainModal?i.isRetainModal=!1:t.removeClass("bh-has-modal-body")},_createDialogBody:function(e,t){var n=$("<div class='bh-dialog-content'></div>"),o=$('<div class="content"></div>');o.html(i._getContent(a)),n.append(o),i._createDialogBtn(n,t),a.subContent&&($(".bh-dialog-expand",n).on("click",function(){$(this).hide(),$(".bh-dialog-subContent",n).show()}),$(".bh-dialog-collapse",n).on("click",function(){$(this).parent().hide(),$(".bh-dialog-expand",n).show()})),e.append(n),""==a.content&&(e.find(".content").css("height","80px"),e.addClass("bh-dialog-minHeight"))},_getContent:function(e){if(e.subContent){var t=e.content;return t+='<a href="javascript:void(0)" class="bh-dialog-expand bh-mh-8">详情</a>',t+='<div class="bh-dialog-subContent" style="display: none;word-break: break-all;">'+e.subContent+'<a href="javascript:void(0)" class="bh-dialog-collapse bh-mh-8">收起</a></div>'}return e.content},_createDialogBtn:function(e,t){var n=$('<div class="bh-dialog-center"></div>');if(a.buttons&&a.buttons.length>0)for(var o=a.buttons.length,r=0;r<o;r++){var s=i._createBtn(a.buttons[r],t);n.append(s)}else{var s=i._createBtn({text:"确定",className:"bh-btn-primary"},t);n.append(s)}e.append(n)},_createBtn:function(e,t){var a=$("<a style='cursor: pointer;' class='bh-btn'></a>");return e&&e.text&&a.text(e.text),e&&e.className&&a.addClass(e.className),a.click(function(){i._removeDialog(t),e.callback&&e.callback()}),a},_createDialogIcon:function(e){if(""!=a.type){var t=i._getDialogIconDom(a.type);e.append(t)}},_getDialogIconDom:function(e){var t="";return"success"==e?t="checkcircle":"warning"==e?t="error":"danger"==e&&(t="cancel"),'<div class="bh-dialog-title-con"><i class="iconfont icon-setstyle icon-'+t+" bh-dialog-icon-color"+e+'"></i><h2 class="bh-dialog-title-text">'+a.title+"</h2></div>"},NewGuid:function(){return i.S4()+i.S4()+"-"+i.S4()+"-"+i.S4()+"-"+i.S4()+"-"+i.S4()+i.S4()+i.S4()},S4:function(){return(65536*(1+Math.random())|0).toString(16).substring(1)}}
;""==a.type&&a.iconType&&(a.type=a.iconType),""!==a.content&&void 0!==a.content||(a.content=a.title,a.title="提示"),i._init()}}.call(this),function(e){"use strict";e(document).on("click",".bh-label-radio",function(t){var a=e(this),n=a.parent();if(n.attr("multiple"))a.toggleClass("bh-active");else{if(a.hasClass("bh-active"))return;a.closest(".bh-label-radio-group").find(".bh-label-radio").removeClass("bh-active"),a.addClass("bh-active")}n.trigger("change")})}(jQuery),function(e){"use strict";function t(e){var t=e.closest("[bh-form-role=bhForm]");t.length>0&&!t.hasClass("bh-form-S")&&(t.find(".bh-row").removeClass("bh-active"),e.closest(".bh-row").addClass("bh-active"))}e(document).on("click","input.bh-form-control",function(a){t(e(this))}),e(document).on("click","textarea.bh-form-control",function(a){t(e(this))}),e(document).on("click","input[type='radio']",function(a){t(e(this))}),e(document).on("click","input[type='checkbox']",function(a){t(e(this))}),e(document).on("click",".bh-row",function(t){e(this).closest(".bh-row").siblings(".bh-row").removeClass("bh-active")})}(jQuery),function(e){"use strict";e(document).on("click",function(t){var a=null,n=e(t.target||t.srcElement);"bhDropdown"===n.attr("bh-dropdown-role")?a=n:n.closest("[bh-dropdown-role=bhDropdown]").length>0&&(a=n.closest("[bh-dropdown-role=bhDropdown]")),a?a.find("[bh-dropdown-role=bhDropdownMenu]").toggleClass("bh-dropdown-open"):e("body").find("[bh-dropdown-role=bhDropdownMenu]").removeClass("bh-dropdown-open")})}(jQuery),function(e){"use strict";function t(e,t){var a=e.siblings('[bh-flex-panel-role="panel-content-wrap"]'),n=a.find('[bh-flex-panel-role="panel-content"]').outerHeight();a.height(n),t.attr("flex","true")}function a(e,t){t.find('[bh-flex-panel-role="panel-content-wrap"]').height(0),t.attr("flex","false")}e(document).on("click",'[bh-flex-panel-role="panel-title"]',function(){var n=e(this),i=n.closest('[bh-flex-panel-role="flex-panel"]');"true"===i.attr("flex")?a(n,i):t(n,i)})}(jQuery),function(e){e.bhAffix=function(t){function a(){if(i.fixedContainer.length>0){var t=e(window),a=t.scrollTop(),n=i.hostContainer.offset(),o=n.top,r=(n.left,i.header?i.header.outerHeight():0),s=i.fixedContainer.offset(),l=s.top,d=s.left,c=l-o,h=i.offset.top?parseInt(i.offset.top,10):0;if(c+=h,a>=o-h-r){var u=i.fixedContainer.data("bhAffixStyleData");if(!u){i.offset.left&&(d+=parseInt(i.offset.left,10));var p=c;i.miniHeader?p+=i.miniHeader.outerHeight():p+=r,u={left:d+"px",position:"fixed",top:p};var f=i.fixedContainer.attr("style");i.fixedContainer.data("beforeBhAffixStyle",f).data("bhAffixStyleData",u)}i.fixedContainer.css(u).data("bhAffixFlag",!0).addClass("bh-affix-fixedFlag")}else{var f=i.fixedContainer.data("beforeBhAffixStyle"),b=i.fixedContainer.data("bhAffixFlag");f||(f=""),b&&(i.fixedContainer.attr("style",f),i.fixedContainer.data("bhAffixFlag",!1).removeClass("bh-affix-fixedFlag"))}}}var n={hostContainer:"",header:e("header.bh-header"),miniHeader:e("header.bh-header-mini"),fixedContainer:"",offset:{}},i=e.extend({},n,t);i.fixedContainer.length>0&&"bhFormOutline"===i.fixedContainer.attr("bh-role-form-outline-fixed")||i.fixedContainer.length>0&&i.hostContainer.length>0&&"bhAffix"!==i.fixedContainer.attr("bh-affix-role")&&(e(window).scroll(function(){a()}),i.fixedContainer.attr("bh-affix-role","bhAffix"))}}(jQuery),function(e){function t(){return 450}function a(){return 42}function n(t){var a=o(t),n=r(t),s=i();e("body").append('<div class="bh-asideNav-container bh-animated bh-outLeft" style="display: none;" bh-aside-nav-role="bhAsideNav">'+a+n+"</div>"+s),l(),t&&void 0!==t.ready&&t.ready instanceof Function&&t.ready()}function i(){return'<div class="bh-modal-backdrop bh-animated bh-asideNav-fadeOut" style="display: none;" bh-aside-nav-role="bhAsideNavBackdrop"></div>'}function o(e){return'<div class="bh-asideNav-top"><h1>'+e.title+'</h1><div class="bh-asideNav-top-close"><i class="iconfont icon-close" bh-aside-nav-role="bhAsideNavCloseBtn"></i></div></div>'}function r(e){var t=e.data,a=t.length,n=e.iconFont,i="";if(a>0)for(var o=0;o<a;o++){var r=t[o],l=r.length;if(l>0)for(var d=!1,c=0;c<l;c++){o<a-1&&(d=c==l-1);var h=r[c],u=h.children;if(u&&u.length>0){var p="",f=u.length;if(f>0){for(var b=0;b<f;b++)p+=s(u[b],n,"child",!1);p='<ul class="bh-asideNav">'+p+"</ul>"}i+=s(h,n,"",d).replace("@childContent",p)}else i+=s(h,n,"",d)}}return i='<div class="bh-asideNav-list"><ul class="bh-asideNav">'+i+"</ul></div>"}function s(e,t,a,n){var i=e.text,o=e.icon,r=e.href,s="",l=!1;"child"===a?s="":e.children&&e.children.length>0&&(s="bh-asideNav-dropdown",l=!0),r||(r="javascript:void(0);"),n&&(s+=" bh-asideNav-splite");var d='<li class="@liClass"><a href="@href"><div><i class="@iconFont @iconName"></i>@text</div></a>@childContent</li>';return d=d.replace("@liClass",s).replace("@href",r).replace("@iconFont",t).replace("@iconName",o).replace("@text",i),l||(d=d.replace("@childContent","")),d}function l(n){var i=e("[bh-aside-nav-role=bhAsideNav]");i.on("click","[bh-aside-nav-role=bhAsideNavCloseBtn]",function(){c(n)}),e("[bh-aside-nav-role=bhAsideNavBackdrop]").on("click",function(){c(n)}),i.on("click",".bh-asideNav-dropdown > a",function(){var n=e(this).parent();if(n.hasClass("bh-asideNav-open")){var o=a();n.removeClass("bh-asideNav-open").css({height:o+"px"})}else{i.find(".bh-asideNav-dropdown").css({height:a()+"px"});var r=n.find(".bh-asideNav"),s=r.children("li"),l=s.length,d=l+1,c=a()*d;i.find(".bh-asideNav-open").removeClass("bh-asideNav-open"),n.addClass("bh-asideNav-open").css({height:c+"px"})}setTimeout(function(){e(".bh-asideNav-container").getNiceScroll().resize()},t())}),i.on("click",".bh-asideNav li>a",function(){var t=e(this).closest("li");i.find(".bh-asideNav-active").removeClass("bh-asideNav-active"),t.addClass("bh-asideNav-active"),t.hasClass("bh-asideNav-dropdown")||c(n)}),e(".bh-asideNav-container").niceScroll({cursorborder:"none",hidecursordelay:10,autohidemode:"scroll"})}function d(){var a=e("[bh-aside-nav-role=bhAsideNav]"),n=e("[bh-aside-nav-role=bhAsideNavBackdrop]");a.removeClass("bh-outLeft").addClass("bh-intoLeft").show(),n.removeClass("bh-asideNav-fadeOut").addClass("bh-asideNav-fadeIn").show(),setTimeout(function(){e(".bh-asideNav-container").getNiceScroll().resize()},t())}function c(a){var n=e("[bh-aside-nav-role=bhAsideNav]"),i=e("[bh-aside-nav-role=bhAsideNavBackdrop]");n.removeClass("bh-intoLeft").addClass("bh-outLeft"),i.removeClass("bh-asideNav-fadeIn").addClass("bh-asideNav-fadeOut"),setTimeout(function(){i.hide(),e(".bh-asideNav-container").getNiceScroll().resize(),a&&void 0!==a.hide&&a.hide instanceof Function&&a.hide()},t())}function h(){e("[bh-aside-nav-role=bhAsideNav]").remove(),e("[bh-aside-nav-role=bhAsideNavBackdrop]").remove()}e.bhAsideNav={init:function(t){var a={title:"",iconFont:"",data:[],hide:null,ready:null};t=e.extend({},a,t),n(t)},show:function(e){d()},hide:function(t){var a={hide:null};t=e.extend({},a,t),c(t)},destroy:function(e){h()}}}(jQuery),function(){var e,t,a;e=function(){function e(e,a){this.$element=$(e),void 0!==a&&(this.options=$.extend({},$.fn.bhButtonGroup.defaults,a),t(this.$element,this.options))}return e.prototype.setValue=function(e){var t;e||(t="ALL"),$(".bh-label-radio.bh-active",this.$element).removeClass("bh-active"),$(".bh-label-radio[data-id="+t+"]").addClass("bh-active")},e.prototype.getValue=function(){var e,t=$.makeArray($(".bh-label-radio.bh-active",this.$element));return t.length&&(e=t.map(function(e){return $(e).data("id")}).join(",")),"ALL"==e?"":e},e}(),t=function(e,t){if(t.multiple&&e.attr("multiple",!0),t.data&&null!=t.data&&t.data.length>0)a(t.data,e,t);else if(t.url){var n={datatype:"json",root:"datas>code>rows",datafields:[{name:"id"},{name:"name"}],id:"id",url:t.url},i=new $.jqx.dataAdapter(n,{loadComplete:function(n){var i=[];if(void 0===n.datas){BH_UTILS.bhDialogDanger({title:$.i18n("bha-buttons-wrongData"),content:$.i18n("bha-buttons-consoleDetail"),buttons:[{text:$.i18n("bha-buttons-close"),className:"bh-btn-default"}]});var o=e.data("name"),r=e.data("caption");throw console&&console.error("数据格式有误，bhButtonGroup[字段:"+o+",中文:"+r+"]期望从后台返回的结构包含：datas.code.rows,请求url："+t.url+"，实际内容如下"),n}i=n.datas.code.rows,a(i,e,t),e.trigger("bhInputInitComplete",e)}});i.dataBind()}},a=function(e,t,a){t.empty(),a.allOption&&!a.multiple&&t.append($('<div class="bh-active bh-label-radio" data-id="ALL">'+$.i18n("bha-buttons-all")+"</div>")),$(e).each(function(){var e=$('<div class="bh-label-radio"></div>');e.attr("data-id",this.id).attr("data-name",this.name).attr("title",this.name),e.text(this.name),t.append($(e))})},$.fn.bhButtonGroup=function(t){var a;return a=this.data("plugin"),a?!0===t?a:"string"===$.type(t)?(1==a&&(a=new e(this)),a[t]()):this:this.each(function(){return $(this).data("plugin",new e(this,t))})},$.fn.bhButtonGroup.defaults={allOption:!0,multiple:!1}}.call(this),function(e){function t(e,t){var n=a(e);t.html(n),s(t,e),l(t,e)}function a(e){var t=e.data,a=!1;if(t){for(var o="",s=0;s<t.length;s++){var l=t[s],d="bh-collapse";l.disabled&&(d+=" bh-collapse-disabled",l.extend=!1);var c=n(l.content),h=r(e,l.extend,a);l.extend=h.extend,h.flag&&(a=h.flag),o+=i(d,l,c)}return o}}function n(e){var t="";if(e)for(var a=0;a<e.length;a++){var n=e[a],i=n.title,r=n.content,s="",l="";void 0!==i&&(s='<div class="sc-title-borderLeft bh-mb-16">'+i+"</div>"),void 0!==r&&(l='<div class="bh-collapse-block-item-content">'+r+"</div>");var d="bh-collapse-block-item",c=n.attrs;c&&c.class&&(d+=" "+c.class,delete c.class);var h=o(c);t+='<div class="'+d+'" '+h+">"+s+l+"</div>"}return t}function i(e,t,a){var n=t.attrs;n&&n.class&&(e+=" "+n.class,delete n.class);var i=o(n);return'<div class="'+e+'" bh-collapse-extend="'+t.extend+'" '+i+'><div class="bh-collapse-header"><h3 class="bh-collapse-title">'+t.title+'</h3><div class="bh-collapse-toolbar bh-animate-transform-fast"><i class="iconfont icon-keyboardarrowright bh-collapse-icon"></i></div></div><div class="bh-collapse-block bh-collapse-animate-fast"><div class="bh-collapse-content">'+a+"</div></div></div>"}function o(e){var t="";if("object"==typeof e)for(var a in e){var n=e[a];n&&(t+=" "+a+"="+n)}return t}function r(e,t,a){var n=a,i=t;return"multiple"===e.model?void 0===i&&(i=!!e.extend):void 0===i?i=!1:i&&(a?i=!1:n=!0),{extend:i,flag:n}}function s(t,a){t.find(".bh-collapse-block").each(function(){var t=e(this),a=t.find(".bh-collapse-content").outerHeight(),n=t.closest(".bh-collapse").find(".bh-collapse-toolbar");"true"===t.closest(".bh-collapse").attr("bh-collapse-extend")?(n.addClass("bh-collapse-rotate-90"),t.css({height:a}).closest(".bh-collapse").addClass("bh-card bh-card-lv2 active")):t.css({height:0})}),void 0!==a.ready&&a.ready instanceof Function&&a.ready()}function l(t,a){t.off("click",".bh-collapse-header").on("click",".bh-collapse-header",function(n){n=n||window.event;var i=n.target||n.srcElement,o=e(i),r=o.closest(".bh-collapse").find(".bh-collapse-block");o.closest(".bh-collapse-disabled").length||("true"!==o.closest(".bh-collapse").attr("bh-collapse-extend")?"single"===a.model?d(t,r,a):u(r,a):p(r,a))})}function d(e,t,a){c(e)?(p(h(e),a),setTimeout(function(){u(t,a)},250)):u(t,a)}function c(e){var t=!1,a=e.find(".active");return a.length>0&&a.find(".bh-collapse-block").is(":visible")&&(t=!0),t}function h(t){var a;return t.find(".bh-collapse-block").each(function(t,n){if(e(n).is(":visible"))return a=e(n),!1}),a}function u(e,t){var a=e.closest(".bh-collapse");a.addClass("bh-card bh-card-lv2 active").attr("bh-collapse-extend","true"),a.find(".bh-collapse-toolbar").removeClass("bh-collapse-rotate-0").addClass("bh-collapse-rotate-90");var n=e.find(".bh-collapse-content").outerHeight();setTimeout(function(){e.css({height:n})},50);for(var i={},o=a[0].attributes,r=o.length,s=0;s<r;s++){var l=o[s],d=l.name,c=l.value;d&&"bh-collapse-extend"!=d&&(i[d]=c)}var h={node:a,attrs:i};t&&t.nodeExtend&&setTimeout(function(){t.nodeExtend(h)},250)}function p(e,t){var a=e.closest(".bh-collapse");e.css({height:0});var n={node:a};a.find(".bh-collapse-toolbar").removeClass("bh-collapse-rotate-90").addClass("bh-collapse-rotate-0"),setTimeout(function(){a.removeClass("bh-card bh-card-lv2 active").attr("bh-collapse-extend","false"),t&&t.nodeCollapse&&t.nodeCollapse(n)},250)}var f;e.fn.bhCollapse=function(t,a){var n;return n=this.data("bhCollapse"),n?!0===t?n:"string"===e.type(t)?n[t](a):this:this.each(function(){return e(this).data("bhCollapse",new f(this,t))})},e.fn.bhCollapse.defaults={model:"single",extend:!1,data:[],nodeExtend:null,nodeCollapse:null,ready:null},f=function(){function a(a,n){this.settings=e.extend({},e.fn.bhCollapse.defaults,n),this.$element=e(a),t(this.settings,this.$element)}return a.prototype.refreshLayout=function(){this.$element.find(".active .bh-collapse-block").each(function(){var t=e(this),a=t.find(".bh-collapse-content").outerHeight();setTimeout(function(){t.css({height:a})},50)})},a}()}(jQuery),function(e){function t(t,i){var o=i.html(),r=n(t);i.html(r);var s=e(".bh-collapsible-panel-content",i);s.append(o),i.show(),s.data("height",s.outerHeight()),s.css("height",0).hide(),a(i,t)}function a(t,a){function n(t){t=t||window.event;var n=t.target||t.srcElement;if("switch"==e(n).attr("bh-collapsible-panel-flag"))"expand"==e(n).attr("bh-collapsible-panel-role")?o(e(n),a):i(e(n),a);else if(e(n).hasClass("bh-collapsible-panel")){var r=e(n).find('[bh-collapsible-panel-flag="switch"]');"expand"==r.attr("bh-collapsible-panel-role")&&o(r,a)}else if(0==e(n).closest(".bh-collapsible-panel-toolbar").length){var s=e(n).closest(".bh-collapsible-panel"),r=s.find('[bh-collapsible-panel-flag="switch"]');"expand"==r.attr("bh-collapsible-panel-role")&&o(r,a)}}t.on("click",".bh-collapsible-panel [bh-collapsible-panel-flag]",function(e){n(e),e.stopPropagation()}),t.on("click",".bh-collapsible-panel",function(e){null!==a.click?a.click(t):n(e)})}function n(t){var a="bh-collapsible-panel";return t.hasBorder&&(a+=" has-border"),'<div class="'+a+'"><h3 class="bh-collapsible-panel-title">'+t.title+"</h3>"+t.tag+'<div class="bh-text-caption bh-caption-default">'+t.caption+'</div><div class="bh-collapsible-panel-toolbar">'+t.toolbar+'<a href="javascript:void(0);" class="bh-btn-link" bh-collapsible-panel-flag="switch" bh-collapsible-panel-role="expand">'+e.i18n("bha-panel-expand")+'</a></div><div class="bh-collapsible-panel-content bh-collapsible-panel-animate"></div></div>'}function i(t,a){a&&a.beforeCollapse&&a.beforeCollapse(t);var n=e(t).closest(".bh-collapsible-panel").find(".bh-collapsible-panel-content");n.css({height:0});var i=n.parent();setTimeout(function(){n.hide(),i.removeClass("bh-card bh-card-lv2")},450);var o=i.find("[bh-collapsible-panel-flag='switch']");o.text(e.i18n("bha-panel-expand")),o.attr("bh-collapsible-panel-role","expand"),a&&a.afterCollapse&&setTimeout(function(){a.afterCollapse(t)},450)}function o(t,a){a&&a.beforeExpand&&a.beforeExpand(t);var n=e(t).closest(".bh-collapsible-panel").find(".bh-collapsible-panel-content");n.parent().addClass("bh-card bh-card-lv2");var i=n.data("height");n.show(),setTimeout(function(){n.css({height:i})},1),e(t).text(e.i18n("bha-panel-collapse")),e(t).attr("bh-collapsible-panel-role","collapse"),a&&a.afterExpand&&setTimeout(function(){a.afterExpand(t)},450)}var r;r=function(){function a(a,n){this.settings=e.extend({},e.fn.bhCollapsiblePanel.defaults,n),this.$element=e(a),t(this.settings,this.$element)}return a.prototype.expandPanel=function(){o(this.$element.find('[bh-collapsible-panel-flag="switch"]'),this.settings)},a.prototype.collapsePanel=function(){i(this.$element.find('[bh-collapsible-panel-flag="switch"]'),this.settings)},a}(),e.fn.bhCollapsiblePanel=function(t,a){var n;return(n=this.data("bhCollapsiblePanel"))?!0===t?n:("string"===e.type(t)&&n[t](a),this):this.each(function(){return e(this).data("bhCollapsiblePanel",new r(this,t))})},e.fn.bhCollapsiblePanel.defaults={title:"",tag:"",caption:"",toolbar:"",hasBorder:!0,beforeExpand:null,afterExpand:null,beforeCollapse:null,afterCollapse:null,click:null}}(jQuery),function(e){"use strict";e.bhCutStr=function(t){function a(e,t,i){var o=i.substring(0,t),r=i.substring(t,i.length),s=n(o),l="";if(s>0&&s<e){var d=e-s;if(d>h.chineseFontSize){l=a(d,parseInt(d/h.chineseFontSize,10),r)}}return o+l}function n(e){var t=e.match(/[^\x00-\xff]/g),a=t?t.length:0,n=e.match(/[A-Z@]/g),i=n?n.length:0,o=e.length-a-i;return(a+i)*h.chineseFontSize+o*h.lowerEnFontSize}function i(t,a){switch(a.moreBtn.showType){case"expand":t.on("click",function(){var t=e(this);l(t.attr("data-type"),t)});break;default:t.on("mouseover",function(){var a=t.attr("data-full-str"),n=t.attr("data-guid"),i=e("#"+n);if(i.length>0)return void i.addClass("bh-active").data("flag","show");var o=t.parent(),r=o.width();s(t,r,a,n)}),t.on("mouseout",function(){var a=t.attr("data-guid");r(e("#"+a))})}}function o(e){e.on("mouseover",function(){e.data("flag","show")}),e.on("mouseout",function(){r(e)})}function r(e){e.data("flag","hide"),setTimeout(function(){"hide"===e.data("flag")&&(e.removeClass("bh-active"),setTimeout(function(){e.remove()},250))},150)}function s(t,a,n,i){var r=BH_UTILS.getElementPosition(t),s=window.innerHeight,l=parseInt(s/2,10),d=window.scrollY,c='<div data-flag="content">'+n+"</div>",h='<div id="'+i+'" style="width: '+a+'px;" class="bh-cutStr-popBox bh-card bh-card-lv2 bh-animate-transform-fast bh-animate-scale">'+c+"</div>",u=e(h);e("body").append(u);var p={left:r.right-a+"px",top:r.bottom+"px"},f="bh-animate-origin-TR",b=u.outerHeight(),g=0,v=0;r.top-d>l?(v=r.top-d-e('header[bh-header-role="bhHeader"]').outerHeight()-8,f="bh-animate-origin-BR",g=v>b?b:v,p.top=r.top-g+"px"):(v=s+d-r.bottom-e('footer[class="bh-footer"]').outerHeight()-8,g=v>b?b:v),p["max-height"]=g+"px",u.css(p).addClass(f),setTimeout(function(){u.addClass("bh-active")},10),o(u)}function l(t,a){var n=a.parent(),t=a.attr("data-type"),i=a.prev(),o="",r="",s="";"collapse"===t?(o=a.attr("data-full-str"),r=a.attr("collapse-text"),a.attr("data-type","expand"),s="auto"):(o=a.attr("data-short-str"),r=a.attr("expand-text"),a.attr("data-type","collapse"),s=n.attr("bh-cut-str-min-height")+"px"),i.html(o),a.html(r),n.css({height:s}),setTimeout(function(){e(".bh-paper-pile-dialog").length>0&&(e.bhPaperPileDialog.resetPageFooter(),e.bhPaperPileDialog.resetDialogFooter())},255)}function d(e){var t=e.outerHeight(),a=e.clone();a.css({display:"none"});var n=a.find('[bh-cut-str-role="bhCutStr"]'),i=a.find('[bh-cut-str-role="content"]'),o=n.attr("data-full-str"),r=n.attr("collapse-text");i.html(o),n.html(r),e.append(a).addClass("bh-collapse-animate-fast").css({overflow:"hidden"});var s=a.outerHeight();e.attr("bh-cut-str-min-height",t).attr("bh-cut-str-max-height",s).css({height:t+"px"}),a.remove()}var c={dom:{selector:"",line:0,content:""},text:{content:"",number:0},moreBtn:{content:"",expandContent:"",url:"",isOpenNewPage:!0,showType:"",compact:!1}},h=e.extend({},c,t);return function(t){var o=t.dom?t.dom.selector:"";if(!(o.length>0)){var r=e.trim(t.text.content),s=r;r.length>t.text.number&&(s=r.substring(0,t.text.number)+"...");var l="javascript:void(0);",c='target="blank"',h="",u="";return t.moreBtn&&(l=t.moreBtn.url&&0!==t.moreBtn.url.length?t.moreBtn.url:"javascript:void(0);",l=e.trim(l),c=t.moreBtn.isOpenNewPage?"":'target="blank"',u=t.moreBtn.content?t.moreBtn.content:"",h=l.indexOf("javascript:void(0)")>-1||l.indexOf("javascript:;")>-1?'<span href="'+l+'" class="bh-cut-str-more" bh-cut-str-role="bhCutStr" '+c+' data-full-str="'+r+'">'+u+"</span>":'<a href="'+l+'" class="bh-cut-str-more" bh-cut-str-role="bhCutStr" '+c+' data-full-str="'+r+'">'+u+"</a>"),s+=h}var p=o.css("display");o.css("display","block"),o.each(function(){var o=BH_UTILS.NewGuid(),r=e(this);r.append('<div id="'+o+'"><div id="chinese-'+o+'" style="display: none;position: absolute;">是</div><div id="lower-english-'+o+'" style="display: none;position: absolute;">w</div></div>');var s=r.find("#"+o);t.chineseFontSize=s.find("#chinese-"+o).width(),t.lowerEnFontSize=s.find("#lower-english-"+o).width(),s.remove();var l=r.width(),c=t.dom.content?e.trim(t.dom.content):e.trim(r.text());if(!(c.length<=parseInt(l*t.dom.line/t.chineseFontSize,10))){var h=t.moreBtn.content?t.moreBtn.content:"",u=t.moreBtn.expandContent?t.moreBtn.expandContent:"",p=h?n(h):0,f=t.chineseFontSize,b=l*t.dom.line-p-f-t.chineseFontSize,g=parseInt(b/t.chineseFontSize,10),v=a(b,g,c);v+="...";var m="javascript:void(0);",y='target="_blank"',k="";if(t.moreBtn){m=t.moreBtn.url&&0!==t.moreBtn.url.length?t.moreBtn.url:"javascript:void(0);",m=e.trim(m),y=t.moreBtn.isOpenNewPage?"":'target="blank"';var C="";t.moreBtn.showType&&t.moreBtn.compact&&(C="bh-cut-str-compact"),v=v.replace("<","&lt;"),v=v.replace(">","&gt;"),v=v.replace('"',"&quot;"),c=c.replace("<","&lt;"),c=c.replace(">","&gt;"),c=c.replace('"',"&quot;"),k=m.indexOf("javascript:void(0)")>-1||m.indexOf("javascript:;")>-1?'<span href="'+m+'" class="bh-cut-str-more '+C+'" bh-cut-str-role="bhCutStr" '+y+' data-guid="'+o+'" data-short-str="'+v+'" data-full-str="'+c+'" data-type="collapse" expand-text="'+h+'" collapse-text="'+u+'">'+h+"</span>":'<a href="'+m+'" class="bh-cut-str-more '+C+'" bh-cut-str-role="bhCutStr" '+y+' data-guid="'+o+'" data-short-str="'+v+'" data-full-str="'+c+'" data-type="collapse" expand-text="'+h+'" collapse-text="'+u+'">'+h+"</a>"}r.html('<span bh-cut-str-role="content" style="word-wrap: break-word;">'+v+"</span>"+k),k&&(i(r.find('[bh-cut-str-role="bhCutStr"]'),t),d(r))}}),o.css("display",p)}(h)}}(jQuery),function(e){function t(t,n){this.options=e.extend(!0,e.fn.bhDataBar.defaults,n),this.options.isTop&&(this.options.topElement.length||(this.options.topElement=e('header[bh-header-role="bhHeaderMini"]')),this.options.containElement||(this.options.containElement=e("main>article"))),this.$element=e(t),a(this)}function a(t){var a=t.$element,i='<div class="bh-border bh-bColor-info-3 bh-ph-16 bh-data-bar" style="position:relative">   <div class="bh-data-bar-tip bh-color-white">0</div>   <div class="bh-mb-8 bh-data-bar-tool">       <span class="bh-mr-32">'+e.i18n("bha-data-choosed")+'<span data-type="number"></span>'+e.i18n("bha-data-tiao")+'</span>       <span>           <a href="javascript:void 0" data-type="togglecontent"><i class="iconfont icon-keyboardarrowup"></i><span>'+e.i18n("bha-data-fold")+'</span></a>           <span class="bh-ph-4">|</span>           <a href="javascript:void 0" data-type="clear"><i class="iconfont icon-delete"></i>'+e.i18n("bha-data-clear")+'</a>       </span>   </div>   <div class="bh-data-bar-container bh-clearfix"></div></div>';a.html(i),n(t),s(t)}function n(e){var t=r(e.options,e.options.datas);e.$element.find('[data-type="number"]').text(e.options.datas.length),e.$element.find(".bh-data-bar-container").html(t),i(e)}function i(e){if(0===e.$element.find(".bh-data-bar-tag").length)return void e.$element.find('a[data-type="togglecontent"]').hide().next().hide();var t=e.$element.find(".bh-data-bar-container");t.height()===t.find(".bh-data-bar-tag").outerHeight(!0)?e.$element.find('a[data-type="togglecontent"]').hide().next().hide():e.$element.find('a[data-type="togglecontent"]').show().next().show()}function o(t,a,n){var o="add"===n?"bh-bg-primary":"bh-bg-danger",r="add"===n?"+":"-",s="fixed"===t.$element.find(".bh-data-bar").css("position"),l=s?30:-16,d=s?15:0;t.$element.find(".bh-data-bar-tip").css("top",d).addClass(o).text(r+a).show().stop().animate({top:l},500,function(){e(this).animate({top:l},1e3,function(){e(this).css("top",d).hide()})}),t.$element.find('[data-type="number"]').text(t.options.datas.length),i(t)}function r(t,a){if(0!==a.length){var n=t.tagsRenderer;e.isFunction(n)||(n=function(e){return e[i]});var i=t.displayMember,o=t.valueMember,r=a.map(function(e){return'<div class="bh-data-bar-tag">   <span class="content">       <span class="name">'+n(e)+'</span>       <i class="iconfont icon-clear" data-value="'+e[o]+'"></i>   </span></div>'}).join(""),s=e(r);return s.each(function(t){e(this).data("member",a[t])}),s}}function s(t){var a=t.$element;if(a.on("click",'a[data-type="togglecontent"]',function(t){var a=e(t.target).closest('a[data-type="togglecontent"]').find("i"),n=e(t.delegateTarget).find(".bh-data-bar-container");if(a.hasClass("icon-keyboardarrowup")){a.removeClass("icon-keyboardarrowup").addClass("icon-keyboardarrowdown"),a.next().text(e.i18n("bha-data-expand"));var i=n.find(".bh-data-bar-tag").outerHeight(!0);n.animate({height:i},200)}else a.removeClass("icon-keyboardarrowdown").addClass("icon-keyboardarrowup"),a.next().text(e.i18n("bha-data-fold")),n.css({height:"initial"})}),a.on("click",'a[data-type="clear"]',function(t){e(t.delegateTarget).find(".bh-data-bar-container").empty(),d(e(t.delegateTarget))}),a.on("click",".bh-data-bar-container i.icon-clear",function(t){var a=e(t.target).closest(".bh-data-bar-tag").data("member");l(e(t.delegateTarget),[a])}),t.options.isTop&&t.options.containElement.length){var n=t.options.topElement,i=t.options.containElement;e(window).scroll(function(){if(a&&a.length){var t=a.find(".bh-data-bar"),o=e(this).scrollTop(),r=i.offset(),s=n.height();if("fixed"===t.css("position")){var l=t.parent();l.length&&l.offset().top-o>s&&(l.css("height","initial"),t.removeClass("bh-card bh-card-lv1").css({position:"relative",top:0,left:0,width:"initial","z-index":0}))}else{t.offset().top-o<s&&(t.parent().height(t.outerHeight()),t.addClass("bh-card bh-card-lv1").css({position:"fixed",top:s,left:r.left,width:i.width(),"z-index":9999}))}}}),e(window).resize(function(){if(a&&a.length){var e=a.find(".bh-data-bar");"fixed"===e.css("position")&&e.css("width",i.width())}})}}function l(e,t){var a=e.bhDataBar(!0),n=a.options.datas,r=e.find(".bh-data-bar-container");t.forEach(function(e){var t=n.indexOf(e);t>-1&&(n.splice(t,1),r.find(".bh-data-bar-tag").eq(t).remove())}),i(a),o(a,t.length,"delete"),e.trigger({type:"change",action:"delete",changedDatas:t,currentDatas:n})}function d(t){var a=t.bhDataBar(!0),n=a.options.datas.length,r=e.extend([],a.options.datas);a.options.datas.length=0,i(a),o(a,n,"delete"),t.trigger({type:"change",action:"clear",changedDatas:r,currentDatas:a.options.datas})}t.prototype.getValue=function(){return this.options.datas},t.prototype.setValue=function(e){this.options.datas=e,n(this),this.$element.trigger({type:"change",action:"setValue",changedDatas:e,currentDatas:e})},t.prototype.clear=function(){d(this.$element)},t.prototype.addDatas=function(e){this.options.datas.push.apply(this.options.datas,e);var t=r(this.options,e);this.$element.find(".bh-data-bar-container").append(t),o(this,t.length,"add"),this.$element.trigger({type:"change",action:"add",changedDatas:e,currentDatas:this.options.datas})},t.prototype.deleteDatas=function(t){var a=this.options.valueMember,n=this.options.datas,i=n.filter(function(n){var i=!1;return e.each(t,function(e,t){if(t===n||t===n[a]||t[a]===n[a])return i=!0,!1}),i});l(this.$element,i)},e.fn.bhDataBar=function(a,n){var i;return i=this.data("bhDataBar"),!0===a?i:i?"string"===e.type(a)?i[a](n):this:this.each(function(){return e(this).data("bhDataBar",new t(this,a))})},e.fn.bhDataBar.defaults={datas:[],displayMember:"",valueMember:"",isTop:!0,topElement:"",containElement:"",tagsRenderer:null}}(jQuery),function(e){function t(t,n){this.options=e.extend({},e.fn.flowState.defaultOptions,n),this.$element=e(t),i(this.options,this.$element),u(this.options,this.$element),a(this.options)}function a(e){for(var t=e.flowStateData.length,a=0;a<t;a++)n(e.flowStateData[a],a,t)}function n(t,a,n){var i=0,o=e(".bh-flowState-box")[a];0===a?i=96:a===n-1&&(i=-96),e(o).jqxTooltip("destroy"),t.isShowPop&&(e(o).jqxTooltip({position:"bottom",autoHide:!1,top:10,left:i,showArrow:!1,closeOnClick:!1,content:t.popHtml}),e(".jqx-tooltip-main").css({"background-color":"#ffffff","box-shadow":"0 4px 20px #bbb"}),e(o).on("mouseout",function(){e(o).jqxTooltip("close")}))}function i(e,t){var a=h(e),n=o(a),i='<div class="bh-flowState bh-clearfix">'+n+"</div>";t.html(i)}function o(e){if(e){var t=e.length,a="";if(0!==t)for(var n=0;n<t;n++)a+=r(e,n+1,t);return a}}function r(e,t,a){var n=e[t-1],i=e[t-2],o=a-1,r=s(n),d=l(n),c=[];return 1===t?c.push("bh-flowState-hideLeft"):t===a&&c.push("bh-flowState-hideRight"),i&&"success"===i.status&&c.push("bh-flowState-prev-success"),'<div class="bh-flowState-box '+c.join(" ")+'"><div class="bh-flowState-num-circle '+r+'">'+t+'</div><div class="bh-flowState-word"><div class="bh-flowState-detail">'+n.content+'</div><a class="bh-flowState-status '+r+'">'+n.statusDescription+'</a></div></div><div class="bh-flowState-line '+d+' " style="width:calc((100% - 96*'+a+"px) / "+o+')"></div>'}function s(e){return{success:"bh-flowState-success",fail:"bh-flowState-fail",operation:"bh-flowState-operation"}[e.status||e.resetStatus]}function l(e){return{success:"bh-flowState-line-succes"}[e.status||e.resetStatus]}function d(e){var t="";return e.hasClass("bh-flowState-success")?t="bh-flowState-success":e.hasClass("bh-flowState-fail")?t="bh-flowState-fail":e.hasClass("bh-flowState-operation")&&(t="bh-flowState-operation"),t}function c(e){var t="";return e.hasClass("bh-flowState-line-succes")&&(t="bh-flowState-line-succes"),t}function h(e){return e.flowStateData}function u(e,t){t.css("width",e.width),t.find(".bh-flowState-line:last").css("width","0")}function p(t,a){var i=t.index-1,o=a.$element.find(".bh-flowState-box"),r=a.$element.find(".bh-flowState-num-circle"),h=a.$element.find(".bh-flowState-status"),u=a.$element.find(".bh-flowState-line"),p=s(t),f=l(t),b=d(e(r[i])),g=c(e(u[i]));e(h[i]).text(t.resetStatusDecription),"success"===t.resetStatus?e(o[i+1]).addClass("bh-flowState-prev-success"):e(o[i+1]).removeClass("bh-flowState-prev-success"),e(r[i]).removeClass(b),e(h[i]).removeClass(b),e(u[i]).removeClass(g),e(r[i]).addClass(p),e(h[i]).addClass(p),e(u[i]).addClass(f),n(t,i,r.length)}function f(a,n){var i;return(i=this.data("flowState"))?!0===a?i:("string"===e.type(a)&&i[a](n),this):this.each(function(){return e(this).data("flowState",new t(this,a))})}e.fn.flowState=f,e.fn.flowState.defaultOptions={width:"100%",flowStateData:[{id:"1",content:"个人提交",status:"success",statusDescription:"提交成功",popHtml:"",isShowPop:!1}]},t.prototype={resetFlowStatus:function(t){t=e.extend({},{index:NaN,resetStatus:"success",resetStatusDecription:"成功",isShowPop:!1,popHtml:""},t),p(t,this)}}}(jQuery),function(e){function t(e,t){var n=a(e);t.html(n).attr("bh-footer-role","footer").addClass("bh-footer")}function a(e){return'<div class="bh-footer-content">'+e.text+"</div>"}var n;n=function(){function a(a,n){this.settings=e.extend({},e.fn.bhHeader.defaults,n),this.$element=e(a),t(this.settings,this.$element)}return a}(),e.fn.bhFooter=function(e){return this.each(function(){return new n(this,e)})},e.fn.bhFooter.defaults={text:""}}(jQuery),function(e){function t(){setTimeout(function(){var t=e("[bh-footer-affix-role=bhFooterAffix]");if(t.length>0){var a=t.parent(),i=s(a);i.articleHeight+i.articleOffset.top<=i.windowHeight?n(a):o(a)}},50)}function a(e){o(e),n(e)}function n(e){var t=s(e),a=e.find("div[bh-footer-affix-role=bhFooterAffix]"),n=o(e,"get");a.attr("bh-footer-affix-fixed",n),t.articleHeight+t.articleOffset.top<=t.windowHeight&&i(a)}function i(t){if(0!==t.contents().length){var a=t.parent(),n="",i=0;a.children().each(function(){var t=e(this);if("nav"===t[0].localName&&(n="navLeft"),"navLeft"===n){var a=0;t.children().each(function(){a+=e(this).outerHeight()}),a>i&&(i=a)}else{var o=t.outerHeight();"bhFooterAffix"==t.attr("bh-footer-affix-role")&&(o=0),i+=o}});var o=parseInt(a.css("padding-bottom"),10);o=o||0;var r=parseInt(a.css("min-height"),10);r=r||0,i+o<r?(t.removeAttr("style"),t.css({top:i+"px",bottom:"initial","background-color":"transparent"}).removeClass("bh-card bh-card-lv1")):t.css({left:0,bottom:0,position:"absolute"}),t.show()}}function o(e,t){var a="",n=e.find("div[bh-footer-affix-role=bhFooterAffix]");if(n[0]){var i=e.outerWidth(),o=s(e),r=o.articleHeight+o.footerHeight+o.bodyHeaderHeight;l(n,o.divFooterHeight),
a="left:"+o.articleOffset.left+"px;width:"+i+"px;position:fixed;bottom:0;top:initial;display:block;z-index:1000;","get"!==t&&(r<=o.windowHeight?n.css({left:o.articleOffset.left+"px",bottom:0,position:"absolute","background-color":"transparent"}).removeClass("bh-card bh-card-lv1"):n.css({left:o.articleOffset.left+"px",width:i+"px",position:"fixed",bottom:0,top:"inherit",display:"block","z-index":1e3,"background-color":"#fff"}))}return a}function r(e){var t=s(e),a=e.find("div[bh-footer-affix-role=bhFooterAffix]");if(t.windowHeight+t.scrollTop>=t.bodyHeight-32)i(a);else{var n=a.attr("bh-footer-affix-fixed");t.articleHeight+t.footerHeight+t.bodyHeaderHeight<=t.windowHeight?a.css({left:0,bottom:0,position:"absolute","background-color":"transparent"}).removeClass("bh-card bh-card-lv1"):a.attr("style",n)}}function s(t){var a={},n=e(window),i=e("body"),o=n.scrollTop(),r=n.height(),s=0;window.navigator.userAgent;s=window.ActiveXObject||"ActiveXObject"in window?document.documentElement.scrollHeight:i.get(0).scrollHeight;var l=e("[bh-footer-role=footer]").outerHeight(),d=e("body header header").outerHeight();if(t){var c=t.outerHeight(),h=t.offset(),u=0,p=t.find("div[bh-footer-affix-role=bhFooterAffix]");p.length>0&&(u=p.outerHeight(!0)),a.articleHeight=c,a.articleOffset=h,a.divFooterHeight=u}return a.windowHeight=r,a.scrollTop=o,a.bodyHeight=s,a.footerHeight=l,a.bodyHeaderHeight=d,a}function l(e,t){e.parent().css({"padding-bottom":t})}e.bhFooterAffix=function(){var t=e("body main [bh-role=bhFooterAffix]").first();if(t[0]){var n=t.parent();if("bhFooterAffix"===n.attr("bh-footer-affix-role"))return;t.wrap('<div bh-footer-affix-role="bhFooterAffix" class="bh-footer-affix bh-card bh-card-lv1"></div>');var i=e("[bh-paper-pile-dialog-role=bhPaperPileDialog]")[0],o=e("[bh-property-dialog-role=bhPropertyDialog]")[0],s=e("[role=dialog]").filter(function(){return e(this).hasClass(".jqx-window")&&"none"!==e(this).css("display")})[0];e(window).scroll(function(e){i||o||s||r(n)}),a(n)}},e.bhFooterAffix.resetPosition=function(){t()}}(jQuery),function(e){function t(t){var n=t.insertContainer?t.insertContainer.attr("bh-form-outline-role-form-guid"):"";if(n)return void e("div[bh-form-outline-role-outline-guid="+n+"]").removeClass("bh-fadeOut").addClass("bh-fadeIn").show();n=p();var i=s(),o=l(),r=[];t.outlineContainer||(t.outlineContainer=t.insertContainer),t.outlineContainer.find("[bh-role-form-outline=title]").each(function(){var t=p(),a=e(this);if(!u(a)){var n=a.text();a.attr("bh-role-form-outline-item-title-guid",t),r.push({title:n,guid:t})}});var f=0;t.outlineContainer.find("[bh-role-form-outline=container]").each(function(t){var a=e(this);if(!u(a)){var n=r[f].guid;a.attr("bh-role-form-outline-item-guid",n);var i={};i.editBoxCount=0,i.enterEditBoxCount=0,i=h(a,"input",i),i=h(a,"textarea",i),i=h(a,"select",i),i=h(a,"tree",i),r[f].statistics=i,f++}});var b="",g=r.length;if(g>0)for(var v=0;v<g;v++){var m=r[v],y="";0===v&&(y="bh-active");var k=m.statistics,C="",w="";k&&k.editBoxCount&&t.statistics&&(C=k.enterEditBoxCount+"/"+k.editBoxCount,w=k.enterEditBoxCount===k.editBoxCount?"bh-success":""),b+=o.replace("@active",y).replace("@index",v+1).replace("@text",m.title).replace("@success",w).replace("@count",C).replace("@guid",m.guid)}var x="";if(t.offset){var T=t.offset;(0===T.left||T.left)&&(x+="left:"+T.left+"px;"),(0===T.right||T.right)&&(x+="right:"+T.right+"px;"),(0===T.top||T.top)&&(x+="top:"+T.top+"px;"),(0===T.bottom||T.bottom)&&(x+="bottom:"+T.bottom+"px;")}i=i.replace("@content",b).replace("@style",x).replace("@outlineGuid",n).replace("@customClass",t.customClass);var N="bhFormOutline_hide_"+p(),D=e(i);D.append('<div id="'+N+'" style="display: none;" class="bh-form-outline-itemText"></div>'),t.width&&D.css({width:t.width}),t.className&&D.addClass(t.className),t.insertContainer.append(D).attr("bh-form-outline-role-form-guid",n);var I=e("#"+N);D.find(".bh-form-outline-itemText").each(function(){var t=e(this),a=t.width(),n=t.text();I.html(n),I.width()>a&&t.attr("title",n)}),t.statistics&&(t.outlineContainer.on({keydown:function(e){setTimeout(function(){d(e)},50)},click:function(e){d(e)}}),t.outlineContainer.find(".jqx-dropdownlist-state-normal").each(function(){var t=e(this);t.on("select",function(e){c(t.closest("[bh-role-form-outline=container]"))})}),t.outlineContainer.find(".jqx-datetimeinput").each(function(){var t=e(this);t.on("valueChanged",function(e){c(t.closest("[bh-role-form-outline=container]"))})}),t.outlineContainer.find(".jqx-combobox").each(function(){var t=e(this);t.on("change",function(e){setTimeout(function(){c(t.closest("[bh-role-form-outline=container]"))},50)})}),t.outlineContainer.find("[xtype=uploadfile],[xtype='uploadsingleimage'],[xtype='uploadmuiltimage']").each(function(){var t=e(this);t.on("bh.file.upload.done",function(e){setTimeout(function(){c(t.closest("[bh-role-form-outline=container]"))},50)}),t.on("bh.file.upload.delete",function(e){setTimeout(function(){c(t.closest("[bh-role-form-outline=container]"))},50)})}),t.outlineContainer.on("_formChange",function(t){var a=e(t.target),n=a.attr("xtype");"tree"!==n&&"date-local"!==n||setTimeout(function(){c(a.closest("[bh-role-form-outline=container]"))},50)})),D.on("click","div.bh-form-outline-item",function(){var a=e(this),n=a.closest("div[bh-role-form-outline-fixed=bhFormOutline]"),i=a.attr("bh-role-form-outline-fixed-item-guid"),o=t.outlineContainer.find("[bh-role-form-outline-item-title-guid="+i+"]"),r=o.offset().top;t.scrollOffsetTop&&(r-=parseInt(t.scrollOffsetTop,10)),e("html, html body").animate({scrollTop:r},450),n.find("div.bh-form-outline-item").removeClass("bh-active"),a.addClass("bh-active")}),t.affix&&(e(window).bind("scroll",function(){a(t)}),setTimeout(function(){e(window).trigger("scroll")},30))}function a(t){"none"==e(t.insertContainer[0]).css("display")&&e(window).unbind("scroll",a),o(t),i(t),n(t)}function n(e){var t=window.innerHeight,a=e.insertContainer.find('[bh-role-form-outline-fixed="bhFormOutline"]');if(0!==a.length){var n=a.outerHeight(),i=a.offset(),o=i.top;if(!a.attr("bh-outerline-is-longer")){if(t-o>n)return void a.attr("bh-outerline-is-longer","true");var r=a.find(".bh-active"),s=r.offset().top,l=s-o;if(l>t/2){var d=-l+parseInt(t/2,10);a.css({top:d+"px"})}}}}function i(t){var a=e(window),n=a.scrollTop(),i=t.insertContainer.offset(),o=t.insertContainer.find('[bh-role-form-outline-fixed="bhFormOutline"]');if(0!==o.length){var r=i.top,s=(i.left,t.header?t.header.outerHeight():0),l=o.offset(),d=l.top,c=l.left,h=d-r,u=t.offset.top?parseInt(t.offset.top,10):0;if(h+=u,n>=r-u-s){var p=o.data("bhAffixStyleData");if(!p){t.offset.left&&(c+=parseInt(t.offset.left,10));var f=h;t.miniHeader?f+=t.miniHeader.outerHeight():f+=s,p={left:c+"px",position:"fixed",top:f};var b=o.attr("style");o.data("beforeBhAffixStyle",b).data("bhAffixStyleData",p)}o.css(p).data("bhOuterAffixFlag",!0).addClass("bh-affix-fixedFlag")}else{var b=o.data("beforeBhAffixStyle"),g=o.data("bhOuterAffixFlag");b||(b=""),g&&(o.attr("style",b),o.data("bhOuterAffixFlag",!1).removeClass("bh-affix-fixedFlag"))}}}function o(t){var a=document.documentElement.scrollTop||window.pageYOffset||document.body.scrollTop,n="";t.insertContainer.find("[bh-role-form-outline-item-title-guid]").each(function(t){var i=e(this),o=i.offset().top,r=i.attr("bh-role-form-outline-item-title-guid");if(0===t&&(n=r),o>a+100)return!1;n=r});var i=t.insertContainer.find('[bh-role-form-outline-fixed="bhFormOutline"]');i.find("[bh-role-form-outline-fixed-item-guid]").removeClass("bh-active"),i.find('[bh-role-form-outline-fixed-item-guid="'+n+'"]').addClass("bh-active")}function r(t){var a="",n="";if(t.insertContainer?(n=t.insertContainer.attr("bh-form-outline-role-form-guid"),a=t.insertContainer.find("div[bh-form-outline-role-outline-guid="+n+"]")):(a=e("[bh-role-form-outline-fixed=bhFormOutline]"),n=a.attr("bh-form-outline-role-outline-guid")),a.removeClass("bh-fadeIn").addClass("bh-fadeOut"),t.destroy){(t.insertContainer?t.insertContainer:e("[bh-form-outline-role-form-guid="+n+"]")).removeAttr("bh-form-outline-role-form-guid"),a.remove()}}function s(){return'<div class="bh-form-outline bh-animated-doubleTime bh-fadeIn @customClass" bh-role-form-outline-fixed="bhFormOutline" bh-form-outline-role-outline-guid="@outlineGuid" style="@style">@content</div>'}function l(){return'<div class="bh-form-outline-item @active" bh-role-form-outline-fixed-item-guid="@guid"><div class="bh-form-outline-itemIndex">@index</div><div class="bh-form-outline-itemText bh-str-cut">@text</div><div class="bh-form-outline-itemCount @success">@count</div></div>'}function d(t){var a=e(t.target||t.srcElement),n=a[0].localName,i=a.closest("[bh-role-form-outline=container]");"click"===t.type?"input"===n&&("radio"!==a.attr("type")&&"checkbox"!==a.attr("type")||c(i)):"input"!==n&&"textarea"!==n&&"select"!==n||c(i)}function c(t){var a={};a.editBoxCount=0,a.enterEditBoxCount=0,a=h(t,"input",a),a=h(t,"textarea",a),a=h(t,"select",a),a=h(t,"tree",a);var n=e("div[bh-role-form-outline-fixed=bhFormOutline]").find("div[bh-role-form-outline-fixed-item-guid="+t.attr("bh-role-form-outline-item-guid")+"]").find(".bh-form-outline-itemCount"),i=e.trim(n.text()),o=a.enterEditBoxCount+"/"+a.editBoxCount;i!=o&&(a.enterEditBoxCount===a.editBoxCount?n.addClass("bh-success"):n.removeClass("bh-success"),n.html(o)),t.data("formOutlineKeyUpCount",0)}function h(t,a,n){if("input"===a){var i={},o=[];t.find(a).each(function(){var t=e(this);if(!u(t)){var a=this.type;if("radio"===a||"checkbox"===a){var n=this.name;i[n]=n}else if("hidden"!==a)o.push(t);else{if("select"===t.parent().attr("xtype"))return;t.closest(".jqx-dropdownlist-state-normal").length>0&&o.push(t)}}});var r=o.length;if(r>0)for(var s=0;s<r;s++){n.editBoxCount++;var l=o[s];if(0!=e.trim(l.val()).length)n.enterEditBoxCount++;else if("file"===l.attr("type")&&l.closest(".bh-file-img-container").length>0)(l.closest(".bh-file-img-container").hasClass("saved")||l.closest(".bh-file-img-container").hasClass("success"))&&n.enterEditBoxCount++;else{var d=l.closest("[xtype=uploadfile]");d.length>0&&d.find("a.bh-file-upload-name-a").length>0&&n.enterEditBoxCount++}}for(var c in i){n.editBoxCount++;t.find("input[name='"+c+"']:checked").val()&&n.enterEditBoxCount++}}else"select"==a?t.find("[xtype=select]").each(function(){var t=e(this);if(!u(t)){n.editBoxCount++;var a=t.jqxDropDownList("getSelectedItem");a&&""!=a.value&&n.enterEditBoxCount++}}):"tree"==a?t.find("[xtype=tree]").each(function(){var t=e(this);if(!u(t)){n.editBoxCount++;var a=WIS_EMAP_INPUT.getValue(t,{});a&&""!=a&&n.enterEditBoxCount++}}):t.find(a).each(function(){var t=e(this);u(t)||(n.editBoxCount++,0!=e.trim(t.val()).length&&n.enterEditBoxCount++)});return n}function u(e){var t=!1,a=e.closest(".bh-row");if(a.length>0&&"none"===a.css("display")&&(t=!0),!t){var n=e.closest('[bh-form-role="groupContainer"]');n.length>0&&"none"===n.css("display")&&(t=!0)}return t}function p(){return f()+f()+"-"+f()+"-"+f()+"-"+f()+"-"+f()+f()+f()}function f(){return(65536*(1+Math.random())|0).toString(16).substring(1)}e.bhFormOutline={show:function(a){var n={insertContainer:"",outlineContainer:"",width:0,className:"",offset:{},scrollOffsetTop:e('header[bh-header-role="bhHeader"]').outerHeight(),statistics:!0,affix:!0,bottom:null,customClass:""};a=e.extend({},n,a),t(a)},hide:function(t){var a={insertContainer:"",destroy:!0};t=e.extend({},a,t),r(t)}}}(jQuery),function(e){var t,a=window.document,n=window.dispatchEvent,i=function(e){var t=e.target=e.srcElement;if(e.which=null!=e.charCode?e.charCode:e.keyCode,/mouse|click/.test(e.type)){var a=t.ownerDocument||a,n="BackCompat"===a.compatMode?a.body:a.documentElement;e.pageX=e.clientX+(n.scrollLeft>>0)-(n.clientLeft>>0),e.pageY=e.clientY+(n.scrollTop>>0)-(n.clientTop>>0)}return e.preventDefault=function(){e.returnValue=!1},e.stopPropagation=function(){e.cancelBubble=!0},e},o=function(e,t,a,o){function r(t){var n=t.target?t:i(t||window.event),o=a.call(e,t);return!1===o&&(n.preventDefault(),n.stopPropagation()),o}if(n)e.addEventListener(t,r,!!o);else try{e.attachEvent("on"+t,r)}catch(e){}return r},r=n?function(e,t,a,n){e.removeEventListener(t,a,!!n)}:function(e,t,a,n){try{e.detachEvent("on"+t,a)}catch(e){}},s={on:function(e,t,a,n){return o(e,t,a,n)},off:function(e,t,a,n){r(e,t,a,n)},stop:function(e){e.stopPropagation(),e.preventDefault()}},l=function(t){var a={width:900,height:document.documentElement.clientHeight};this.options=e.extend(!0,{},a,t)};e.extend(l.prototype,{show:function(){function n(e,t){var a=e.height(),n=e.width(),i=t.height(),o=t.width(),r=t.position();if(i>a||o>n){var s=r.left,l=r.top;i>a?(r.top>0&&(l=0),r.top<a-i&&(l=a-i)):l=Math.round((a-i)/2),o>n?(r.left>0&&(s=0),r.left<n-o&&(s=n-o)):s=Math.round((n-o)/2),t.css({top:l+"px",left:s+"px"})}else t.css({top:Math.round((a-i)/2)+"px",left:Math.round((n-o)/2)+"px"})}function i(e,t){o(e);var a=e.width,n=e.height,i=e.offsetTop,r=e.offsetLeft;t?(e.style.width=1.05*a+"px",e.style.height=1.05*n+"px",e.style.top=i-.05*n/2+"px",e.style.left=r-.05*a/2+"px"):(e.style.width=.95*a+"px",e.style.height=.95*n+"px",e.style.top=i+.05*n/2+"px",e.style.left=r+.05*a/2+"px")}function o(t){var a=e(t).parent(),n=a.height(),i=a.width(),o=t.width,r=t.height;t.style.top=Math.round((n-r)/2)+"px",t.style.left=Math.round((i-o)/2)+"px"}e("body").css({"overflow-y":"hidden"});var r=this,l=e('<div class="bh-gallery"><div class="bh-gallery__backdrop"></div><div class="bh-gallery__main"><div class="bh-gallery__gallery"></div></div><div class="bh-gallery__close iconfont icon-close"></div></div>');e("body").append(l);var d=e(".bh-gallery__gallery",l).css({width:r.options.width,height:r.options.height});t.run(d,this.options),this.resizeGallery(d);var c,h,u,p,f;t.on("image",function(t){c=t.imageTarget,h=c.width,u=c.height,p=c.offsetTop,f=c.offsetLeft;var i=e(c).parent();e("img",".bh-gallery").off("mousedown").on("mousedown",function(t){t.preventDefault();var o=this,r=e(this).position(),l={x:t.pageX,y:t.pageY};mousemove=function(e){if(s.stop(e),d&&l){var t=e.pageX,a=e.pageY,n=t-l.x,i=a-l.y;o.style.top=r.top+i+"px",o.style.left=r.left+n+"px"}return!1},mouseup=function(e){s.stop(e),d=!1,l=null,ended()},ended=function(){s.off(a,"mousemove",c),s.off(a,"mouseup",h),o.style.cursor="default",n(i,e(o))},s.stop(t);var d=!0;this.style.cursor="move";var c=s.on(a,"mousemove",mousemove),h=s.on(a,"mouseup",mouseup)})});var b=e('<div class="bh-gallery-toolbar"><span class="toolbar-icon" id="toolbar-enlarge"><i class="iconfont">&#xe962;</i></span><span class="toolbar-icon" id="toolbar-reset"><i class="iconfont">&#xe961;</i></span><span class="toolbar-icon" id="toolbar-reduce"><i class="iconfont">&#xe963;</i></span></div>');e(".bh-gallery .galleria-container").append(b),e("#toolbar-enlarge").on("click",function(e){i(c,!0)}),e("#toolbar-reset").on("click",function(e){c.style.top=p+"px",c.style.left=f+"px",c.style.width=h+"px",c.style.height=u+"px"}),e("#toolbar-reduce").on("click",function(e){i(c,!1)});var g=function(e){e.wheelDelta?i(c,e.wheelDelta>0):e.detail&&i(c,e.detail>0)};window.addEventListener("mousewheel",g,!1),setTimeout(function(){e("body").getNiceScroll().hide()},1e3),e(".bh-gallery__close",l).click(function(){l.remove(),e("body").css({"overflow-y":"auto"}),e("body").getNiceScroll().show(),window.removeEventListener("mousewheel",g,!1)})},resizeGallery:function(t){var a=e(window).width(),n=e(window).height(),i=this.options.width,o=this.options.height;i<a&&t.css({marginLeft:(a-i)/2}),o<n&&t.css({marginTop:(n-o)/2})}}),e.bhGallery=function(a){if(void 0===(t=window.Galleria)){var n=window.location.protocol;e.getScript(n+"//cdnres.campusphere.cn/bower_components/galleria/src/galleria.js").done(function(){t=window.Galleria,window.Galleria._options=a,e.getScript(n+"//cdnres.campusphere.cn/fe_components/galleria/standard/galleria.wisedu.js").done(function(){if(void 0===t)return void console.error("please include Galleria lib");"page"===a.showType?t.run(a.selector,a):new l(a).show()})})}else"page"===a.showType?t.run(a.selector,a):new l(a).show()}}(jQuery),function(e){function t(t,n){var i=BH_UTILS.NewGuid(),o=a(t);n.html(o).attr("bh-header-guid",i),L(t),g(n,t),M(n,t),e("html").on("click",function(t){var a=e(t.target||t.srcElement);a.closest('div[bh-header-role="roleBox"]').length>0||a.closest('div[bh-header-role="roleSwitch"]').length>0||e("[bh-header-role=roleBox]").removeClass("bh-active"),a.closest('div[bh-header-role="bhHeaderBarInfoBox"]').length>0||a.closest('img[bh-header-role="bhHeaderUserInfoIcon"]').length>0||e("[bh-header-role=bhHeaderBarInfoBox]").removeClass("bh-active")})}function a(e){var t=n(e),a='<header class="bh-header sc-animated" bh-header-role="bhHeader">'+t+"</header>";return a+='<header class="bh-header-mini sc-animated" bh-header-role="bhHeaderMini">'+t+"</header>",a+='<header class="bh-header-bg sc-animated"></header>',e.openTheme&&(a+=p()),a}function n(e){return'<div class="bh-headerBar"><div class="bh-headerBar-content bh-clearfix">@asideNavIcon@logo@title<div class="bh-headerBar-menu">@userImage@dropMenu@themeIcon@icons@navigate</div></div></div>'.replace("@logo",r(e)).replace("@title",s(e)).replace("@navigate",l(e)).replace("@icons",c(e)).replace("@userImage",u(e)).replace("@dropMenu",b(e)).replace("@asideNavIcon",i(e)).replace("@themeIcon",o(e))}function i(e){return'<div style="'+(e.showAsideNav?"display: block;":"display: none;")+'" class="bh-headerBar-asideMenu" bh-header-role="bhAsideNavIcon"><i class="iconfont icon-menu"></i></div>'}function o(e){var t="";return e.openTheme&&(t='<div class="bh-headerBar-iconBlock" bh-theme-role="themeIcon"><i class="iconfont icon-pifu"></i></div>'),t}function r(e){var t="";return e.logo&&(t=e.logoHref?'<div class="bh-headerBar-logo"><a href="'+e.logoHref+'"><img src="'+e.logo+'" /></a></div>':'<div class="bh-headerBar-logo"><img src="'+e.logo+'" /></div>'),t}function s(e){var t="";return e.title&&(t='<div class="bh-headerBar-title">'+e.title+"</div>"),t}function l(e){var t="",a=e.nav;if(a){t='<div class="bh-headerBar-nav-more"><i class="iconfont icon-keyboardcontrol"></i></div><div class="bh-headerBar-navigate @isHideClass">@content<div class="bh-headerBar-nav-bar bh-single-animate"></div><div class="bh-headerBar-navBar-cover"></div></div>';for(var n="",i=a.length,o=i-1;o>=0;o--){var r=BH_UTILS.NewGuid(),s=a[o];s.guid=r,1===i&&"boolean"!=typeof s.hide&&(s.hide=!0),n+=d(s)}var l=e.isNavHide?"bh-nav-hide":"";t=t.replace("@content",n).replace("@isHideClass",l)}return t}function d(t){var a='<a class="@itemClass" href="@href" @target bh-header-role="@guid"><div class="bh-headerBar-nav-item @active" @attribute title="@title">@title<i class="iconfont icon-keyboardarrowdown" style="@display"></i></div><b class="bh-headerBar-nav-item-tip"></b></a>',n="",i="",o="javascript:void(0);",r="",s="nav-"+t.guid;t.active&&(n="bh-active"),t.className&&(n+=" "+t.className);var l=t.attribute;if(l){var d=l.length;if(d>0)for(var c=0;c<d;c++){var h=l[c].key,u=l[c].value;h&&u&&(i+=h+'="'+u+'" ')}}t.href&&(o=t.href,"boolean"==typeof t.isOpenNewPage?r=t.isOpenNewPage?'target="_blank"':"":"string"==typeof t.isOpenNewPage&&(r="true"===e.trim(t.isOpenNewPage)?'target="_blank"':""));var p="";t.hide&&(p="bh-hide");var f=t.children&&t.children.length>0?"":"display:none",b=t.title?t.title:"";return a.replace("@active",n).replace(/@title/g,b).replace("@href",o).replace("@attribute",i).replace("@itemClass",p).replace("@target",r).replace("@guid",s).replace("@display",f)}function c(e){var t="",a=e.icons;if((e.feedback||e.appDetail)&&(a&&a.unshift({className:"icon-erroroutline",attrs:{"bh-header-role":"ampSwitch"}}),h(e)),a)for(var n=0,i=a.length;n<i;n++){var o=a[n],r=o.className;if(r){var s=o.attrs,l="",d=o.href?o.href:"javascript:void(0);";if(s)for(var c in s){var u=s[c];l+=c+"="+u+" "}t+='<div class="bh-headerBar-iconBlock" '+l+'><a href="'+d+'"><i class="iconfont '+r+'"></i></a></div>'}}return t}function h(t){var a="";t.feedback&&(a+='<div class="bh-headerBar-roleBox-title" bh-header-role="feedbackBox"><a href="javascript:void(0);"><i class="iconfont icon-assignmentlate"></i>问题反馈</a></div>'),t.appDetail&&(a+='<div class="bh-headerBar-roleBox-title" bh-header-role="appDetailBox"><a href="javascript:void(0);"><i class="iconfont icon-helpoutline"></i>应用说明</a></div>');var n='<div class="bh-headerBar-roleBox bh-card bh-card-lv3 bh-headerBar-popupBox-animate" bh-header-role="ampBox">'+a+"</div>";e("body").append(n)}function u(e){var t="",a=e.userImage;return a&&(t='<div class="bh-headerBar-imgBlock"><img src="'+a+'" bh-header-role="bhHeaderUserInfoIcon" /></div>'),t}function p(){return'<div class="bh-header-themelist jqx-dropdownbutton-popup"><ul><li class="selected" title="blue"><span class="bh-header-colorCard-text">'+e.i18n("bha-header-blueSkin")+'</span><span class="bh-header-colorCard-blueTheme"></span><span class="bh-header-colorCard-bluePrimary"></span><span class="bh-header-colorCard-blueSuccess"></span><span class="bh-header-colorCard-blueWarning"></span><span class="bh-header-colorCard-blueDanger"></span></li><li title="purple"><span class="bh-header-colorCard-text">'+e.i18n("bha-header-purpleSkin")+'</span><span class="bh-header-colorCard-purpleTheme"></span><span class="bh-header-colorCard-purplePrimary"></span><span class="bh-header-colorCard-purpleSuccess"></span><span class="bh-header-colorCard-purpleWarning"></span><span class="bh-header-colorCard-purpleDanger"></span></li><li title="lightBlue"><span class="bh-header-colorCard-text">'+e.i18n("bha-header-paleBlueSkin")+'</span><span class="bh-header-colorCard-lightBlueTheme"></span><span class="bh-header-colorCard-lightBluePrimary"></span><span class="bh-header-colorCard-lightBlueSuccess"></span><span class="bh-header-colorCard-lightBlueWarning"></span><span class="bh-header-colorCard-lightBlueDanger"></span></li><li title="green"><span class="bh-header-colorCard-text">'+e.i18n("bha-header-greenSkin")+'</span><span class="bh-header-colorCard-greenTheme"></span><span class="bh-header-colorCard-greenPrimary"></span><span class="bh-header-colorCard-greenSuccess"></span><span class="bh-header-colorCard-greenWarning"></span><span class="bh-header-colorCard-greenDanger"></span></li></ul></div>'}function f(t){var a="",n="",i="";if(t){var o=t.length;if(o>0){for(var r=0;r<o;r++){var s=t[r],l=s.text?s.text:"",d=s.href,c=s.id?s.id:"";d||(d="javascript:void(0);"),s.active&&(i=s),n+='<div class="bh-headerBar-roleBox-title"><a id="'+c+'" href="'+d+'">'+l+"</a></div>"}a='<div class="bh-headerBar-roleBox bh-card bh-card-lv3 bh-headerBar-popupBox-animate" bh-header-role="roleBox"><div class="bh-headerBar-roleBox-explain bh-headerBar-roleBox-title">'+e.i18n("bha-header-selectRole")+"</div>"+n+"</div>"}}return{html:a,active:i}}function b(t){var a="",n=t.dropMenu;if(n&&n.length>0){var i=f(n);e("body").append(i.html),a='<div class="bh-headerBar-roleSwitch" bh-header-role="roleSwitch">'+i.active.text+"</div>"}return a}function g(e,t){v(e),y(e,t),t.openTheme&&P(e),D(e,t),I(e,t),S(e),k(e)}function v(t){e(window).on("scroll.bh",function(a){var n=e(window),i=n.scrollTop(),o=t.find("header.bh-header-bg"),r=t.find("header.bh-header-mini"),s=t.find("header.bh-header");i<44?(o.addClass("bh-headerBg-show").removeClass("bh-headerBg-hide"),s.addClass("bh-normalHeader-show").removeClass("bh-normalHeader-hide"),r.addClass("bh-miniHeader-hide").removeClass("bh-miniHeader-show")):44==i?(s.addClass("bh-normalHeader-show").removeClass("bh-normalHeader-hide"),r.addClass("bh-miniHeader-hide").removeClass("bh-miniHeader-show")):(o.addClass("bh-headerBg-hide").removeClass("bh-headerBg-show"),s.addClass("bh-normalHeader-hide").removeClass("bh-normalHeader-show"),r.addClass("bh-miniHeader-show").removeClass("bh-miniHeader-hide"))})}function m(e){var t=e.find(".bh-headerBar-navigate"),a=t.find(".bh-active");if(a.length>0){var n=a.closest("a").index();e.find(".bh-headerBar-navigate").data("nav-init-active-index",n),N(a,t)}}function y(t,a){var n=t.find(".bh-headerBar-navigate");n.find(".bh-headerBar-nav-item").length>0&&(n.on("mouseenter",".bh-headerBar-nav-item",function(){e("div.bh-header-nav-item-children").hide(),x(t),n.hasClass("bh-unActive")&&n.data("activeType","bh-unActive").removeClass("bh-unActive");var a=e(this),i=n.data("nav-init-active-index");if(!i&&0!==i){var o=n.find(".bh-active").closest("a").index();n.data("nav-init-active-index",o)}N(a,n);var r=e(a).closest("a").attr("bh-header-role"),s=e('div[bh-header-children-guid="'+r+'"]'),l=s.children("div.bh-header-navBarChildrenBox-bar"),d=a.closest("a");e(a).closest("a").data("active",!0);var o=s.find("a.bh-active").index();o=o>0?o:0,a.closest('header[bh-header-role="bhHeaderMini"]').length>0?(s.addClass("bh-header-navChildrenBox-mini"),l.css({top:24*o+1+"px",height:"24px",opacity:1})):(s.removeClass("bh-header-navChildrenBox-mini"),l.css({top:43*o+1+"px",height:"43px",opacity:1})),z(d,s),s.show()}),n.on("click",".bh-headerBar-nav-item",function(){n.removeData("activeType");var a=e(this);if(!a.hasClass("bh-active")){var i=e("body");i.hasClass("sc-overflow-hide")&&i.removeClass("sc-overflow-hide"),e("#bhPopover").length>0&&e.bhPopOver.close();var o=a.closest("a"),r=o.index();n.find(".bh-active").removeClass("bh-active"),a.addClass("bh-active"),n.data("nav-init-active-index",r).removeClass("bh-unActive"),e("div.bh-header-nav-item-children").find("a.bh-active").removeClass("bh-active");var s=t.find("div.bh-headerBar-nav-more"),l=t.attr("bh-header-guid");if(s.hasClass("bh-active")){s.removeClass("bh-active");var d=e('div[bh-header-more-guid="'+l+'"]');d.children(".bh-active").removeClass("bh-active"),d.children("div.bh-header-navMoreBox-bar").css({top:"0px",height:"0px",opacity:0})}}}),n.on("mouseleave",function(){n.data("activeType")&&n.removeData("activeType").addClass("bh-unActive");var e=n.data("nav-init-active-index");N(n.find(".bh-headerBar-nav-item").closest("a").eq(e).find(".bh-headerBar-nav-item"),n)}),n.on("mouseleave",".bh-headerBar-nav-item",function(){F(e(this))}))}function k(t){t.on("click","[bh-header-role=bhAsideNavIcon]",function(){e.bhAsideNav.show()})}function C(t,a){for(var n=a.children("a"),i=0;i<n.length;i++){var o=n[i],r=e(o).attr("bh-header-role"),s=e('div[bh-header-children-guid="'+r+'"]');s.length>0&&Y(e(o),s,t)}t.on("mouseover","div.bh-headerBar-nav-more",function(){var t=e(this),a=t.closest("[bh-header-guid]").attr("bh-header-guid"),n=BH_UTILS.getElementPosition(t),i=e('div[bh-header-more-guid="'+a+'"]'),o=i.outerWidth(),r=e("div.bh-header-nav-item-children"),s=0;t.closest('header[bh-header-role="bhHeaderMini"]').length>0?(i.addClass("bh-header-navMoreBox-mini"),r.addClass("bh-header-navChildrenBox-mini"),s=i.data("miniHeight")):(i.removeClass("bh-header-navMoreBox-mini"),r.removeClass("bh-header-navChildrenBox-mini"),s=i.data("height")),i.css({top:n.bottom+"px",left:parseInt(n.right-o,10)+"px",height:s+"px",display:"block"}).data("active",!0)}),t.on("mouseout","div.bh-headerBar-nav-more",function(){x(t),e("div.bh-header-nav-item-children").hide()}),a.on("mouseover","a",function(n){var i=e(a);i.data("active",!0),T(e(n.target||n.srcElement),i,t),i.children("a").removeClass("bh-active"),e("div.bh-header-nav-item-children").hide();var o=e(this),r=o.attr("bh-header-role"),s=e('div[bh-header-children-guid="'+r+'"]');if(s[0]){j(o,s);var l=s.find("a.bh-active"),d=l.index(),c=s.hasClass("bh-header-navChildrenBox-mini")?24:43;s.find("div.bh-header-navBarChildrenBox-bar").css({top:c*d+"px",height:c+"px",opacity:1}),s.show()}}),a.on("mouseout","a",function(){var a=e(this);x(t,a)}),a.on("click",function(a){var n=e(this);w(e(a.target||a.srcElement).closest("a"),n,t);var i=e("div.bh-header-nav-item-children");i.find("a.bh-active").removeClass("bh-active"),i.hide()})}function w(e,t,a){e.length>0&&(t.children("a").removeClass("bh-active"),e.addClass("bh-active"),t.css({height:0,display:"none"}),a.find("div.bh-headerBar-nav-more").addClass("bh-active"),a.find("div.bh-headerBar-navigate").find("div.bh-active").removeClass("bh-active"))}function x(t,a){if(a){var n=a.attr("bh-header-role"),i=e('div[bh-header-children-guid="'+n+'"]');if(i[0]){n=t.attr("bh-header-guid");var o=e('div[bh-header-more-guid="'+n+'"]');o.removeData("active"),i.removeData("active"),setTimeout(function(){o.data("active")||i.data("active")||(o.css({height:0,display:"none"}),i.css({height:0,display:"none"}))},200)}else{n=t.attr("bh-header-guid");var o=e('div[bh-header-more-guid="'+n+'"]');o.removeData("active"),T(o.children(".bh-active"),o,t),setTimeout(function(){o.data("active")||i.data("active")||o.css({height:0,display:"none"})},200)}}else{var n=t.attr("bh-header-guid"),o=e('div[bh-header-more-guid="'+n+'"]');o.removeData("active"),T(o.children(".bh-active"),o,t),setTimeout(function(){o.data("active")||o.css({height:0,display:"none"})},200)}}function T(t,a,n){var i=t.length>0?t.closest("a"):[],o=a.children("div.bh-header-navMoreBox-bar"),r=n.find("div.bh-headerBar-navigate"),s=a.hasClass("bh-header-navMoreBox-mini")?24:43;if(i.length>0){if(i.hasClass("bh-hide"))o.css({top:"1px",height:"0px",opacity:0});else{var l=i.index();a.children("a").each(function(t,a){if(t<l){e(a).hasClass("bh-hide")&&l--}});var d=l*s+1;o.css({top:d+"px",height:s+"px",opacity:1})}r.addClass("bh-unActive")}else r.removeClass("bh-unActive"),o.css({top:"1px",height:"0px",opacity:0})}function N(t,a){var n=t.closest("a").index();a.each(function(){var t=e(this),a=t.children("a").eq(n),i=a.outerWidth(),o=a.offset().left,r=t.offset().left,s=o-r;t.find(".bh-headerBar-nav-bar").css({left:s+"px",width:i+"px"})})}function D(t,a){t.on("click","[bh-header-role=roleSwitch]",function(){var t=e(this),a=t.offset(),n=t.outerWidth(),i=t.outerHeight(),o=e("[bh-header-role=roleBox]"),r=o.outerWidth(),s=a.left+n-r,l=a.top+i+8;o.css({left:s,top:l}).toggleClass("bh-active")}),e("[bh-header-role=roleBox]").on("click",".bh-headerBar-roleBox-title",function(){var n=e(this);if(!n.hasClass("bh-headerBar-roleBox-explain")){var i=e.trim(n.text()),o=n.children("a").attr("id");if(t.find("[bh-header-role=roleSwitch]").text(i),n.closest("[bh-header-role=roleBox]").removeClass("bh-active"),t.trigger("headerRoleChange",[i,n]),void 0!==a.dropMenuCallback&&a.dropMenuCallback instanceof Function){var r={id:o,text:i,JDom:n};a.dropMenuCallback(r)}}})}function I(t,a){a.appDetail&&e.ampAppDetail.init({appId:a.appDetailData.appId,rootPath:a.appDetailData.rootPath}),t.on("click","[bh-header-role=ampSwitch]",function(){var t=e(this),a=t.offset(),n=t.outerWidth(),i=t.outerHeight(),o=e("[bh-header-role=ampBox]"),r=o.outerWidth(),s=a.left+n-r,l=a.top+i+8;o.css({left:s,top:l}).toggleClass("bh-active")}),e("[bh-header-role=ampBox]").on("click",".bh-headerBar-roleBox-title",function(){var t=e(this),n=t.attr("bh-header-role");"feedbackBox"===n?AmpFeedback.window(a.feedbackData):"appDetailBox"===n&&e.ampAppDetail.show()})}function S(t){t.off("click","[bh-header-role=bhHeaderUserInfoIcon]").on("click","[bh-header-role=bhHeaderUserInfoIcon]",function(){var t=e("[bh-header-role=bhHeaderBarInfoBox]");if(0!==t.length){var a=e(this),n=a.offset(),i=a.outerWidth(),o=(a.outerHeight(),t.outerWidth()),r=n.left+i-o;t.css({left:r,top:44}).toggleClass("bh-active")}})}function P(e){var t=e.find("div[bh-theme-role=themeIcon]"),a=t.outerWidth(),n=t.outerHeight(),i=t.offset(),o=e.find(".bh-header-themelist"),r=i.top+n,s=i.left+a-150;o.css({top:r,left:s}),E(t,o)}function E(t,a){t.on("click",function(){a.toggle()}),a.on("click","li",function(){a.find(".bh-selected").removeClass("bh-selected"),e(this).addClass("bh-selected"),B({themesName:e(this).attr("title"),themesLink:e("#bhThemes")}),B({themesName:e(this).attr("title"),themesLink:e("#bhScenceThemes")}),a.hide()}),a.find("li").hover(function(){e(this).addClass("bh-active")},function(){e(this).removeClass("bh-active")})}function B(e){var t=e.themesLink,a=A(e);""!=a&&(t.removeAttr("type"),t.attr("href",a),t.attr("type","text/css"))}function A(e){var t=e.themesLink,a=t.attr("href");if(!a)return!1;var n=a.split("/"),i="";return n&&n.length>1&&(n[n.length-2]=e.themesName,
i=n.join("/")),i}function L(t){var a=t.userInfo;if(!e.isEmptyObject(a)){var n=a.image,i=a.info,o="";null!==a.logoutHref&&void 0!==a.logoutHref&&""!==a.logoutHref&&(o='<a class="bh-btn bh-btn-default bh-btn-small bh-btn-danger" href="'+a.logoutHref+'">'+e.i18n("bha-header-logOut")+"</a>");var r='<div class="bh-headerBar-userIfon bh-headerBar-popupBox-animate bh-card bh-card-lv3" bh-header-role="bhHeaderBarInfoBox"><div class="bh-headerBar-userInfo-img"><img src="@image" /></div><div class="bh-headerBar-userInfo-detail">@detail</div>@logoutHtml</div>',s="";if(i)for(var l=i.length,d=0;d<l;d++)0===d?s+='<div class="bh-headerBar-userIfon-name bh-str-cut" title="'+i[d]+'"> '+i[d]+"</div>":i[d]&&(s+="<div>"+i[d]+"</div>");r=r.replace("@image",n).replace("@detail",s).replace("@logoutHtml",o),e("body").append(r);var c=e('div[bh-header-role="bhHeaderBarInfoBox"]').find("img");BH_UTILS.checkImageLoadComplete(c).fail(function(e,t){t.attr("src",q.defaultUserImg)})}}function R(t,a){if(t){var n=parseInt(t.activeIndex,10);if(n){n-=1;for(var i=q.nav.length,o=0;o<i;o++){var r=q.nav[o];if(o<=n&&r.hide&&n++,o>n)break}if(!q.nav[n])return;var s=q.nav[n].guid,l=a.find(".bh-headerBar-navigate"),d=a.attr("bh-header-guid");l.find(".bh-active").removeClass("bh-active");var c=e('div[bh-header-more-guid="'+d+'"]'),h=l.children('a[bh-header-role="nav-'+s+'"]').index();if(h>=0){var u=l.children("a").eq(h).find(".bh-headerBar-nav-item");u.addClass("bh-active"),l.data("nav-init-active-index",h).removeClass("bh-unActive"),a.find("div.bh-headerBar-nav-more").removeClass("bh-active"),N(u,l),c.find(".bh-active").removeClass("bh-active"),T([],c,a)}else{var p=c.children('a[bh-header-role="nav-'+s+'"]');c.find(".bh-active").removeClass("bh-active"),p.addClass("bh-active"),w(p,c,a),T(p,c,a)}}}}function $(t){var a=q.$dom.find("div.bh-headerBar-navigate"),n=q.$dom.find("div.bh-headerBar-nav-more"),i=q.$dom.attr("bh-header-guid");"show"===t?(a.removeClass("bh-nav-hide"),e('div[bh-header-more-guid="'+i+'"]').find("a").length>0&&n.show()):(a.addClass("bh-nav-hide"),n.hide())}function M(t,a){var n=t.find('header[bh-header-role="bhHeader"]'),i=n.find("img"),o=i.length;if(o>0){var r=0;i.each(function(i,s){BH_UTILS.checkImageLoadComplete(e(s)).done(function(){++r===o&&H(n,t,a)}).fail(function(e,i){i.closest(".bh-headerBar-imgBlock").length>0&&i.attr("src",q.defaultUserImg),++r===o&&H(n,t,a)})})}else H(n,t,a)}function H(t,a,n){var i=t.find("div.bh-headerBar-content"),o=null,r=0;i.children().each(function(){var t=e(this);t.hasClass("bh-headerBar-menu")?o=t:r+=t.outerWidth(!0)});var s=null,l=0;o.children().each(function(){var t=e(this);t.hasClass("bh-headerBar-navigate")?s=t:l+=t.outerWidth(!0)});var d="calc(100% - "+parseInt(r+148,10)+"px)",c="calc(100% - "+parseInt(l+16,10)+"px)";o.css({width:d}),t.find("div.bh-headerBar-navigate").css({width:c});var h=a.children('header[bh-header-role="bhHeaderMini"]');h.find("div.bh-headerBar-menu").css({width:d}),h.find("div.bh-headerBar-navigate").css({width:c}),O(a,n),void 0!==n.ready&&n.ready instanceof Function&&n.ready()}function O(t,a){for(var n=t.attr("bh-header-guid"),i=t.children('header[bh-header-role="bhHeader"]').find("div.bh-headerBar-navigate"),o=t.children('header[bh-header-role="bhHeaderMini"]').find("div.bh-headerBar-navigate"),r=i.width(),s=0,l=i.children("a"),d=o.children("a"),c=l.length,h=!1,u="",p=0,f=c-1;f>=0;f--){var b=l[f];if((s+=b.offsetWidth)>r){h||(f,h=!0);var g=b.attributes.class;g&&-1!==g.value.indexOf("bh-hide")||p++,l.eq(f).remove(),d.eq(f).remove(),u+=b.outerHTML,_(b,t,a,f)}else{_(b,t,a);var v=e(b).children("div.bh-headerBar-nav-item"),y=e(b).attr("bh-header-role"),k=e("div[bh-header-children-guid="+y+"]");k.length&&U(t,e(v),k)}}u=u.replace(/keyboardarrowdown/g,"keyboardarrowright"),e("body").append('<div bh-header-more-guid="'+n+'" class="bh-header-navMoreBox" bh-header-role="navMoreBox">'+u+'<div class="bh-header-navMoreBox-bar bh-animate-fast bh-animate-top"></div></div>');var x=e('div[bh-header-more-guid="'+n+'"]'),N=x.outerHeight(),D=24*p;x.data("height",N).data("miniHeight",D).css({height:0}),p>0&&(q.isNavHide||t.find("div.bh-headerBar-nav-more").show(),C(t,x));var I=x.find(".bh-active").closest("a");0===I.length?m(t):(w(I,x,t),T(I,x,t))}function _(t,a,n,i){var o=e(t).attr("bh-header-role"),r=void 0!==i?i:e(t).index(),s=n.nav.length-r-1,l="",d="";if(void 0!==n.nav[s].children&&n.nav[s].children.length>0){d=n.nav[s].children,l+='<div bh-header-children-guid="'+o+'" class="bh-header-nav-item-children">';for(var i=0;i<d.length;i++){var c=BH_UTILS.NewGuid(),h=d[i].itemClass?d[i].itemClass:"",u=d[i].href?d[i].href:"javascript:void(0);",p=d[i].attribute?d[i].attribute:"",f=d[i].title?d[i].title:"",b="";d[i].href&&(u=d[i].href,"boolean"==typeof d[i].isOpenNewPage?b=d[i].isOpenNewPage?'target="_blank"':"":"string"==typeof d[i].isOpenNewPage&&(b="true"===e.trim(d[i].isOpenNewPage)?'target="_blank"':"")),l+='<a class="'+h+'" href="'+u+'" '+b+'bh-header-role="'+c+'"><div class="bh-headerBar-nav-item" '+p+' title="'+f+'">'+f+"</div></a>"}l+='<div class="bh-header-navBarChildrenBox-bar bh-animate-fast bh-animate-top"></div></div>',e("body").append(l);e('div[bh-header-children-guid="'+o+'"]').css({display:"none"})}}function z(e,t){var a=e.offset(),n=e.outerWidth(),i=e.outerHeight(),o=(t.outerWidth(),BH_UTILS.getElementPosition(e)),r=i+o.top;t.css({left:a.left,top:r,"min-width":n,height:""})}function j(t,a){var n=(t.offset(),t.outerWidth()),i=a.outerWidth(),o=BH_UTILS.getElementPosition(t),r=n+o.left+6;i>e("div.bh-headerBar-menu").outerWidth()-e("div.bh-headerBar-navigate").outerWidth()-e("div.bh-headerBar-nav-more").outerWidth()&&(r=o.left-i),a.css({left:r,top:o.top,height:""})}function F(t){var a=e(t).closest("a").attr("bh-header-role"),n=e('div[bh-header-children-guid="'+a+'"]');n.removeData("active"),setTimeout(function(){n.data("active")||n.css({height:0,display:"none"})},200)}function U(t,a,n){var i=t.find(".bh-headerBar-navigate"),o=a.closest("a");n.on("mouseover",function(o){a.addClass("bh-hover"),N(a,i),n.data("active",!0),W(e(o.target||o.srcElement),n,t)}),n.on("mouseout",function(){F(o),o.children("div.bh-headerBar-nav-item").removeClass("bh-hover");var e=i.data("nav-init-active-index");N(i.find(".bh-headerBar-nav-item").closest("a").eq(e).find(".bh-headerBar-nav-item"),i),n.children("div.bh-header-navBarChildrenBox-bar").css({top:"0px",height:"0px",opacity:0})}),n.on("click","a",function(r){var s=o.index();i.find(".bh-active").removeClass("bh-active"),a.addClass("bh-active"),i.data("nav-init-active-index",s).removeClass("bh-unActive"),n.hide(),e("div.bh-header-nav-item-children").find("a.bh-active").removeClass("bh-active"),e(this).addClass("bh-active"),W(e(r.target||r.srcElement),n,t);var l=t.find("div.bh-headerBar-nav-more"),d=t.attr("bh-header-guid");if(l.hasClass("bh-active")){l.removeClass("bh-active");var c=e('div[bh-header-more-guid="'+d+'"]'),h=c.children(".bh-active").attr("bh-header-role");c.children(".bh-active").removeClass("bh-active"),c.children("div.bh-header-navMoreBox-bar").css({top:"0px",height:"0px",opacity:0});var u=e('div[bh-header-children-guid="'+h+'"]');u.children(".bh-active").removeClass("bh-active"),u.children("div.bh-header-navBarChildrenBox-bar").css({top:"0px",height:"0px",opacity:0})}})}function Y(t,a,n){a.on("mouseover",function(t){a.data("active",!0),W(e(t.target||t.srcElement),a,n)}),a.on("mouseleave",function(e){x(n,t),a.children("div.bh-header-navBarChildrenBox-bar").css({top:"0px",height:"0px",opacity:0})}),a.on("click","a",function(i){a.hide(),e("div.bh-header-nav-item-children").children("a").removeClass("bh-active"),e(this).addClass("bh-active");var o=e("div.bh-header-navMoreBox");w(t,o,n)})}function W(t,a,n){var i=t.length>0?t.closest("a"):[],o=a.children("div.bh-header-navBarChildrenBox-bar"),r=t.outerHeight();if(i.length>0)if(i.hasClass("bh-hide"))o.css({top:"1px",height:"0px",opacity:0});else{var s=i.index();a.children("a").each(function(t,a){if(t<s){e(a).hasClass("bh-hide")&&s--}});var l=s*r+1;o.css({top:l+"px",height:r+"px",opacity:1})}else o.css({top:"1px",height:"0px",opacity:0})}var Q,q={nav:[],defaultUserImg:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAIAAABMXPacAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAFnFJREFUeNrsXQmUXFWZfve+rV5VdVXv3emk0xAJCZ0ACQmEBCIBgxgGIaARUVQE5zijOHMcnZkz5+iMjuegM8eFEUdHiQgqjjIgBySAwawCWYidQCfpTkIv6aV6qX1/673zv6rqSlV3JSTdVV3Vqbqnc5KuvHrL//3L9//3vv+iO/90kqmM4g1cEUEFgAoAlVEBoAJAZVQAqABQGRUAKgBURgWACgCVUQGgbAY35x+g5yB/bCfr6kZyCH6lLE8lJ6mdb8xbQmoXGPOvoPa6CgAzsNDACHb3se5+5BtGaswUsaXKlG/rVUbT+yw7/kfc84scX+t9K/k3tVVryzYq7/8MgFEB4LwHMVhXF3/ide7kmxhEL4dzHIOQ0fg+duzdc58JRQPCwWf5rl2xe76hL7mxBJ8VzdJ8AKUMJQxmz30UeBK+azfXtRcAyPP1eUv0wZ8YbSvK1wLEXVtJ82Kt/WZQ3iwnExzDYz1czwGu7y+m3AkpiKJpsvX5f4984ddUsJYlACB0QbI+/RWIikbzEnDNIBEU9WPPAPYPo3hoNsLJeB//9qvqtfeUqQWoK/9K/PNT7HAX/BTrafnD29TVd08ywXLJA4AOxjd//T3DQGHVbegoGFz5JmJa+4bop35A6lqL9ri6ij2nSwoAdsmnvzSrDLO+Tbvmw6SmBekqUKPcFLOgN9C8GDI1HBxlEGZKICCjIi5LsbzyKESFWb4o8FFEDMbQwCVqy26WN34RGEG5uKAs6W//kfj6r4qgcZoM0jf/EfEKB561PfUwigfLCwAU9lp/84/i7p+bqVnRXfDQMcsfHysjAPjO7fafPsAf/VPphEGh4w/Y3X/x5wFc7yHh9V/z3XtKrRgA1IjvfE255a8vIgCIASSHcgJSIjjkZvsPg8pzPQeZUh1c71sXGwCWF78NWQ+jxACAUvD17xEJxnuRHKEW+8USAzhBXfcJFPbh4FjpS9/kBbEACo1fVEHYaFkafegnkHCd/aHzeWlCiKYqiiLruj49k8Vhz8XGgoyWK6Kfe1xbetPkVEiwqtffmy97NwwjHo/xvLBo8RVXrri2vrFpejDMTkV2tlkQWEDs049yJ9/g336VHT1lTmO1Xqmu2YLksHDgmZnmtJQqcry6tv5Dt2xZu35jY3MLx/HRSGjfn3e8+sIzfp8nAY/O8Tx8fj5c6KKlofrlN8BP5idmBYLSGZ1T18DtrNvwwbvv/eyC1jZN10DrCTFsdsemu+5dtWY9ABAOBU51dXYcfMM1dFoQRMyeqxCLiH7RApDD8XkGpuHlMU45THAyDkf1vZ/+m/Uf2EQpicWiGR5JN+J6TV19fUMTwvjatTfdvvm+nX98Ydvzv1VVGTzVOQyqnAAAbnohrgb0vbqmLh6NAAzg8cHdf+7hf1p02VL4N80lOEPXDSal0Vab/SOfeOh9l7f/9L8eAZs4GwYUF0kUxeF9avQCHL0ib7j1jiXtV8ng8uMxUOqvfv0/2hYtBsWn56G2YBOxaGTF6rV/++WvWSwSBO2zUecyAgCd38x7IszKm+782P0PfWl48LQs6x/YtPmLX/23Kkc1fH5BVwQMrl51/eZ7H9C03MGWitYyAoCy52Xvcjy28fbNn/rc34VCQZ9nbPOW+x74/D8ghM8mxHOPeCy6cdPmpctWgEnlAsBWTgBIzrOp/Bl5gbdZt+GTDz5MKA34POCF7nvgC4Y5pklXIH4IomXTnVtYzE72XSxHJUcZAUAaL82ZUp2JEarS2rboM5//MstxkOI6nNW3fXgLiB6I5oxCjyIvX7G67dLFmqZlW6TAWKrKCAD90lWT1oaoirJk2dW33HYniB5UFbKn+x96uLauQVNV+NVZXQtk5qzx80KMQLLaV11/IzGyAGAEiQpSGQFgtK0gzqZMz8Pz/EfvexAYDkYIyM7Nt374ypVrIAakD6B54umGri2/erXFaicZRIBaHbSsWJD5tCyf6XCuuPKay9uvsjucosXaNG/+Hfd8Qs/2EnkzPl1valnQ2NSSaU+kuqW8aCiDMOUtmRaw8tq1kOiCrxctlo2b7q5raILkqyDhhxCb3TG/tc3IKNgZC5YxRRpFWxVhOJrSErFabZCpJsnlZZe3r33/RlWRC4g+Qi0L2gD31A1AtnHJqrIDAC++LumFKTEgxtbU1RNgOZoG0odfZx5vz+0CG5vnAxCm9A1DbFtOL7uuvACoYsn72y8DJwPOx0iQHIvFapIfjl+6fEWBnM8Z8RPqrK6BsJ+ocyirl7XfWquXFwCfrA5tubyhuWUBOGIKLshu5wWREMoLgihaaIELk4QSm80OwQayCoskrV+z5jMOXx1rlAsAAqLtfBTi7crV61RNBXGD2FmzWE8nJcOFsgBKRUnieEFV1MuWLFt02VKkK5fwarkAIGFiwwR0/4YNH6xyOEHxWXZW16wn0g4BLgqXhpAD8MMnzvKxAPN1MQYB52m7dPGaG26W5dnQ+kl3gDEL4XfeggUrr10HWYhZDWJouQAgUxw0cLL4c/td99bVV5mVfTKrq1cSJVVt7Y0fqKmtTzIujaJyAUClaEAz004wgpbWtjvuvi8cDEIwQLP35hDSNRWI7w0336Yl1B+G1yinGbH98dTshyzLt95xz9JlV0VCQYTwbKk/E49H19x4y7z5rckFLH6D7dHKqRRxRJbGdS5ByYkgWDZt/jgQUDpba+gg4bDbHetvvi1dbjoQt8YILiMAFIp2x1ILsyD/NVl54el/JgBVzmqHsyaZissUvRYtzmRAMUsRu6L2gMGmJTLLRAguly5HvxapGtO5sgMgTPAfIg6m2MOl88W9jWL2C9oZtZ9QxSLeAPCxx/21xfL+xQcAqPePfPUQkIuSAh2KW7/rbThVVA1git4xC/gfSOGN2GwvCTEoejJYc1yxFN0HlkTLsj2zDoDbYIvreUoLAPADQxo/m1fskK0qRRUAUkOnaO8sGgFkIRD/mdIYpdI18fWYLTRbPmFP1D6qcxUAskaIsDtmJR2FC71QAvlHyQEAY3ukylP4kuQLYUfQYCsA5M6NIS0yChkbuxTLjpLx/iUHAIxjiuWZkLNAJ48Q/PNArU5RBYBzjW0Rx64CKCkk2z/z15VO7C1dAGD8MlhzLN856m+CNR2yVIIPW4oAaBT92Fc3rOctNXsx7HglUsWU5CjR7ulBwj7qbfDng66A6J8JVTOlOkq3ff2Izj3mq5fp9O+QRcwrUcfTwRqmhEdJ7x9wUhW/7wUM0DRarRKEnvDXPB2oZkp7lDQAmDK9Cu/yB6mhI3zet4oQj8hej3A4YLFqhmAQtkhvwZ/PKC1a5sCIiasipSIhPKWYUBvVORoOGSGLvVaUrImlK5RJr+2nkyRv/qHEiATdcsDpjDuasLnoSkdIYXEEISKJfjigAkDOUcXiuxoc/mBs0B2QNZ3D2KDYwakSSzSNqH43HxUtVjvHC2ANKLG6P3MtFzWn2omhqbFIiGqxRl7k5JSosUEkQtqctram6o6YcjQiVwDIMVZVSVaOrWpw1lVJ/WOB8WBEBwvAGocMgwGJM5qqwA9KjJTss2ODudIhsdYBwHNgRUAG5L2EkipJvKSxpsFpBVe0ksW9cTVmkAoAWaOBMZbVOEG+OmirwLcvbGgK2U6MhWuoi2WIkYhVaX2nie0gaHaHk5RFJI6B/7Nj1WK2rLNdUl+9oN7BsayRwMbKstfXOne6/ZUgfGb4D+9TXnueNQeXEB81CK1zWK9Z1FzX2CIzFpZqk/09g1LynhiZ1gBxgGf0thrx6kXzLm2uAY9lTKwCkmxVpPvI8P9trVhAakROHj39xPdOhoNIjnzy4X9mOS75/iJgIGCqVi86ZW1oDB+vjQ8ghhD0HqkZHIOoEeNqRx3L6qRmAEU/422Q1W47sPOVx7/zNTkWYRCe/9EHi/74s909fdIIH36z74nvETmGWdx95K2Az7ti7U1gB+lla6DLhBWDUmuUrxX1CPwkuc5ZaKtuYGHU3u6quUYRauC7aR8FJmK12fa+8sLPHvkXRY5DJI/2djMsW7V4eZkCoJzq9D7/i6GXfmskFoiDgEAopzoPe8ZcK9dt4Hj+DAYMZMNE5asBBh0JkhbgqUJNPooyRA90kwakhYM114VsC5HpW0kGPUUWq23nC7974j//1TCMdM+m4PHDdXarrb7ZEKVyAuD0Cc/vnxh7+XfyuAsUFFwEmhATz/M9Xe+MDQ+uXHsTLwiZ3QTAt4DTiFiaQtI84KWSHkoDALKWeedw9Sq3ox3MBewAZSUHyCJZtz/39JPf/xZ8I7OBH8dx0d6u0IGdDjkkNTTrkv1iBgBRah3ti7z8dN9zT0VHhhJ0BQg9NnQjK4kVxN6uztGhgVXrb4F4MOnNGWzuMWYJWBfqhuFUx8AOMCUh1tlbv0ER6xKin5xmQdTd+YdnnvzeNyGJgxOe4ayUEQUgR1hVFPepLv/+nbWYWOYt1HnxIgRACnnkbb/q+t/HPf09IPp0+73kXzohmToLGPSfOOb3uK+58RaM8KT3BkyPhPBpnzyfuHgWcYh0yvWKo82Cc1B7yWbft+Plrd/5mvmoXBbjAGokCHySSsH96Lo+euxto6ujYcFCrbrxogLAOdjd9dg3h453wnMC05z0KpLJEaf0YIJ40HP8bTkWXbHuJsikJrU0hK90jUUaUKjFoikMtzPY7Kyps/J40hp30Wo9+U7Hf3/jK5oiQ1DJStkoNbuJcmymp4J7iwQDowf2LGxp1prbLhIAqt49/NYPv6XE4+Dfc74FBtIkhBoGzfzPREzmT7x9SLRYlq9am9k5RRCEU93Hf//U1iPH3t33Ts+rHQP7Dx93D/RcsfwqjjtTdgMz8o6NPPb1v/eOjwqiZUq9DolCjvsBFQFsXB37Fy2YrzYtnPN5gMP17l9+/B1iGOd4ExhEBsqo68ZUGYHgnt36WPPCS9Zs+FB8ojkoOPJTx4/2Hdk/bLUnUKOY6IHhvjvu2VJb38Ak+q+CHOGiT33/W4O9p8AL5dA7FuOzlFfN7xLy1tZHr/tqXaj1ijmcCVvkcPfW72qa9p7vYcMzQzScWjPG5rvU5Fc/eGRkoA80egIwMtTfJ1gsoMJWkZNEHv4NgTTo96VlKlik7c/9+tDeP+WUfhLyc0wxJDCgJ578oaRE5zAAxusve0dHOO69jQyZjJDNKREgo+7R4d/95Ltm8WfiCKfTaWSxI3qmTASPxAv+od5tTz/Oi+JZ5Gu6+3PPEcD9eEZG9DdfnasA2CK+k9tf5Pnzmlinpk9g04YyqT0Z5FD7dv3x2O4Xax12g1BwVp+9/2PzGhvSLdJlWVm1csXSpUsVVSOUWdpkP7jtN+7x8TTlpxktKMxNLfnzcrw8z/XueEkq8E5nhQJA79wfjUYxvoDzg0+RJNOziEAPTYKO08EAs/yzv9x6qRCtr7LEZOW6ZZfcv+WuWFxOVUYR+uzHN9skEaxk1QKHNTLy0kvbLJKU9ic8y4pmHxYBTi9J0vkYZfKLwUAA93TOPQBYQx89uPeCpJ+6GyA/HAfyNylTxtdBdse7T+7e/uraVtuiWgmS4gc+/pFFba2aroPWr1zevnH99VUsWdPqmF/FvbZrz8joeFrKCUKVOCfHgfO5oMll+K7n0BuokC8wFwQAi3/Uc7pvej1QwLGAS4nHZS17EwYIyM+9+BKIb0WLTUBMTU31xzbfDkdCkL/x+tUA2NIGS6Pd9Dlv7NufyS8NwzBPKCvT2NUBrNDd3SnGI3MMANLXpSjKNHo/gD+RQaUT3TPQZAcldhw+0tPTy0zMgzmr7HA8XMXt8aaPBzy6urr5KV7e3GjDREu/oJsCI47FYni0fy4BgCnxHT00vc4bCCNwFDlb+YM9+fz+nXv2pj8JhSOme2HZvsHhdIx1jYyOjI3l9PKJXBdf6AIJQE7pPzGXABDikfFTJ6bZg4ma3ONswQNkvWPX7vSv0VgcUGY5dnhkLBJNtXh1uVwBfyDn1QHaadwVwObv7ixcGMg/AKxnWI5Gpt17xiQtPJdTT0VRPPL2O8PDrhQAcRkl6qnBUHhkLLUJVW9//9l8feK0dBr3ExgaEKPBOQOA4eqH+DltAJJlMnPdSS4v5Ha739x/IPkreGez8RJCkUh00DWa/HBwcIhMkTJ8ANqf85znA0AkEubD3rkBAGJo8NSxaRDQSYmxYPaUzA3P7r1/TgEQjyen4wHv04OpjcqHXa5cbsT0P9NeHmdSg74TcwMAVo4GB/tn2PuKJioBEDBzBBhBONTRYeq+GQPk5HXgcj39qV2BRkbGJjn6VJo9E52gND58GhVmfWO+AYhHQl7PDC0gpbO5CgbA9wcGhjqPHmPMHR7iyfVxcLn+AdMCVFUdBQqUDQBKhN8ZyQjCTP+72NDmAgDjw/oMAkCW106UjKdyElmOv/7mPhMAOZVqwJGj425wRBAM/AH/pG8lZoEwnRkAIfeYKEfnAACqZyRfbZ+TRjDV7oF3Hjj4lqpqOlwIJYMzHnV7IC3w+rwxk5uiTCAzp72m/1yqynhH5gIAI4P5OlXSCKZGAlEQj3d39/T1EUKTpR3Q0Gg07hp1+7w+8EuZFpCsPM9YFRAk2Mg/XuoAQLYSdA3OPABkGoEARjCFjHq93jf3H8xYoYsUVR0Ydnm83swSyEzY52Qxsaz/5LFCAJDPKUlRjUe97jy2/wQJmstFMc6efmFA93ft2SsrZ1qNGsToPT3EG/GsFaKI4dg8vZxBacwzJhHDwGzpAmD4xrV4LL/9V1Eig9VB1tlcqOPwEc7RmLY2juV6+wc4LYwnmo8m1R/0Py/yh4Q7NuZqjIcNW3XpAsDpKrhgjsvnOZMsHozAXECHsrJTgbUilk9W7kDUPX2neS2UjhnJ5MsEMB8IQLAJB4OCpqil7IKwf7wQ3SeTdMgwsp+dGERT8MROQKDsQyMjTMyXngRNsU+ar3tAhBBj5DRT3VS6QTg0PJDHCDwpEkylQwBABtthw+Gw3+dLHkbPPss/7aGDDQbzXxHKp7z0WKRA/VdzJcaI6iqTrhKjxBa2Zh00QUzzGH4zwlF8qL90ATBXQgW8BXoBMWkEWeZlvg2pU5B4Ws8n1jcmDubywj6z6C/GweEBRIwSBQBpqhzw4YK1oE/SoazJMgpeWZ2Yi0TUBIBOhN/878cAYSDq94iaXKIAmO+HBgOF2wOAJqjOpH3h6ZkwQCmZ8D+JZYeFsEU9HmcC7hIFwIKoHIsWdBOGKdWhZBgwEtMQlCaqlWbxh+UKcRfJCXpOLVUL4GMhpsDbkEyuDiXDgKEn346nqWW5iMsf+5xyA5QZHShRANSAbxZaAKTmtjLCABgBmJ0JAyEp9okLFocQDo+6ShSASMDPZPcOKJQRcJnTW4joZhigZjSmCEKEYClcZw7zPfygm83rCom8AWAVOEVRmFkwAnOG68ye5GAB1HzBw9wVEfEWhpOYgm1IBf4tOjLE5pUI5Q0ADrIwZjZGws9wyXfqU97fUAEAc92VaKW4gK+cIIwDPr+NpaUIgBosYBIw1Rlz5qY/Ka9kKDGzoRArYF4q7EJahFRV5fz5ZKJ50xc1XKilSznKG5RyiNHMl8uIWSZTomYTA6sDYjFWwzSjn1DejU/VdBwLliIAUa976huQ+UpBc0YCQeCVZHkYCCjCvCDyehhyA6aQ+5HJqmKL5bMk9/8CDACwy99BIeOUywAAAABJRU5ErkJggg=="};e.fn.bhHeader=function(t,a){var n;return n=this.data("bhHeader"),n?!0===t?n:"string"===e.type(t)?n[t](a):this:this.each(function(){return e(this).data("bhHeader",new Q(this,t))})},e.fn.bhHeader.defaults={openTheme:!1,showAsideNav:!1,logo:"",logoHref:"",title:"",icons:[],img:"",isNavHide:!1,nav:[],dropMenu:[],userInfo:{},feedback:!1,feedbackData:{sourceId:"",sourceName:"",uploadImageUrl:"",submitUrl:""},appDetail:!1,appDetailData:{appId:"",rootPath:""},ready:null},Q=function(){function a(a,n){this.settings=e.extend({},e.fn.bhHeader.defaults,n),q.nav=this.settings.nav,q.isNavHide=this.settings.isNavHide,this.$element=e(a),q.$dom=this.$element,t(this.settings,this.$element)}return a.prototype.resetNavActive=function(t){t=e.extend({},{activeIndex:NaN},t),R(t,this.$element)},a.prototype.showNav=function(){$("show")},a.prototype.hideNav=function(){$("hide")},a}()}(jQuery),function(e){function t(e,t){u=e.source,p=t,f=e.contentContainer,b=e.mode;var n=l(e.source);p.html(n),a(e.activeIndex),o()}function a(e){n(i(e)+"")}function n(e){if(null!=e){var t=p.find(".bh-menu-link-item[menuId='"+e+"']"),a=t.text(),n=t.attr("data-title");if(!1===p.triggerHandler("activeChange",[e,a,n,t]))return!1;h&&(p.find(".bh-menu-link-item[menuId='"+h+"']").removeClass("bh-active"),f.find(".bh-menu-content[id='"+h+"']").hide()),h=e,t.addClass("bh-active"),f.find(".bh-menu-content[id='"+h+"']").show()}}function i(e){var t=null;return u&&(t=u[e].id),t}function o(){p.on("click",".bh-menu-link-item",function(){if(e(this).hasClass("bh-disabled"))return!1;if("link"==b){var t=e(this).attr("menu-data-url");window.open(t)}else{n(e(this).attr("menuId"))}})}function r(e){var t=i(e);p.find(".bh-menu-link-item[menuId='"+t+"']").addClass("bh-disabled")}function s(e){var t=i(e);p.find(".bh-menu-link-item[menuId='"+t+"']").removeClass("bh-disabled")}function l(e){var t="";if(e){t='<div class="bh-menu-link">';for(var a=0,n=e.length;a<n;a++)t+=d(e[a]);t+="</div>"}return t}function d(e){var t="";return e&&(t='<div class="bh-menu-link-item" menuId="'+e.id+'" menu-data-url="'+e.url+'" data-title="'+e.title+'">',t+=e.title,t+="</div>"),t}var c,h,u,p,f,b;c=function(){function a(a,n){this.settings=e.extend({},e.fn.bhMenu.defaults,n),this.$element=e(a),t(this.settings,this.$element)}return a.prototype.enableItem=function(e){s(e)},a.prototype.disableItem=function(e){r(e)},a}(),e.fn.bhMenu=function(t,a){var n;return(n=this.data("bhMenu"))?!0===t?n:("string"===e.type(t)&&n[t](a),this):this.each(function(){return e(this).data("bhMenu",new c(this,t))})},e.fn.bhMenu.defaults={source:[],activeIndex:0,contentContainer:e("body"),mode:"tab"}}(jQuery),function(){function e(e,t){e.toggleClass("jqx-widget",!0),e.data("jqxWidget",t)}function t(e){var t=e.val()||e.find("input").val();if(t){var a=e.jqxNumberInput("decimalDigits");if(a){for(var n=(t+"").split("."),i=n[1]||"0",o=0;o<a-1;o++)i[o]||(i+="0");t=[n[0]||"0",i].join(".")}}return t}function a(e,t){if(this.each(function(t,a){var n=$(a),o=n.data("we.bhNumRange"),r={};"object"==typeof e&&(r=e),o||n.data("we.bhNumRange",o=new i(a,r))}),"string"==typeof e)return this.data("we.bhNumRange")[e](t)}var n=['<div class="bh-num-range">','<div class="bh-num-range__input-wrap bh-pull-left">','<div class="bh-num-range__input bh-num-input__1 "></div>',"</div>",'<span class="bh-num-range__linkLine"></span>','<div class="bh-num-range__input-wrap bh-pull-right">','<div class="bh-num-range__input bh-num-input__2"></div>',"</div>","</div>"].join(""),i=function(t,a){return this.$elem=$(t),this.template=n,this.$input1=null,this.$line=null,this.$input2=null,this.options=$.extend({},i.DEFAULT,a),this.init(),e(this.$elem,this),this};i.DEFAULT={spinButtons:!0,inputMode:"simple",decimal:null,decimalDigits:0,promptChar:"",width:null,input1:null,input2:null},i.prototype.init=function(){var e=this.$elem;e.html(this.template),this.$input1=e.find(".bh-num-input__1"),this.$input2=e.find(".bh-num-input__2"),this.$line=e.find(".bh-num-range__linkLine");var t,a=$.extend(!0,this.options,{}),n=a.input1,i=a.input2;delete a.input1,delete a.input2,t=null!==a.width?Math.floor((a.width-15)/2):Math.floor(((0!=this.$elem.width()?this.$elem.width():300)-15)/2),this.$elem.find(".bh-num-range__input-wrap").width(t),delete a.width,n=$.extend({width:t},a,n),i=$.extend({width:t},a,i),this.$input1.jqxNumberInput(n),this.$input2.jqxNumberInput(i)},i.prototype.bindEvent=function(){var e=this;this.$input1.on("change",function(t){var a=t.args.value;e.$input2.jqxNumberInput({min:a})}),this.$input2.on("change",function(t){var a=t.args.value;e.$input1.jqxNumberInput({max:a})})},i.prototype.upgradeInputWidth=function(){var e=Math.floor((this.$elem.width()-20)/2);this.$input1.jqxNumberInput("width",e),this.$input2.jqxNumberInput("width",e)},i.prototype.val=function(e){return arguments.length?this.setValue(e):this.getValue()},i.prototype.setValue=function(e){""!==e.input1&&this.$input1.val(e.input1),""!==e.input2&&this.$input2.val(e.input2)},i.prototype.getValue=function(){var e=[t(this.$input1),t(this.$input2)].join(",");return","==e?"":e},i.prototype.disabled=function(e){"boolean"==typeof e&&(e={input1:e,input2:e}),this.$input1.jqxNumberInput("disabled",e.input1),this.$input2.jqxNumberInput("disabled",e.input2)},$.fn.bhNumRange=a,$.fn.bhNumRange.constructor=i}(),function(){function e(e){var a=e.$element,n=e.settings;switch(n.mode){case"simple":a.html(m),t(e),0==n.pagerButtonsCount&&(a.find('[pager-flag="simpleOnliOne"]').text(n.pagenum+1),n.pagenum>0&&a.find('[pager-flag="simplePrev"]').removeClass("bh-btn-disabled"));break;case"advanced":a.html(v),s(a,n)}a.find('[pager-flag="gotoPage"]').val(n.pagenum+1),c(e),a.children(".bh-pager").removeClass("bh-hide"),l(e)}function t(e){var t=e.settings,n=e.$element,i=t.pagesize,o=e.getTotal(),r=t.pagerButtonsCount,s=Math.ceil(o/i),l="",d=0,c=1==s||0==s,h=t.pagenum+1==s;0==r||1==s||0==s?(0!=s&&(d=1),l='<div class="bh-pager-simple-numHtml" pager-flag="addNumBtn"><a href="javascript:void(0);" class="waves-effect bh-pager-btn bh-pager-simpleBtn bh-simplePager-active" pager-flag="simpleOnliOne">'+d+"</a></div>",n.find('[pager-flag="pageNumEle"]').append(l),n.find('[pager-flag="simplePrev"]').addClass("bh-btn-disabled"),(c||h)&&n.find('[pager-flag="simpleNext"]').addClass("bh-btn-disabled")):(l='<div class="bh-pager-simple-numHtml" pager-flag="addNumBtn"></div>',n.find('[pager-flag="pageNumEle"]').append(l),a(t,n,s)),n.find("#bh-pager-simple-total").text(o)}function a(e,t,a){var i,o=a-e.pagerButtonsCount;o>2?(i=n(e,t,a),t.find('[pager-flag="addNumBtn"]').html(i)):r(t,a-1,a);var s=$(t.find("[pager-flag=simpleGotoPage]")),l=s.filter(function(t){return parseInt(s[t].innerText)==e.pagenum+1});l.addClass("bh-simplePager-active");var d=parseInt(l.text());1==d&&t.find("[pager-flag=simplePrev]").addClass("bh-btn-disabled"),d==a&&t.find("[pager-flag=simpleNext]").addClass("bh-btn-disabled")}function n(e,t,a){var n="",r=i(e),s=e.pagerButtonsCount,l=e.pagenum,d=s+l<=a-1,c=l-1>=2,h='<a href="javascript:void(0);" class="waves-effect bh-pager-btn bh-pager-simpleBtn" pager-flag="simpleGotoPage">1</a>',u='<a href="javascript:void(0);" class="waves-effect bh-pager-btn bh-pager-simpleBtn" pager-flag="simpleGotoPage">'+a+"</a>",p='<a href="javascript:void(0);" class="waves-effect bh-pager-btn bh-pager-simpleBtn ellipsis" pager-flag="changeRightEllipsis">...</a>',f='<a href="javascript:void(0);" class="waves-effect bh-pager-btn bh-pager-simpleBtn ellipsis" pager-flag="changeLeftEllipsis">...</a>';if(0==l||l<=s)n=h+o(t,e.pagerButtonsCount+1,a)+p+u;else{var b=o(t,e.pagerButtonsCount+1,a,r-1);c&&d?n=h+f+b+p+u:c?n=h+f+b+u:d&&(n=h+b+p+u)}return n}function i(e){var t=0,a=e.pagerButtonsCount,n=e.pagenum+1,i=n%a,o=parseInt(n/a);return 0==i?t=n-Math.floor(a/2):1==i?t=1==o?n:n-(a-1):2==i?t=n:i>2&&(t=a*o+2),t}function o(e,t,a,n){var i=1,o="";n&&(i=n);for(var r=1;r<t&&(i+=1)!=a;r++)o+='<a href="javascript:void(0);" class="waves-effect bh-pager-btn bh-pager-simpleBtn" pager-flag="simpleGotoPage">'+i+"</a>";return o}function r(e,t,a){for(var n=0,i="",o=1;o<t;o++)n=o+1,i+='<a href="javascript:void(0);" class="waves-effect bh-pager-btn bh-pager-simpleBtn" pager-flag="simpleGotoPage">'+n+"</a>";var r='<a href="javascript:void(0);" class="waves-effect bh-pager-btn bh-pager-simpleBtn" pager-flag="simpleGotoPage">1</a>'+i+'<a href="javascript:void(0);" class="waves-effect bh-pager-btn bh-pager-simpleBtn" pager-flag="simpleGotoPage">'+a+"</a>";e.find('[pager-flag="addNumBtn"]').html(r)}function s(e,t){e.find('[pager-flag="pagerOptionSel"]').jqxDropDownList({source:t.pageSizeOptions,selectedIndex:t.selectedIndex,width:"60",height:"26",dropDownHeight:"100",enableBrowserBoundsDetection:!0})}function l(e){var t=e.$element,n=e.settings,i=e.settings.mode;if(t.off("click",'[pager-flag="prev"]').on("click",'[pager-flag="prev"]',function(){var t=e.getPagenum();t<=1||(h(t-1,e),c(e),b(e,$(this)))}),t.off("click",'[pager-flag="next"]').on("click",'[pager-flag="next"]',function(){var t=e.getPagenum();t>=u(e)||(h(t+1,e),c(e),b(e,$(this)))}),t.off("keyup",'[pager-flag="gotoPage"]').on("keyup",'[pager-flag="gotoPage"]',function(t){if(13==t.keyCode){var a=e.getPagenum();if(a<1||a>u(e))return void h(1,e);h(a,e),c(e),b(e,$(this))}}),"advanced"==i&&t.off("select",'[pager-flag="pagerOptionSel"]').on("select",'[pager-flag="pagerOptionSel"]',function(t){h(0,e),c(e),b(e,$(this))}),"simple"==i){var o=Math.ceil(e.getTotal()/n.pagesize);n.pagerButtonsCount;t.off("click",'[pager-flag="changeRightEllipsis"]').on("click",'[pager-flag="changeRightEllipsis"]',function(){t.find(".bh-simplePager-active").removeClass("bh-simplePager-active");var i=t.find('[pager-flag="changeRightEllipsis"]').prev();n.pagenum=parseInt(i.text()),a(n,t,o),b(e,$('[pager-flag="changeRightEllipsis"]',t))}),t.off("click",'[pager-flag="changeLeftEllipsis"]').on("click",'[pager-flag="changeLeftEllipsis"]',function(){var i=t.find('[pager-flag="changeLeftEllipsis"]').next(),r=parseInt(i.text());n.pagenum=r-n.pagerButtonsCount,a(n,t,o),t.find(".bh-simplePager-active").removeClass("bh-simplePager-active");var s=t.find("[pager-flag=simpleGotoPage]")[n.pagerButtonsCount];$(s).addClass("bh-simplePager-active"),b(e,$('[pager-flag="changeLeftEllipsis"]',t))}),t.off("click",'[pager-flag="simplePrev"]').on("click",'[pager-flag="simplePrev"]',function(){var a=t.find('[pager-flag="simpleNext"]').hasClass("bh-btn-disabled");t.find('[pager-flag="simplePrev"]').hasClass("bh-btn-disabled")||(a&&t.find('[pager-flag="simpleNext"]').removeClass("bh-btn-disabled"),p(n,t,o),b(e,$(this)))}),t.off("click",'[pager-flag="simpleNext"]').on("click",'[pager-flag="simpleNext"]',function(){var a=t.find('[pager-flag="simpleNext"]').hasClass("bh-btn-disabled"),i=t.find('[pager-flag="simplePrev"]').hasClass("bh-btn-disabled");a||(i&&t.find('[pager-flag="simplePrev"]').removeClass("bh-btn-disabled"),f(n,t,o),b(e,$(this)))}),t.off("click",'a[pager-flag="simpleGotoPage"]').on("click",'a[pager-flag="simpleGotoPage"]',function(){var i=$(this),r=parseInt(i.text());n.pagenum=r-1,a(n,t,o);var s=t.find('a[pager-flag="simpleGotoPage"]').filter(function(){return $(this).text()==r});b(e,s)})}}function d(e){var t=1,a=1,n=e.getPagenum(),i=e.getTotal(),o=e.getPagesize();return a=n*o<i?n*o:i,t=o*(n-1)+1,0==i&&(t=0,a=0),t+"-"+a}function c(e){var t=d(e);e.$element.find('[pager-flag="pageInfo"]').html(t+$.i18n("bha-pagination-totalRecord")+e.settings.totalSize)}function h(e,t){(isNaN(e)||e<1)&&(e=1);var a=u(t);e>a&&(e=a),t.$element.find('[pager-flag="gotoPage"]').val(e)}function u(e){var t=e.getTotal(),a=e.getPagesize();return Math.ceil(t/a)}function p(e,t,n){if(0==e.pagerButtonsCount){var i=parseInt(t.find('[pager-flag="simpleOnliOne"]')[0].innerText)-1;t.find('[pager-flag="simpleOnliOne"]').text(i),1==i&&t.find('[pager-flag="simplePrev"]').addClass("bh-btn-disabled")}else{var o=t.find(".bh-simplePager-active");o.prev().prev().hasClass("ellipsis")?e.pagenum=parseInt(o.text())-Math.floor(e.pagerButtonsCount/2):1===e.pagerButtonsCount?e.pagenum=parseInt(o.text())-2:e.pagenum=parseInt(o.text())-e.pagerButtonsCount+1,a(e,t,n),t.find(".bh-simplePager-active").removeClass("bh-simplePager-active");var r=t.find("[pager-flag=simpleGotoPage]"),s=r.filter(function(e){return parseInt(r[e].innerText)==parseInt(o.text())-1});s.addClass("bh-simplePager-active"),1==parseInt(s.text())&&t.find("[pager-flag=simplePrev]").addClass("bh-btn-disabled")}}function f(e,t,n){if(0==e.pagerButtonsCount){var i=parseInt(t.find('[pager-flag="simpleOnliOne"]')[0].innerText)+1;t.find('[pager-flag="simpleOnliOne"]').text(i),i==n&&t.find('[pager-flag="simpleNext"]').addClass("bh-btn-disabled")}else{var o=t.find(".bh-simplePager-active").text();e.pagenum=parseInt(o),a(e,t,n)}}function b(e,t){var a=e.getPagenum()-1,n=e.getPagesize(),i=e.getTotal();t.trigger("pagersearch",[a,n,i])}var g,v="",m="";$.fn.pagination=function(e,t){var a=new g(this,e);return!0===e?a:this},$.fn.pagination.defaults={mode:"advanced",pagesize:10,pageSizeOptions:[10,20,50,100],selectedIndex:0,pagenum:0,totalSize:0,pagerButtonsCount:0},g=function(){function t(t,a){v='<div class="bh-pager bh-hide"><div class="bh-pull-left"><a href="javascript:void(0);" class="bh-pager-btn waves-effect" pager-flag="prev"><i class="iconfont icon-keyboardarrowleft bh-pager-left-arrow"></i></a><a href="javascript:void(0);" class="bh-pager-btn waves-effect" pager-flag="next"><i class="iconfont icon-keyboardarrowright bh-pager-right-arrow"></i></a><span class="bh-pager-num" pager-flag="pageInfo"></span><label class="bh-pager-label">'+$.i18n("bha-pagination-jump")+'</label><input type="text" class="bh-form-control bh-pager-input" pager-flag="gotoPage"/><span>'+$.i18n("bha-pagination-page")+'</span></div><div class="bh-pull-right"><div pager-flag="pagerOptionSel" class="bh-pull-right"></div><label class="bh-pull-right bh-pager-label bh-pager-right-text">'+$.i18n("bha-pagination-perPage")+"</label></div></div>",m='<div class="bh-pager bh-hide"><div class="bh-pull-left"><a href="javascript:void(0);" class="waves-effect bh-pager-simplePrev bh-pager-btn" pager-flag="simplePrev"><i class="iconfont icon-keyboardarrowleft"></i></a><div class="bh-pageNum-con" pager-flag="pageNumEle"></div><a href="javascript:void(0);" class="waves-effect bh-pager-simpleNext bh-pager-btn" pager-flag="simpleNext"><i class="iconfont icon-keyboardarrowright"></i></a></div><div class="bh-pull-right"><label class="bh-pull-right bh-pager-label bh-mh-16">'+$.i18n("bha-pagination-total")+'<span id="bh-pager-simple-total"></span>'+$.i18n("bha-pagination-tiao")+"</label></div></div>",this.settings=$.extend({},$.fn.pagination.defaults,a);for(var n=a.pagesize,i=this.settings.pageSizeOptions,o=0;o<i.length;o++)i[o]==n&&(this.settings.selectedIndex=o);this.$element=$(t),e(this)}return t}(),g.prototype.getPagenum=function(){return"advanced"==this.settings.mode?parseInt(this.$element.find('[pager-flag="gotoPage"]').val()):"simple"==this.settings.mode?0==this.pageSizeOptions?parseInt(this.$element.find('[pager-flag="simpleOnliOne"]')[0].innerText):parseInt(this.$element.find(".bh-simplePager-active").text()):void 0},g.prototype.getPagesize=function(){return"advanced"==this.settings.mode?this.$element.find('[pager-flag="pagerOptionSel"]').jqxDropDownList("val"):"simple"==this.settings.mode?this.settings.pagesize:void 0},g.prototype.getTotal=function(){return this.settings.totalSize}}.call(void 0),function(e){function t(t){var n=e("body");e(window).scrollTop(0);var o=e("#pageHeader"),l=o.children('[bh-header-role="bhHeader"]');l.hasClass("bh-normalHeader-hide")&&(l.removeClass("bh-normalHeader-hide").addClass("bh-normalHeader-show"),o.children('[bh-header-role="bhHeaderMini"]').removeClass("bh-miniHeader-show").addClass("bh-miniHeader-hide"),o.children(".bh-header-bg").removeClass("").addClass("bh-headerBg-hide"));var c="",h=p();t=i(t,h),h.length>0&&(h.find(".bh-paper-pile-closeIcon").hide(),h.find(".bh-paper-pile-dialog-container").addClass("bh-bg-transparent")),setTimeout(function(){
if(h.length>0)h.find("div[bh-paper-pile-dialog-role=bhPaperPileDialogBody]").hide();else{var t="",a=r();t=a||e("[bh-container-role=container]"),t&&t.length>0&&t.addClass("bh-border-transparent").addClass("bh-bg-transparent")}},450),t.titleContainer.addClass("bh-animated-doubleTime").removeClass("bh-paper-pile-dialog-parentTitle-toRestore").addClass("bh-paper-pile-dialog-parentTitle-toSmall"),setTimeout(function(){t.titleContainer.addClass("bh-paper-pile-dialog-parentTitle-change")},720);var u=t.titleContainer.attr("bh-paper-pile-dialog-role-title-guid");if(u)c=e("div[bh-paper-pile-dialog-role-guid="+u+"]"),c.removeClass("bh-negative-zIndex").show(),c.find("div.bh-paper-pile-dialog-container").removeClass("bh-paper-pile-dialog-outDown").addClass("bh-paper-pile-dialog-intoUp"),setTimeout(function(){void 0!==t.open&&t.open instanceof Function&&t.open()},900),void 0!==t.openBefore&&t.openBefore instanceof Function&&t.openBefore();else{var f=D(),g=m();t=s(t);var v="",k="bhFooterNoActiveFlag";t.footer&&(v=t.footer,k="");var w=t.layoutRole?t.layoutRole:"",x=t.layoutClass?t.layoutClass:"",N=t.referenceContainer.outerWidth(),I=t.titleContainer.offset();I||b("触发纸质弹框的页面没有h2");var S=I.top,P=t.referenceContainer.offset().left,E=S+32,B="";B+="left:"+P+"px;",B+="top:"+E+"px;",B+="width:"+N+"px;";var A=d();B+="height:-moz-calc(100% - "+parseInt(E+A.footerHeight)+"px);",B+="height:-webkit-calc(100% - "+parseInt(E+A.footerHeight)+"px);",B+="height:calc(100% - "+parseInt(E+A.footerHeight)+"px);";var L=t.title?68:0,R=A.windowHeight-A.footerHeight-E-L;g=g.replace("@title",t.title).replace("@footerHtml",v).replace("@footerClass",k).replace("@content",t.content).replace("@guid",f).replace("@style",B).replace("@bodyStyle","min-height:"+R+"px").replace(/@layoutRole/g,w).replace("@layoutClass",x),c=e(g),0===t.insertContainer.length&&(t.insertContainer=n),t.title||(c.find("div[bh-paper-pile-dialog-role=bhPaperPileDialogHeader]").hide(),t.layoutRole&&-1!==t.layoutRole.indexOf("navLeft")||c.find("div[bh-paper-pile-dialog-role=bhPaperPileDialogBody]").css("margin-top","24px")),t.hideCloseIcon&&c.find("[bh-paper-pile-dialog-role=bhPaperPileDialogCloseIcon]").hide(),t.aside?c.find("[bh-paper-pile-dialog-role=bhPaperPileDialogFooter]").before(t.aside):c.find("[bh-paper-pile-dialog-role=bhPaperPileDialogFooter]").before('<aside bh-paper-pile-dialog-role="aside"></aside>'),t.insertContainer.append(c);var $=1,M=n.data("bh-paper-pile-dialog"),H={titleContainer:t.titleContainer,insertContainer:t.insertContainer,referenceContainer:t.referenceContainer,addDialogFlagClass:t.addDialogFlagClass,toHideContainer:t.toHideContainer,close:t.close,autoDestroy:t.autoDestroy,closeBefore:t.closeBefore,guid:f,index:$};if(M?($=M.length+1,H.index=$,M.push(H)):M=[H],n.data("bh-paper-pile-dialog",M),c.attr("bh-paper-pile-dialog-role-index",$),t.titleContainer.attr("bh-paper-pile-dialog-role-title-guid",f),t.referenceContainer.attr("bh-paper-pile-dialog-role-container-guid",f),t.toHideContainer){var O=t.toHideContainer.length;if(O>1)for(var _=0;_<O;_++)t.toHideContainer[_].attr("bh-paper-pile-dialog-role-hide-container-guid",f);else{t.toHideContainer.attr("bh-paper-pile-dialog-role-hide-container-guid",f);var z=t.multipleHideContainer,j=z.length;if(j>0)for(var F=0;F<j;F++){var U=z[F];U.length>0&&U.attr("bh-paper-pile-dialog-role-hide-container-guid",f)}}}if(t.addDialogFlagClass&&c.addClass(t.addDialogFlagClass),t.footer){c.find("div[bh-paper-pile-dialog-role=bhPaperPileDialogBody]").css({"padding-bottom":66})}c.data("closeFun",t.close),c.data("closeBeforeFun",t.closeBefore);var Y=a(c);if(t.compile&&t.compile(Y.dialogHeader,Y.dialogSection,Y.dialogFooter,Y.dialogAside),setTimeout(function(){T(c,t),t.openDialogDom.length>0&&(t.openDialogDom.attr("bh-paper-pile-dialog-bind-btn",f),t.openDialogDom.trigger("ready",[Y.dialogHeader,Y.dialogSection,Y.dialogFooter,Y.dialogAside])),void 0!==t.ready&&t.ready instanceof Function&&t.ready(Y.dialogHeader,Y.dialogSection,Y.dialogFooter,Y.dialogAside)},910),t.openDialogDom.length>0&&t.openDialogDom.trigger("render",[Y.dialogHeader,Y.dialogSection,Y.dialogFooter,Y.dialogAside]),void 0!==t.render&&t.render instanceof Function){var Y=a(c);t.render(Y.dialogHeader,Y.dialogSection,Y.dialogFooter,Y.dialogAside)}}if(t.toHideContainer){var O=t.toHideContainer.length;if(O>1)for(var _=0;_<O;_++)t.toHideContainer[_].hide();else{t.toHideContainer.hide();var z=t.multipleHideContainer,j=z.length;if(j>0)for(var F=0;F<j;F++){var U=z[F];U.length>0&&U.hide()}}}setTimeout(function(){y(c,t),c.find("div.bh-paper-pile-dialog-container").removeClass("bh-paper-pile-dialog-intoUp"),C(c),BH_UTILS&&BH_UTILS.wavesInit()},900),e("[bh-footer-role=footer]").hide()}function a(e){var t=e.find("[bh-paper-pile-dialog-role=bhPaperPileDialogHeader]"),a=e.find("[bh-paper-pile-dialog-role=bhPaperPileDialogBody]"),n=a.children("section"),i=e.find("[bh-paper-pile-dialog-role=aside]");return{dialogHeader:t,dialogSection:n,dialogFooter:e.find("[bh-paper-pile-dialog-role=bhPaperPileDialogFooter]").children("footer"),dialogAside:i}}function n(t){return e('[bh-paper-pile-dialog-bind-btn="'+t+'"]')}function i(e,t){if(t)e=o(e,t,!0);else{var a=r();a&&a.length>0&&(e=o(e,a,!1))}return e}function o(e,t,a){if(t&&t.length>0&&(e.titleContainer||(a?e.titleContainer=t.find("[bh-paper-pile-dialog-role=bhPaperPileDialogHeader]"):t.children("h2").length>0?e.titleContainer=t.children("h2"):e.titleContainer=t.children("hgroup")),e.referenceContainer||(e.referenceContainer=a?t.find("[bh-paper-pile-dialog-role=bhPaperPileDialogBody]"):t),!e.toHideContainer))if(a){var n=e.referenceContainer.closest("[bh-paper-pile-dialog-role=bhPaperPileDialog]");e.toHideContainer=n.find("[bh-paper-pile-dialog-role=bhPaperPileDialogBody]");var i=n.children(".bh-paper-pile-dialog-container").children("aside"),o=n.find('[bh-paper-pile-dialog-role="bhPaperPileDialogFooter"]'),r=n.find('[bh-paper-pile-dialog-role="pageFooter"]');e.multipleHideContainer.push(i),e.multipleHideContainer.push(r),o.hasClass("bhFooterNoActiveFlag")||e.multipleHideContainer.push(o)}else{var s=t.attr("bh-layout-role");s&&s.indexOf("navLeft")>-1?e.toHideContainer=[t.children("section"),t.children("nav")]:e.toHideContainer=t.children("section")}return e}function r(){var t=null,a=e("body");if(a.children("main").length>0){var n=a.children("main").children("article");n.length>0&&(t=n)}return t}function s(t){var a=t.content,n=e(a),i=n.children("h2"),o=n.children("footer"),r=!1;if((0===t.openDialogDom.length||n.length>0)&&"article"===n.first().prop("localName")&&n.children("section").length>0&&(r=!0),t.title?(t.title='<h2 class="bh-paper-pile-dialog-headerTitle" bh-paper-pile-dialog-role="bhPaperPileDialogHeader">'+t.title+"</h2>",r&&i.remove()):i.length>0?(i.addClass("bh-paper-pile-dialog-headerTitle").attr("bh-paper-pile-dialog-role","bhPaperPileDialogHeader"),t.title=i[0].outerHTML,i.remove()):t.openDialogDom.length>0&&"false"!==t.openDialogDom.attr("bh-show-head")&&(t.title='<h2 class="bh-paper-pile-dialog-headerTitle" bh-paper-pile-dialog-role="bhPaperPileDialogHeader"></h2>'),t.footer?(t.footer='<footer class="bh-clearfix">'+t.footer+"</footer>",r&&o.remove()):o.length>0?(o.addClass("bh-clearfix"),t.footer=o[0].outerHTML,o.remove()):t.openDialogDom.length>0&&"false"!==t.openDialogDom.attr("bh-show-footer")&&(t.footer='<footer class="bh-clearfix"></footer>'),r){var s=n.children("aside");s.length>0&&(t.aside=s[0].outerHTML,s.remove()),t.layoutRole=n.attr("bh-layout-role"),t.layoutClass=n.attr("class"),t.content=n[0].innerHTML}else t.content="<section>"+t.content+"</section>";return t}function l(e){var t=d(),a=e.offset().top,n=t.windowHeight-t.footerHeight-a;e.css("min-height",n+"px")}function d(){return{windowHeight:e(window).height(),footerHeight:e("[bh-footer-role=footer]").outerHeight(),headerHeight:e("[bh-header-role=bhHeader]").outerHeight()}}function c(t){var a="",n="",i="",o="";if(t.titleContainer?(n=t.titleContainer,o=n.attr("bh-paper-pile-dialog-role-title-guid")):t.referenceContainer?(i=t.titleContainer,o=i.attr("bh-paper-pile-dialog-role-container-guid")):t.guid&&(o=t.guid),!o){var r=p();a=r||e("div[bh-paper-pile-dialog-role=bhPaperPileDialog]"),o=a.attr("bh-paper-pile-dialog-role-guid")}if(a||(a=e("div[bh-paper-pile-dialog-role-guid="+o+"]")),a.length>0){if("true"===a.attr("hide-flag"))return;a.attr("hide-flag","true");var s=a.attr("bh-paper-pile-dialog-role-index");s=parseInt(s,10);var l=e("body").data("bh-paper-pile-dialog"),d=l.length;if(t.isHideAll&&(s=1),s<d)for(var c=d;c>=s;c--){var u=l[c-1];if(u){var f=u.guid;o=f,u.ignoreAllCallback=!0,h(f,u)}}else{for(var b=0;b<d;b++){var u=l[b],f=u.guid;if(f===o){t=e.extend({},u,t);break}}h(o,t)}}e.bhPropertyDialog.showScrollBar()}function h(t,a){a.guid=t;var i=n(t);if(i.length>0){var o=i.triggerHandler("closeBefore");if("boolean"==typeof o&&!o)return void e("[bh-paper-pile-dialog-role-guid="+t+"]").attr("hide-flag","false")}if(!a.ignoreCloseBeforeCallback&&!a.ignoreAllCallback&&a.closeBefore&&a.closeBefore instanceof Function){a.closeBefore()?u(t,a):e("[bh-paper-pile-dialog-role-guid="+t+"]").attr("hide-flag","false")}else u(t,a)}function u(t,i){var o=e("[bh-paper-pile-dialog-role-guid="+t+"]"),s=e("[bh-paper-pile-dialog-role-title-guid="+t+"]"),l=o.find("div.bh-paper-pile-dialog-container");o.find('div[bh-paper-pile-dialog-role="bhPaperPileDialogFooter"]').remove(),l.removeClass("bh-paper-pile-dialog-intoUp").addClass("bh-paper-pile-dialog-outDown"),s.removeClass("bh-paper-pile-dialog-parentTitle-toSmall").removeClass("bh-paper-pile-dialog-parentTitle-change").addClass("bh-paper-pile-dialog-parentTitle-toRestore");var d=s.closest("[bh-paper-pile-dialog-role=bhPaperPileDialog]");setTimeout(function(){if(d.length>0)d.find("[bh-paper-pile-dialog-role=bhPaperPileDialogBody]").show();else{var t=r(),a="";a=t||e("[bh-container-role=container]"),a&&a.length>0&&a.removeClass("bh-border-transparent").removeClass("bh-bg-transparent")}l.removeClass("bh-bg-transparent"),f({titleContainer:"",referenceContainer:"",dialogContainer:"",guid:""}),N({titleContainer:"",referenceContainer:""})},450),setTimeout(function(){d.length>0&&d.find(".bh-paper-pile-closeIcon").show(),o.addClass("bh-negative-zIndex").hide();var r=n(t);setTimeout(function(){if(!i.ignoreCloseCallback&&!i.ignoreAllCallback&&i.close&&i.close instanceof Function){var e=a(o);i.close(e.dialogHeader,e.dialogSection,e.dialogFooter,e.dialogAside)}r.length>0&&r.removeAttr("bh-paper-pile-dialog-bind-btn").trigger("close")},150),(i&&i.destroy||i&&i.autoDestroy)&&g(i),i.toShowContainer?i.toShowContainer.show():e("body").find("[bh-paper-pile-dialog-role-hide-container-guid="+t+"]").show(),0===e("body").find('[bh-paper-pile-dialog-role="bhPaperPileDialog"]').length&&e('[bh-footer-role="footer"]').show()},900)}function p(){var t="",a=e("body").find("div[bh-paper-pile-dialog-role=bhPaperPileDialog]");return a.length>0&&a.each(function(){var a=e(this);parseInt(a.attr("bh-paper-pile-dialog-role-index"),10)>0&&(t=a)}),t}function f(e){}function b(e){console&&console.error&&console.error(e)}function g(t){var a=P(t);if(a)v(a);else{e("body").find("div[bh-paper-pile-dialog-role=bhPaperPileDialog]").each(function(){v(e(this).attr("bh-paper-pile-dialog-role-guid"))})}}function v(t){var a=e("div[bh-paper-pile-dialog-role-guid="+t+"]");if(0!==a.length){var n=a.attr("bh-paper-pile-dialog-role-index");n=parseInt(n,10),e("[bh-paper-pile-dialog-role-title-guid="+t+"]").removeAttr("bh-paper-pile-dialog-role-title-guid").off("click"),e("[bh-paper-pile-dialog-role-container-guid="+t+"]").removeAttr("bh-paper-pile-dialog-role-container-guid"),a.remove();var i=e("body").data("bh-paper-pile-dialog"),o=i.length;if(1===o)e("body").removeData("bh-paper-pile-dialog");else{for(var r=[],s=0;s<o;s++){var l=i[s],d=l.index;d!=n&&(d>n?(l.index=d-1,r.push(l)):r.push(l))}e("body").data("bh-paper-pile-dialog",r)}}}function m(){var t=e('[bh-footer-role="footer"]').clone(),a="",n="bhNoPageFooterFlag";return t.length>0?(t.removeAttr("bh-footer-role").removeAttr("style").removeAttr("id").attr("bh-paper-pile-dialog-role","pageFooter"),a=t[0].outerHTML,n=""):a='<footer bh-paper-pile-dialog-role="pageFooter"></footer>','<div class="bh-paper-pile-dialog @layoutRole '+n+'" style="@style" bh-paper-pile-dialog-role="bhPaperPileDialog" bh-paper-pile-dialog-role-guid="@guid"><div class="bh-paper-pile-dialog-container bh-animated-doubleTime bh-paper-pile-dialog-intoUp"><i class="iconfont icon-close bh-pull-right bh-paper-pile-closeIcon" bh-paper-pile-dialog-role="bhPaperPileDialogCloseIcon"></i>@title<div class="bh-paper-pile-body bh-card bh-card-lv1 @layoutClass" bh-paper-pile-dialog-role="bhPaperPileDialogBody" bh-layout-role="@layoutRole" style="@bodyStyle">@content</div>'+a+'<div class="bh-paper-pile-dialog-footer bh-border-v @footerClass" bh-paper-pile-dialog-role="bhPaperPileDialogFooter">@footerHtml</div></div></div>'}function y(e,t,a){var n="";if(t.footer){var i=e.outerWidth(),o=e.offset().left;n="left:"+o+"px;width:"+i+"px;position:fixed;bottom:0;top:auto;display:block;","get"!==a&&(e.find("div[bh-paper-pile-dialog-role=bhPaperPileDialogBody]").removeClass("bh-paper-pile-dialog-footer-on-relative"),e.find("div[bh-paper-pile-dialog-role=bhPaperPileDialogFooter]").css({left:o+"px",width:i+"px",position:"fixed",bottom:"0",top:"auto",display:"block"}).removeClass("bh-paper-pile-dialog-footer-relative"),e.find('[bh-paper-pile-dialog-role="bhPaperPileDialogBody"]').removeClass("bhRelativeFlag").addClass("bhFixedFlag"))}return n}function k(t){var a={},n=e(window),i=e("body"),o=n.scrollTop(),r=n.height(),s=0,l=window.navigator.userAgent;s=l.indexOf("Safari")>-1&&-1===l.indexOf("Chrome")?i.get(0).scrollHeight:Math.max(document.documentElement.scrollHeight,document.body.scrollHeight);var d=t.find('[bh-paper-pile-dialog-role="pageFooter"]').outerHeight();if(t){var c=t.find("div[bh-paper-pile-dialog-role=bhPaperPileDialogBody]"),h=c.outerHeight(!0),u=t.outerHeight(),p=t.offset(),f=c.offset(),b=0,g=t.find('div[bh-paper-pile-dialog-role="bhPaperPileDialogFooter"]');g.length>0&&(b=g.outerHeight(!0)),a.dialogBodyHeight=h,a.dialogBodyOffset=f,a.dialogOffset=p,a.dialogHeight=u,a.dialogFooterHeight=b}return a.windowHeight=r,a.scrollTop=o,a.bodyHeight=s,a.footerHeight=d,a}function C(e){var t=k(e),a=e.find("div[bh-paper-pile-dialog-role=bhPaperPileDialogFooter]"),n=y(e,{footer:!0},"get");a.attr("bh-paper-pile-dialog-role-footer-fixed",n);var i=t.bodyHeight-t.footerHeight,o=t.dialogBodyHeight+t.dialogOffset.top;o<=t.windowHeight&&(o<i?x(a,"low"):x(a))}function w(t){var a=k(t);t.find("div[bh-paper-pile-dialog-role=bhPaperPileDialogFooter]").each(function(){var n=e(this);if("none"!==n.css("display")){if(a.windowHeight+a.scrollTop+a.footerHeight>=a.bodyHeight)x(n,"low"),n.addClass("bh-border-v").removeClass("bh-border"),t.find('[bh-paper-pile-dialog-role="bhPaperPileDialogBody"]').addClass("bhRelativeFlag").removeClass("bhFixedFlag");else{var i=n.attr("bh-paper-pile-dialog-role-footer-fixed");n.attr("style",i).removeClass("bh-border-v").addClass("bh-border"),t.find('[bh-paper-pile-dialog-role="bhPaperPileDialogBody"]').removeClass("bhRelativeFlag").addClass("bhFixedFlag")}return!1}})}function x(t,a){if(0!==t.contents().length){var n=e("[bh-footer-role=footer]").outerHeight(),i=t.closest('div[bh-paper-pile-dialog-role="bhPaperPileDialog"]'),o=i.find("[bh-paper-pile-dialog-role=bhPaperPileDialogBody]"),r=o.attr("bh-layout-role"),s=i.find("[bh-paper-pile-dialog-role=bhPaperPileDialogHeader]"),l=t.outerHeight(),d=l+n,c=0,h="";o.children().each(function(){var t=e(this);if("nav"===t[0].localName&&(h="navLeft"),"navLeft"===h){var a=0;t.children().each(function(){a+=e(this).outerHeight()}),a>c&&(c=a)}else{var n=t.outerHeight();c+=n}});var u=parseInt(o.css("min-height"),10);if(u=u||0,c+l<u){t.removeAttr("style");var p=s.length>0?s.outerHeight():0;c+=p,c+=24,t.css({bottom:"auto"}).addClass("bh-paper-pile-dialog-footer-relative"),r.indexOf("navLeft")>-1&&o.addClass("bh-paper-pile-dialog-footer-on-relative")}else"absolute"!==t.css("position")?t.css({left:0,bottom:d+"px",position:"relative"}):t.css({top:"auto",bottom:"0"}),o.removeClass("bh-paper-pile-dialog-footer-on-relative");i.find('[bh-paper-pile-dialog-role="bhPaperPileDialogBody"]').addClass("bhRelativeFlag").removeClass("bhFixedFlag"),t.show()}}function T(t,a){t.on("click","i[bh-paper-pile-dialog-role=bhPaperPileDialogCloseIcon]",function(){var t=e(this).closest("[bh-paper-pile-dialog-role=bhPaperPileDialog]").attr("bh-paper-pile-dialog-role-guid");a.guid=t,c(a)}),a.hideCloseIcon?a.titleContainer.css({cursor:"default"}):a.titleContainer.on("click",function(){var t=e(this).attr("bh-paper-pile-dialog-role-title-guid");a.guid=t,c(a)}),a.footer&&e(window).scroll(function(e){w(t)})}function N(t){var a=P(t);a&&setTimeout(function(){var n=e("div[bh-paper-pile-dialog-role-guid="+a+"]");if(n.find('[bh-paper-pile-dialog-role="bhPaperPileDialogFooter"]').html()){var i=k(n);i.dialogBodyHeight+i.dialogOffset.top<i.windowHeight?C(n):y(n,{footer:!0}),f(t)}},50)}function D(){return I()+I()+"-"+I()+"-"+I()+"-"+I()+"-"+I()+I()+I()}function I(){return(65536*(1+Math.random())|0).toString(16).substring(1)}function S(t){var a=P(t);if(a){l(e("div[bh-paper-pile-dialog-role-guid="+a+"]").find("div[bh-paper-pile-dialog-role=bhPaperPileDialogBody]"))}}function P(e){var t="";if(e.guid)t=e.guid;else if(e.titleContainer)t=e.titleContainer.attr("bh-paper-pile-dialog-role-title-guid");else if(e.referenceContainer)t=e.referenceContainer.attr("bh-paper-pile-dialog-role-container-guid");else{var a=p();a.length>0&&(t=a.attr("bh-paper-pile-dialog-role-guid"))}return t}e(document).on("click","[bh-paper-pile-dialog]",function(){var t=e.trim(e(this).attr("bh-paper-pile-dialog")),a={openDialogDom:e(this)};t&&(a.content=e("#"+t).html()),e.bhPaperPileDialog.show(a)}),e.bhPaperPileDialog={show:function(a){var n={openDialogDom:"",titleContainer:"",insertContainer:e("#levityPlaceholder"),referenceContainer:"",addDialogFlagClass:"",toHideContainer:"",multipleHideContainer:[],hideCloseIcon:!1,title:"",content:"",footer:"",aside:"",close:null,autoDestroy:!0,closeBefore:null,open:null,openBefore:null,ready:null,render:null};a=e.extend({},n,a),t(a)},resetPageFooter:function(e){},resetMinHeight:function(t){var a={titleContainer:"",referenceContainer:"",guid:""};t=e.extend({},a,t),S(t)},resetDialogFooter:function(e){},hide:function(t){var a={titleContainer:"",referenceContainer:"",guid:"",isHideAll:!1,ignoreAllCallback:!1,ignoreCloseCallback:!1,ignoreCloseBeforeCallback:!1,destroy:!0};t=e.extend({},a,t),c(t)},destroy:function(t){var a={titleContainer:"",referenceContainer:"",guid:""};t=e.extend({},a,t),g(t)}}}(jQuery);var JPlaceHolder={_check:function(){return"placeholder"in document.createElement("input")},init:function(e){this._check()||this.fix(e)},fix:function(e){e=e||document,jQuery("input[placeholder], textarea[placeholder]",$(e)).each(function(e,t){var a=$(this),n=a.attr("placeholder");a.wrap($('<div role="bh-placeholder-wrap"></div>').css({position:"relative",zoom:"1",border:"none",background:"none",padding:"none",margin:"none"}));var i={top:0,left:0},o=a.height(),r=o,s=parseInt(a.css("padding-left")),l=parseInt(a.css("padding-top")),d=(parseInt(a.css("padding-bottom")),parseInt(a.css("margin-left"))),c=parseInt(a.css("margin-top"));9==document.documentMode&&(r=18),"TEXTAREA"===a[0].tagName&&(r=14);var h=a.css("font-size")?a.css("font-size"):"14px",u=r+"px",p=$('<span role="bh-placeholder"></span>').text(n).css({"font-size":h,zIndex:"2",position:"absolute",left:i.left+d+"px",top:i.top+c+l+"px",height:o+"px",lineHeight:u,paddingLeft:s+"px",color:"#aaa",overflow:"hidden","text-overflow":"ellipsis","white-space":"nowrap","max-width":"100%"}).appendTo(a.parent());a.focusin(function(e){p.hide()}).focusout(function(e){a.val()?(p.hide(),setTimeout(function(){p.hide()},100)):p.show()}).keyup(function(e){a.val()&&p.hide()}),p.click(function(e){p.hide(),a.focus()})})},resize:function(e){e=e||document,jQuery("input[placeholder], ",$(e)).each(function(e,t){var a=$(this).parent('[role="bh-placeholder-wrap"]');if(0!=a.length){var n=$(this).height();$('[role="bh-placeholder"]',a).css({"line-height":n})}})}};if(!JPlaceHolder._check()){var oldVal=$.fn.val;$.fn.val=function(){var e=oldVal.apply(this,arguments);return this[0]&&(this[0].value||$(this).is(":focus")||$(this).parent().find('[role="bh-placeholder"]').show(),this[0].value&&$(this).parent().find('[role="bh-placeholder"]').hide()),e}}!function(){$.bhPopOver=function(e){$("#bhPopover").length&&$("#bhPopover").remove(),e=$.extend({},$.bhPopOver.prototype.dafaults,e),"string"==typeof e.selector&&(e.selector=$(e.selector));var t=$('<div style="display: none" id="bhPopover" style="z-index: '+e.zIndex+'"><style>#bhPopover {z-index: '+e.zIndex+"!important;}</style><div>"+e.content+"</div></div>");$("body").append(t);var a=document.documentElement.clientWidth,n=$(e.selector).offset().left,i=e.width||300,o=0;n-i/2<24&&(o=Math.abs(n-i/2-24)),n+i/2>a-24&&(o=a-100-n-i/2);var r=$(e.selector).offset().top,s=$(e.selector).height(),l=0,d="bottom";window.scrollY+document.documentElement.clientHeight-r-s<(e.height||200)&&(d="top"),e.offset&&e.offset.left&&(o+=e.offset.left),e.offset&&e.offset.top&&(l+=e.offset.top),t.jqxPopover({offset:{left:o,top:l},arrowOffsetValue:-o,showArrow:e.showArrow,autoClose:e.autoClose,isModal:e.isModal,title:e.title,selector:e.selector,width:e.width,height:e.height,showCloseButton:e.showCloseButton,position:d}),setTimeout(function(){t.jqxPopover("open");var a=$("#bhPopover");null!=e.title&&""!=e.title||($(".jqx-popover-title h4",a).hide(),$(".jqx-popover-title",a).css("padding-top","6px")),a.on("close",function(){e.beforeClose&&e.beforeClose(a),$(this).jqxPopover("destroy"),e.close&&e.close(a)}),e.ready&&e.ready.call(a,a)},0)},$.bhPopOver.close=function(){var e=$("#bhPopover");e.length&&e.jqxPopover("close")},$.bhPopOver.prototype.dafaults={title:void 0,content:void 0,selector:void 0,width:300,height:null,autoClose:!0,showCloseButton:!0,isModal:!1,ready:null,beforeClose:null,close:null,zIndex:18100}}(),function(e){function t(e){var t=e.$element.find(".bh-current-progress");return t.width()/t.parent().width()*e.options.total}function a(e){var t=e["progress-timer"];clearTimeout(t)}function n(e){var t=i(e.options);e.$element.html(t),e.setProgress(e.options.defaultProgress||e.options.total)}function i(e){return'<div class="bh-progressbar-container" style="width:'+e.width+'px"><div class="bh-progressbar">   <div class="bh-bg-progress"></div>   <div class="bh-current-progress" style="width:'+e.defaultProgress/e.total*100+'%">       <div class="bh-progress-head"></div>   </div></div><div class="bh-progress-info bh-mt-4" style="display:'+(e.showInfo?"block":"")+'">   <span class="bh-current-progress-info">'+e.defaultProgress+'</span>/<span class="bh-total-progress">'+e.total+"</span></div></div>"}var o;o=function(){function i(t,a){this.options=e.extend(!0,{},e.fn.bhProgressBar.defaults,a),this.$element=e(t),n(this)}return i.prototype.setProgress=function(a){this.stopProgress();var n=a/this.options.total,i=this.options.time*(a-t(this))/this.options.total*1e3,o=this;return this.$element.find(".bh-current-progress").animate({width:100*n+"%"},i,function(){var n="";n=a||t(o),o.$element.find(".bh-current-progress-info").text(Math.round(n||0)),e.isFunction(o.options.progressFinished)&&o.options.progressFinished(n,o.$element),o.stopProgress()}),this.$element},i.prototype.getProgress=function(){var e=this.$element.find(".bh-current-progress");return Math.round(e.width()/e.parent().width()*this.options.total)},i.prototype.stopProgress=function(){return a(this),this.$element.find(".bh-current-progress").stop()},i}(),e.fn.bhProgressBar=function(t,a){var n;return n=this.data("bhProgressBar"),!0===t?n:n?"string"===e.type(t)?n[t](a):this:this.each(function(){return e(this).data("bhProgressBar",new o(this,t))})},e.fn.bhProgressBar.defaults={total:100,time:5,width:"100",showInfo:!1,defaultProgress:0,progressFinished:null}}(jQuery),function(e){function t(){return 450}function a(a){if(a.insertContainer&&0===a.insertContainer.length)return void(void 0!==window.console&&window.console.error("insertContainer 要插入的容器不存在"));var r=e("div[bh-property-dialog-role=bhPropertyDialog]");if(a=f(a),a=n(a),0===r.length){var s=o(),l="";a.footer&&(l="default"===a.footer?i():a.footer),s=s.replace("@title",a.title).replace("@content",a.content).replace("@footer",a.footer),r=e(s),l||r.find("[bh-property-dialog-role=footer]").hide(),a.insertContainer.append(r),c(),u(r,a);var d=r.find("[bh-property-dialog-role=header]"),h=r.find("[bh-property-dialog-role=body]"),p=r.find("[bh-property-dialog-role=footer]"),g=d.children(),v=h.children(),m=p.children();a.compile&&a.compile(g,v,m);var y=BH_UTILS.NewGuid();r.attr("bh-property-dialog-guid",y),setTimeout(function(){a.openDialogDom.length>0&&(a.openDialogDom.attr("bh-property-dialog-bind-btn",y),a.openDialogDom.trigger("ready",[d,h,p])),void 0!==a.ready&&a.ready instanceof Function&&a.ready(g,v,m),BH_UTILS&&BH_UTILS.wavesInit(),r.find("[bh-property-dialog-role=body]").niceScroll({zindex:99999,horizrailenabled:!1})},t())}else setTimeout(function(){void 0!==a.open&&a.open instanceof Function&&a.open()},t());a.hideCover||r.find(".bh-property-dialog-cover").show().removeClass("bh-property-dialog-cover-fadeOut").addClass("bh-property-dialog-cover-fadeIn"),b(r,a),r.show(),r.find("div.bh-property-dialog-container").removeClass("bh-outRight").addClass("bh-intoRight"),setTimeout(function(){e("body").addClass("sc-overflow-hide")},t()+50)}function n(t){var a=null;if(t.content){var n=e(t.content)[0];n&&"section"!==n.localName&&(a=e("<section>"+t.content+"</section>"))}else{var o=t.insertContainer;o&&o[0]&&"aside"===o[0].localName&&(a=e(t.selector?"<div>"+o.find(t.selector).html()+"</div>":"<div>"+o.find("script").html()+"</div>"))}if(t.title){var r=e('<div class="h3">'+t.title+"</div>"),s=r.children();0===s.length||s.length>1?t.title=r[0].outerHTML:1===s.length&&"h3"!==s[0].localName&&(t.title=r[0].outerHTML)}else if(a){var l=a.children("h3");l.length>0&&(t.title=l[0].outerHTML)}var d=a?a.children("section"):"";if(d.length>0&&(t.content=d[0].outerHTML),t.footer)"default"===t.footer&&(t.footer=i());else{var c=a?a.children("footer"):"";c.length>0&&(c.children().length>0?t.footer=c[0].outerHTML:t.footer=i())}return t}function i(){return'<footer><a class="bh-btn bh-btn-primary bh-btn-large" bh-property-dialog-role="okBtn">'+e.i18n("bha-property-confirm")+'</a><a class="bh-btn bh-btn-default bh-btn-large" bh-property-dialog-role="cancelBtn">'+e.i18n("bha-property-cancel")+"</a></footer>"}function o(){return'<div class="bh-property-dialog" bh-property-dialog-role="bhPropertyDialog"><div class="bh-property-dialog-container bh-animated bh-outRight bh-card bh-card-lv2"><i class="iconfont icon-close bh-pull-right bh-cursor-point" bh-property-dialog-role="closeIcon"></i><div class="bh-mb-16" bh-property-dialog-role="header">@title</div><div bh-property-dialog-role="body">@content</div><div class="bh-property-dialog-footer bh-animated bh-outDown" bh-property-dialog-role="footer">@footer</div></div><div class="bh-property-dialog-cover bh-animated bh-property-dialog-cover-fadeIn"></div></div>'}function r(a){if(void 0!==a.close&&a.close instanceof Function){var n=a.close();if("boolean"==typeof n&&!n)return}var i=e("div[bh-property-dialog-role=bhPropertyDialog]");if(i.length>0){var o=s(i);if(o.length>0){var r=o.triggerHandler("beforeClose");if("boolean"==typeof r&&!r)return}i.find("div.bh-property-dialog-container").removeClass("bh-intoRight").addClass("bh-outRight"),i.find("div.bh-property-dialog-cover").removeClass("bh-property-dialog-cover-fadeIn").addClass("bh-property-dialog-cover-fadeOut"),setTimeout(function(){o.length>0&&o.removeAttr("bh-property-dialog-bind-btn").trigger("close"),i.hide(),i.find("div.bh-property-dialog-footer").hide().removeClass("bh-intoUp").addClass("bh-outDown"),(a.destroy||a.autoDestroy)&&i.remove(),setTimeout(function(){e("body").removeClass("sc-overflow-hide")},50)},t())}}function s(t){var a=t.attr("bh-property-dialog-guid");return e('[bh-property-dialog-bind-btn="'+a+'"]')}function l(){e("div[bh-property-dialog-role=bhPropertyDialog]").find("div.bh-property-dialog-footer").removeClass("bh-intoUp").addClass("bh-outDown"),c()}function d(){e("div[bh-property-dialog-role=bhPropertyDialog]").find("div.bh-property-dialog-footer").removeClass("bh-outDown").addClass("bh-intoUp").show(),c(!0)}function c(a){var n="100% - 56px";a&&(n="100% - 56px - 52px"),e("div[bh-property-dialog-role=bhPropertyDialog]").find("[bh-property-dialog-role=body]").attr("style","height: -moz-calc("+n+");height: -webkit-calc("+n+");height: calc("+n+");overflow: hidden;"),setTimeout(function(){e("body").addClass("sc-overflow-hide")},t()+50)}function h(){var t=e("div[bh-property-dialog-role=bhPropertyDialog]");t.length>0&&(p(t),t.remove())}function u(t,a){t.on("click","i[bh-property-dialog-role=closeIcon]",function(){a.close=a.hide,e.bhPropertyDialog.hide(a)}),t.on("click","[bh-property-dialog-role=okBtn]",function(){a.close=a.ok,e.bhPropertyDialog.hide(a)}),t.on("click","[bh-property-dialog-role=cancelBtn]",function(){a.close=a.cancel,e.bhPropertyDialog.hide(a)})}function p(e){e.off("click")}function f(t){var a=e("body");if(!t.insertContainer){if(a.find("[bh-paper-pile-dialog-role=bhPaperPileDialog]").length>0){var n="",i=a.find("div[bh-paper-pile-dialog-role=bhPaperPileDialog]");i.length>0&&i.each(function(){var t=e(this);parseInt(t.attr("bh-paper-pile-dialog-role-index"),10)>0&&(n=t)}),n.length>0&&(t.insertContainer=n.children().children("aside"))}else if(a.children("main").length>0){var o=a.children("main").children("article");if(o.length>0){var r=o.children("aside");r.length>0?t.insertContainer=r:(t.insertContainer=e("<aside></aside>"),o.append(t.insertContainer))}}}return t}function b(t,a){var n=e(window),i=n.height(),o=n.scrollTop(),r=a.insertContainer,s=g(r),l=e('header[bh-header-role="bhHeader"]'),d=l.outerHeight(),c=e('header[bh-header-role="bhHeaderMini"]'),h=c.outerHeight(),u=!!l.hasClass("bh-normalHeader-hide"),p=u?h:d,f=e(document).height(),b=e('[bh-footer-role="footer"]'),v=(b.offset().top,b.outerHeight()),m=0,y=d-h;o>s.top&&(m=o-s.top+p);var k=s.height;u?k=i+o+v>=f?f-o-v-4-y:i-h:f>i&&(k=i-s.top),t.css({top:m,height:k})}function g(e){var t=e.outerHeight();return t?{top:e.offset().top,height:t}:g(e.parent())}function v(){e("body").removeClass("sc-overflow-hide")}e(document).on("click","[bh-property-dialog]",function(){var t=e(this),a=e.trim(t.attr("bh-property-dialog")),n={openDialogDom:t};a&&(n.selector="#"+a),e.bhPropertyDialog.show(n)}),e.bhPropertyDialog={show:function(t){var n={openDialogDom:"",insertContainer:"",title:"",content:"",footer:"",selector:"",hideCover:!1,autoDestroy:!0,ok:null,cancel:null,open:null,hide:null,ready:null};a(e.extend({},n,t))},hide:function(t){var a={close:null,destroy:!0};r(e.extend({},a,t))},footerHide:function(){l()},footerShow:function(){d()},destroy:function(){h()},showScrollBar:function(){v()}}}(jQuery),function(e){function t(t,i){var o=a(t),r=e(o);i.append(r),t.readonly||n(r,t)}function a(e){var t=parseInt(e.score,10),a="";e.size&&(a="font-size: "+e.size+"px");for(var n='<i class="iconfont icon-star" style="'+a+'"></i><i class="iconfont icon-staroutline" style="'+a+'"></i>',i="",o=0;o<5;o++)i+=o+1<=t?'<div class="bh-star-item bh-active">'+n+"</div>":'<div class="bh-star-item">'+n+"</div>";i='<div class="bh-star-list '+e.starClass+'">'+i+"</div>";var r="";return e.isShowNum&&(r='<div class="bh-star-num '+e.textClass+'"><span bh-star-role="number">'+t+"</span><span>"+e.text+"</span></div>"),'<div class="bh-star" bh-star-role="bhStar" bh-star-score="'+t+'">'+i+r+"</div>"}function n(t,a){t.on("click",".bh-star-item",function(){var n=e(this).index()+1;a.score=n,i(t,n,a)}),t.on("mouseover",".bh-star-item",function(){var n=e(this).index()+1;i(t,n,a)}),t.on("mouseout",".bh-star-list",function(){var e=parseInt(a.score,10)
;i(t,e,a)})}function i(t,a,n){t.find("div.bh-star-item").each(function(t){t<a?e(this).addClass("bh-active"):e(this).removeClass("bh-active")}),t.attr("bh-star-score",a),n.isShowNum&&t.find('span[bh-star-role="number"]').html(a)}var o;o=function(){function a(a,n){this.settings=e.extend({},e.fn.bhStar.defaults,n),this.$element=e(a),t(this.settings,this.$element)}return a.prototype.getScore=function(){return this.$element.find('[bh-star-role="bhStar"]').attr("bh-star-score")},a}(),e.fn.bhStar=function(t,a){var n;return n=this.data("bhStar"),n?!0===t?n:"string"===e.type(t)?n[t](a):this:this.each(function(){return e(this).data("bhStar",new o(this,t))})},e.fn.bhStar.defaults={score:0,size:0,isShowNum:!0,text:"分",textClass:"",starClass:"",readonly:!1}}(jQuery),function(e){e.fn.bhStepWizard=function(a,n){var i;if(!(i=this.data("bhStepWizard")))return this.each(function(){return e(this).data("bhStepWizard",new t(this,a))});if(!0===a)return i;if("string"===e.type(a)){return i[a](n)}},e.fn.bhStepWizard.defaults={items:[],active:"",finished:[],isAddClickEvent:!0,contentContainer:e("body"),change:null};var t;t=function(){function t(t,n){this.settings=e.extend({},e.fn.bhStepWizard.defaults,n),this.$element=e(t),a(this.settings,this.$element)}function a(t,a){var i={};i.items=t.items,i.activeItemStepId=t.active,i.finishedItemStepIds=t.finished,i.wizardContainer=a,i.contentContainer=t.contentContainer,i.change=t.change,e(t.items).each(function(e,a){s(e,a,t.items.length,i)}),i.wizardElement=e(i.wizardContainer).children(".bh-wizard-item"),e(t.items).each(function(e,t){h(e,i)}),t.isAddClickEvent&&u(i),n(i),i.wizardElement.each(function(t,a){i.wizardElement&&i.wizardElement.length>0&&(e(a).hasClass("active")?e("#"+e(a).attr("stepid")).removeClass("bh-hide"):e("#"+e(a).attr("stepid")).addClass("bh-hide"))}),e(a).data("g",i)}function n(t){var a=t.wizardElement.length;if(a>0){var n=t.wizardContainer,i=n.width(),o=e(".bh-wizard-item:hidden",n).length,r=a-o,s=Math.round(i/r-.5);t.wizardElement.find(".title").width(s-40);var l=0;t.wizardElement.each(function(){e(this).is(":hidden")||(l+=e(this).outerWidth())});var d=i-l,c=s-40+d;t.wizardElement.find(".title").last().width(c-1)}}function i(e,t){var a=null,n=e-1;if(null!=t.items[n]){var o=t.items[n].stepId;a=t.wizardElement.parent().find("[stepid='"+o+"']").is(":hidden")?i(n,t):o}return a}function o(e,t){var a=null,n=e+1;if(null!=t.items[n]){var i=t.items[n].stepId;a=t.wizardElement.parent().find("[stepid='"+i+"']").is(":hidden")?o(n,t):i}return a}function r(e,t){var a=t.activeItemStepId,n=f(t);t.activeItemStepId=e,h(n,t),t.contentContainer.find("#"+a).addClass("bh-hide"),h(f(t),t),t.contentContainer.find("#"+t.activeItemStepId).removeClass("bh-hide"),void 0!==t.change&&t.change instanceof Function&&t.change({stepId:e})}function s(t,a,n,i){var o=e('<div class="bh-wizard-item" stepid="'+a.stepId+'"><div class="left-arrow"></div><div class="title bh-str-cut" title="'+a.title+'"><i></i>'+a.title+'</div><div class="right-arrow"></div></div>');0==t?e(o).addClass("bh-wizard-item-first"):t==n-1&&e(o).addClass("bh-wizard-item-last"),i.wizardContainer.append(o)}function l(e,t){for(var a=!1,n=0;n<t.finishedItemStepIds.length;n++)if(t.finishedItemStepIds[n]==e){a=!0;break}return a}function d(e,t){if(t.finishedItemStepIds){var a=t.finishedItemStepIds.length;a>0?t.finishedItemStepIds[a]=e:t.finishedItemStepIds[0]=e}}function c(e,t){var a=t.finishedItemStepIds.length,n=!1;if(a>0)for(var i=0;i<a;i++)if(e==p(t.finishedItemStepIds[i],t)){n=!0;break}return n}function h(t,a){var n=a.wizardElement[t],i=e("i",e(n));i.removeClass(),c(t,a)?(e(n).addClass("finished"),i.addClass("iconfont icon-checkcircle")):e(n).removeClass("finished"),p(a.activeItemStepId,a)==t?(e(n).addClass("active"),i.addClass("iconfont icon-edit")):e(n).removeClass("active")}function u(t){t.wizardElement.unbind("click").click(function(){var a=e(this),n=a.attr("stepid");n!=t.activeItemStepId&&r(n,t)})}function p(e,t){for(var a=-1,n=0;n<t.items.length;n++)if(t.items[n].stepId==e){a=n;break}return a}function f(e){for(var t=0,a=0;a<e.items.length;a++)if(e.items[a].stepId==e.activeItemStepId){t=a;break}return t}function b(t,a,i){if(t){var o=i.items[0].stepId,r=i.items[i.items.length-1].stepId,s=i.wizardContainer.find(".bh-wizard-item[stepid="+t+"]");s.length>0&&a(s),i.wizardElement=e(i.wizardContainer).children(".bh-wizard-item"),t==o?i.wizardElement.eq(0).addClass("bh-wizard-item-first"):t==r&&i.wizardElement.last().addClass("bh-wizard-item-last"),n(i)}}return t.prototype.resetFinishedItems=function(e){var t=this.$element.data("g");e.forEach(function(e){var a=t.finishedItemStepIds.indexOf(e);a>-1&&t.finishedItemStepIds.splice(a,a+1)}),e.forEach(function(e){h(p(e,t),t)})},t.prototype.activeNextItem=function(){var e=this.$element.data("g"),t=f(e),a=o(t,e);null!=a&&r(a,e)},t.prototype.activePrevItem=function(){var e=this.$element.data("g"),t=f(e),a=i(t,e);null!=a&&r(a,e)},t.prototype.changeToActive=function(e){r(e,this.$element.data("g"))},t.prototype.changeToFinished=function(e){var t=this.$element.data("g");if(e||(e=t.activeItemStepId),!l(e,t)){d(e,t);h(p(e,t),t)}},t.prototype.resetWidth=function(){n(this.$element.data("g"))},t.prototype.isLastStep=function(){var e=this.$element.data("g"),t=e.items[e.items.length-1].stepId;return e.activeItemStepId==t},t.prototype.getFinishedIndexs=function(){var e=this.$element.data("g"),t=[];if(e.finishedItemStepIds&&e.finishedItemStepIds.length>0)for(var a=0;a<e.finishedItemStepIds.length;a++)t.push(p(e.finishedItemStepIds[a],e));return t},t.prototype.getStepIdByIndex=function(e){var t=this.$element.data("g"),a=-1;return t.items&&t.items.length>0&&t.items[e]&&(a=t.items[e].stepId),a},t.prototype.deleteItem=function(e){var t=this.$element.data("g");b(e,function(e){e.remove()},t)},t.prototype.showItem=function(e){var t=this.$element.data("g");b(e,function(e){e.show()},t)},t.prototype.hideItem=function(e){var t=this.$element.data("g");b(e,function(e){e.hide()},t)},t.prototype.getActiveItem=function(){return this.$element.data("g").activeItemStepId},t}()}(jQuery),function(e){function t(e,t){for(var n='<div class="bh-timeLine">@content</div>',i='<div class="bh-timeLine-row @rowClass" @rowAttrs><div class="bh-timeLine-index"><div>@index</div></div><div class="bh-timeLine-content">@content</div></div>',o="",r=e.data,s=r.length,l=0;l<s;l++){var d=r[l],c=d.index,h=d.content,u=d.attr,p="",f="";if(u){var b=a(d.attr);p=b.class,f=b.attr}o+=i.replace("@index",c).replace("@content",h).replace("@rowClass",p).replace("@rowAttrs",f)}var g=n.replace("@content",o);t.html(g)}function a(e){var t="",a="";if("object"==typeof e&&null!==e)for(var n in e){var i=e[n];"class"!==n?i&&(a+=" "+n+"="+i):t=i}else a=e;return{attr:a,class:t}}e.fn.bhTimeLine=function(t,a){var i;return i=this.data("bhTimeLine"),i?!0===t?i:"string"===e.type(t)?i[t](a):this:this.each(function(){return e(this).data("bhTimeLine",new n(this,t))})},e.fn.bhTimeLine.defaults={data:[]};var n;n=function(){function a(a,n){this.settings=e.extend({},e.fn.bhStar.defaults,n),this.$element=e(a),t(this.settings,this.$element)}return a}()}(jQuery),function(e){"use strict";e.bhTip=function(t){function a(e){var t="",a=e.options,n=a.length;if(n>=1&&""!==a[0].text&&null!==a[0].text){for(var i=0;i<n;i++)t+='<a href="javascript:void(0);" class="bh-tip-btn" bh-tip-btn-role="tipBtn">'+a[i].text+"</a>";t='<div class="bh-tip-btn-group">'+t+"</div>"}return'<div class="bh-tip bh-tip-animate-top-opacity bh-tip-'+e.state+'" bh-tip-role="bhTip"><div class="bh-tip-top-bar"></div><div class="bh-card bh-card-lv4"><a class="bh-tip-closeIcon" bh-tip-btn-role="closeIcon">×</a><div class="bh-tip-content"><i class="iconfont '+e.iconClass+'" ></i> <span>'+e.content+"</span> "+t+"</div></div></div>"}function n(t){var a=e("body"),n=a.find("div.jqx-window"),i=0;if(n.length>0){var o=null,r=0;if(n.each(function(){if("none"!==this.style.display){var e=parseInt(this.style.zIndex,10);e>r&&(r=e,o=this)}}),o){var s=e(o),l=s.outerHeight(),d=s.offset().top,c=window.innerHeight;i=d-48<0?16:parseInt((c-l)/2,10)-48}}a.append(t),t.css({position:"fixed"});var h=16;i&&(h=i);var u=t.outerWidth();t.css({top:h+"px",left:"calc(50% - "+u/2+"px)",opacity:1});var p=t.find(".bh-tip-content");12*e.trim(p.text()).length+16+8>192&&p.css({"margin-right":"16px"})}function i(e,t){if(h){return setTimeout(function(){e&&o(e)},t)}}function o(e){e.css({opacity:0,top:"-40px"}),setTimeout(function(){e.remove(),c.onClosed&&c.onClosed()},250)}function r(e,t,a,n){var o,s,l=a,n=n,t=t;e.off("mouseenter").on("mouseenter",function(){h=!1,o=+new Date,clearTimeout(t);var e=o-l;e<n&&(n-=e)}),e.off("mouseleave").on("mouseleave",function(){h=!0,s=+new Date,t=i(e,n),r(e,t,s,n)})}function s(t,a){t.off("click","a[bh-tip-btn-role=closeIcon]").on("click","a[bh-tip-btn-role=closeIcon]",function(){o(t)}),t.off("click","a[bh-tip-btn-role=tipBtn]").on("click","a[bh-tip-btn-role=tipBtn]",function(t){var n=e(t.target).index(),i={};i=a.options[n],void 0!==i.callback&&i.callback instanceof Function&&i.callback()})}function l(e){var t="";switch(e.state){case"success":t="icon-checkcircle";break;case"warning":t="icon-erroroutline";break;case"danger":t="icon-error";break;case"primary":t="icon-info"}return e.iconClass=e.iconClass?e.iconClass:t,e}var d={content:"",state:"success",iconClass:"",options:[{text:"",callback:null}],hideWaitTime:5e3,onClosed:function(){}},c=e.extend({},d,t),h=!0;!function(t){t=l(t);var o=a(t),d=e(o);n(d);var c=+new Date;r(d,i(d,t.hideWaitTime),c,t.hideWaitTime),s(d,t)}(c)}}(jQuery),function(e){function t(e){return String(e).replace(/[\u0391-\uFFE5]/g,"***").length}function a(e,t){e.toggleClass("jqx-widget",!0),e.data("jqxWidget",t)}function n(e){return String(e).replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\n|\t/g,"<br>")}function i(e,t){var a=this,n=a.data("we.bhTxtInput");return n?"string"==typeof e?n[e](t):void 0:(a.data("we.bhTxtInput",new o(this,e)),a)}var o=function(t,n){return this.$container=e(t),this.$inner=void 0,this.$txtArea=void 0,this.$curLen=void 0,this.options={limit:n.limit||140,name:n.name,easyCheck:n.textareaEasyCheck||!1,autoHeight:void 0===n.autoHeight||n.autoHeight,height:n.height||void 0,readonly:n.readonly||!1,placeholder:n.placeholder||"",countEnable:n.countEnable},this.init(),a(this.$container,this),this};o.prototype.render=function(){var t=e('<div class="'+(this.options.readonly?"":"bh-txt-input")+'"><textarea class="bh-txt-input__txtarea" placeholder="'+this.options.placeholder+'" style="max-height: 480px;word-break: break-all;'+(void 0!==this.options.height?"height:"+this.options.height+"px;":"")+'"></textarea><div class="bh-txt-input__foot"><span class="bh-txt-input__cur-len">0</span>/<span class="bh-txt-input__max-len">'+this.options.limit+"</span></div></div>");!0===this.options.readonly&&(t.find(".bh-txt-input__foot").hide(),t.find("textarea").attr("readonly",!0),t.find("textarea").css("height",t.find("textarea")[0].scrollHeight+"px"),t.find("textarea").attr("unselectable","on")),!1===this.options.countEnable&&t.find(".bh-txt-input__foot").hide(),t.find(".bh-txt-input__txtarea").attr({name:this.options.name}).end().appendTo(this.$container),this.$inner=t,this.$txtArea=t.find(".bh-txt-input__txtarea"),this.$curLen=t.find(".bh-txt-input__cur-len"),this.$heightHook=e('<div style="z-index: -1000;word-break: break-all;padding: 2px;position: fixed;opacity: 0;"></div>').width(this.$txtArea.width()),e("body").append(this.$heightHook)},o.prototype.init=function(){this.render(),this.bindEvents()},o.prototype.bindEvents=function(){var t=this;this.$container.on("input",".bh-txt-input__txtarea",e.proxy(this.inputHandler,this)),this.$txtArea.on("focus",function(){t.$inner.toggleClass("bh-txt-input--focus",!0)}).on("blur",function(){t.$inner.toggleClass("bh-txt-input--focus",!1),t.$inner.trigger("c-blur")}),9==document.documentMode&&this.$txtArea.on("keyup",function(t){var a=t.keyCode;"8"!=a&&46!=a||e(this).trigger("input")})},o.prototype.inputHandler=function(t){var a=t.target.value;if(this.options.autoHeight&&void 0===this.options.height){this.$heightHook.html(n(a));var i=this.$heightHook.height();i>=80?this.$txtArea.height()!=i&&(this.$txtArea.height(i+40),this.$txtArea[0].style.maxHeight=i+50+"px"):(this.$txtArea.height(),this.$txtArea.height(80)),e.bhPaperPileDialog&&(e.bhPaperPileDialog.resetPageFooter(),e.bhPaperPileDialog.resetDialogFooter())}this.checkLen(a)},o.prototype.checkLen=function(e){var a;a=this.options.easyCheck||this.options.textareaEasyCheck?e.length:t(e),this.$inner.toggleClass("bh-txt-input--outlen",a>this.options.limit),this.$curLen.text(a)},o.prototype.getLen=function(){var e=this.getValue();return this.options.easyCheck||this.options.textareaEasyCheck?e.length:t(e)},o.prototype.val=function(e){return arguments.length?this.setValue(arguments[0]):this.getValue()},o.prototype.getValue=function(){return this.$txtArea.val()},o.prototype.setValue=function(e){return this.checkLen(e),this.$txtArea[0].innerHTML=e,this.$txtArea.trigger("input")},o.prototype.disabled=function(e){this.$txtArea.prop("disabled",e),this.$inner.toggleClass("bh-txt-input--disabled",e)},o.prototype.readonly=function(e){this.$txtArea.prop("readonly",e)},e.fn.bhTxtInput=i,e.fn.bhTxtInput.prototype.constructor=o,window.BhTxtInput=o}(jQuery),"undefined"==typeof BhUIManagers&&(BhUIManagers={}),function(e){e.fn.bhGetWizardManager=function(){return BhUIManagers[this[0].id+"_Wizard"]},e.bhDefaults=e.bhDefaults||{},e.bhDefaults.wizard={items:[],active:"",active2:null,finished:[],isAddClickEvent:!0,contentContainer:e("body"),change:null},e.bhWizard=e.bhWizard||{},e.fn.bhWizard=function(t){var a=e.extend({},e.bhDefaults.wizard,t||{});if(this.each(function(){e.bhWizard.bhAddWizard(this,a)}),0==this.length)return null;if(1==this.length)return e(this[0]).bhGetWizardManager();var n=[];return this.each(function(){n.push(e(this).bhGetWizardManager())}),n},e.bhWizard.bhAddWizard=function(t,a){if(!t.userWizard){var n={addItem:function(t,a,i){var o=e('<div class="bh-wizard-item" stepid="'+a.stepId+'"><div class="left-arrow"></div><div class="title bh-str-cut" title="'+a.title+'"><i></i>'+a.title+'</div><div class="right-arrow"></div></div>');0==t?e(o).addClass("bh-wizard-item-first"):t==i-1&&e(o).addClass("bh-wizard-item-last"),n.wizardContainer.append(o)},resetActiveItem:function(e){n.activeItemStepId=e},resetFinishedItems:function(e){n.finishedItemStepIds=e;for(var t=0;t<n.finishedItemStepIds.length;t++){var a=n.finishedItemStepIds[t],o=i.getIndexByStepId(a);i.refreshElementByIndex(o)}},activeNextItem:function(){var e=i.getActiveItemIndex(),t=e+1,a=n.items[t].stepId;n.changeToActive(a)},activePrevItem:function(){var e=i.getActiveItemIndex(),t=e-1,a=n.items[t].stepId;n.changeToActive(a)},changeToActive:function(e){var t=n.activeItemStepId,o=i.getActiveItemIndex();n.resetActiveItem(e),i.refreshElementByIndex(o),n.contentContainer.find("#"+t).addClass("bh-hide");var r=i.getActiveItemIndex();i.refreshElementByIndex(r),n.contentContainer.find("#"+n.activeItemStepId).removeClass("bh-hide"),a&&void 0!==a.change&&a.change instanceof Function&&a.change({stepId:e})},changeToFinished:function(e){if(!i.isExistInFinisheds(e)){i.addToFinisheds(e);var t=i.getIndexByStepId(e);i.refreshElementByIndex(t)}}},i={isExistInFinisheds:function(e){for(var t=!1,a=0;a<n.finishedItemStepIds.length;a++)if(n.finishedItemStepIds[a]==e){t=!0;break}return t},addToFinisheds:function(e){if(n.finishedItemStepIds){var t=n.finishedItemStepIds.length;t>0?n.finishedItemStepIds[t]=e:n.finishedItemStepIds[0]=e}},init:function(){n.wizardElement.each(function(t,a){e(a).hasClass("active")?e("#"+e(a).attr("stepid")).removeClass("bh-hide"):e("#"+e(a).attr("stepid")).addClass("bh-hide")})},isActive:function(e){return i.getIndexByStepId(n.activeItemStepId)==e},isFinished:function(e){var t=n.finishedItemStepIds.length,a=!1;if(t>0)for(var o=0;o<t;o++)if(e==i.getIndexByStepId(n.finishedItemStepIds[o])){a=!0;break}return a},refreshElementByIndex:function(t){var a=n.wizardElement[t],o=e("i",e(a));o.removeClass(),i.isFinished(t)?(e(a).addClass("finished"),o.addClass("iconfont icon-checkcircle")):e(a).removeClass("finished"),i.isActive(t)?(e(a).addClass("active"),o.addClass("iconfont icon-edit")):e(a).removeClass("active")},isActiveItem:function(e){return e==n.activeItemStepId},addClickEvent:function(){n.wizardElement.unbind("click").click(function(){var t=e(this),a=t.attr("stepid");i.isActiveItem(a)||n.changeToActive(a)})},getIndexByStepId:function(e){for(var t=0,a=0;a<n.items.length;a++)if(n.items[a].stepId==e){t=a;break}return t},getActiveItemIndex:function(){for(var e=0,t=0;t<n.items.length;t++)if(n.items[t].stepId==n.activeItemStepId){e=t;break}return e}};n.items=a.items,n.activeItemStepId=a.active||a.active2,n.finishedItemStepIds=a.finished,n.wizardContainer=e(t),n.contentContainer=a.contentContainer,n.wizardContainer.addClass("bh-wizard-container"),e(a.items).each(function(e,t){n.addItem(e,t,a.items.length)}),n.wizardElement=e(n.wizardContainer).children(".bh-wizard-item"),e(a.items).each(function(e,t){i.refreshElementByIndex(e)}),i.init(),a.isAddClickEvent&&i.addClickEvent(),a.active2&&n.changeToActive(a.active2);var o=n.wizardElement.length;if(o>0){var r=n.wizardContainer,s=r.width(),l=e(".bh-wizard-item:hidden",r).length,d=o-l,c=Math.floor(s/d);n.wizardElement.find(".title").width(c-40)}void 0==t.id&&(t.id="BhUI_"+(new Date).getTime()),BhUIManagers[t.id+"_Wizard"]=n,t.userWizard=!0}}}(jQuery),function(e){function t(t){this.options=e.extend({},e.bh_choose.default,t),this.$element=this.getChooseLayout(),this.selectedRecords=[]}e.bh_choose=function(e){return new t(e)},e.bh_choose.default={insertContainer:"",leftSourceUrl:"",leftSourceAction:"",leftLocalData:null,datafields:[],rightSourceUrl:"",rightSourceAction:"",rightLocalData:null,localSearchField:"",id:"",params:{},type:"post",multiSelect:!0,showOrder:!1,title:e.i18n("bha-choose-addApp"),showSelectedTip:!0,placeholder:e.i18n("bha-choose-searchPlaceholder"),maxSelect:null,height:"500px",width:"900px",topHtml:"",bottomHtml:"",searchKeyName:"SEARCHKEY",leftDataAdapter:null,buttons:null,searchKeyNeedConvert:!1,searchByQuerySetting:!1,callback:function(){},rightcellsRenderer:function(){},leftcellsRenderer:function(){},leftcellsBreforeReload:null,afterDelete:function(){},afterSelect:function(){},leftRendered:function(){}},t.prototype={getSelectedRecords:function(){return this.$rightGrid.jqxDataTable("getRows")},show:function(){this.options.insertContainer?e(this.options.insertContainer).html(this.$element):this.showJqxWindow(),this.$leftGrid=this.$element.find(".leftGrid"),this.$rightGrid=this.$element.find(".rightGrid"),this.initSelectedRecords(this.options.rightLocalData),this.initLeftTable(),this.initRightTable(),this.bindSearchEvent(),this.resetContentHeight(),JPlaceHolder.init(this.$element.find(".gm-add-search input").parent())},close:function(){this.$element.jqxWindow("close")},showJqxWindow:function(){var t=this;e("body").append(this.$element),this.$element.on("open",function(){e("body").css({overflow:"hidden","overflow-x":"hidden","overflow-y":"hidden"})});var a={resizable:!1,isModal:!0,draggable:!1,modalOpacity:.3,maxHeight:3e3,maxWidth:3e3,height:t.options.height||"500px",width:t.options.width||"900px",autoOpen:!1},n=t.options.height||"500px";n=parseInt(n.replace("px",""))/2+"px";var i=0;if(a.inIframe){var o=e(window.frameElement);o.length>0&&(i=o.offset().top)}var n=0,r=null;try{n=top.window.innerHeight,r=e(top.window)}catch(t){n=window.innerHeight,r=e(window)}a.position=[window.innerWidth/2-parseInt(a.width,10)/2,n/2-i+r.scrollTop()-parseInt(a.height,10)/2],this.$element.jqxWindow(a).jqxWindow("open"),this.$element.on("close",function(){t.$element.jqxWindow("destroy");var a={overflow:"scroll","overflow-x":"hidden","overflow-y":"scroll"};e("body").css(a)})},initSelectedRecords:function(e){e&&(this.selectedRecords=e,this.refreshSelectedCount())},bindSearchEvent:function(){var e=this,t=window._&&_.debounce(function(){e.reloadLeftTable()},500);this.$element.find(".leftSearch").on("keyup",function(a){13==a.keyCode?(e.reloadLeftTable(),window._&&t.cancel()):window._&&t()})},initLeftTable:function(){var t=this;this.leftSource=this.getLeftSource();var a=null;if(!0===this.options.searchByQuerySetting){var n=WIS_EMAP_SERV.getModel(this.options.leftSourceUrl.replace(/^\S+(modules\/\w+)\/\w+\.do$/g,"$1.do"),this.options.leftSourceAction,"grid",{});n?this.options.dataModel=n:console&&console.warn("bhChoose组件请求table 数据模型失败！")}this.leftSource.url?a=new e.jqx.dataAdapter(this.leftSource,t.options.leftDataAdapter||{formatData:function(a){return a.pageSize=a.pagesize,a.pageNumber=a.pagenum+1,e.extend(a,t.options.leftSourceParams),delete a.pagesize,delete a.pagenum,delete a.filterslength,a},downloadComplete:function(e){var a=t.options.leftSourceAction,n=a?e.datas[a]:e.datas;return t.leftSource.totalRecords=n.totalSize,e.recordsTotal=n.totalSize,e.data=n.rows,delete e.datas,delete e.code,e}}):this.leftSource.localdata&&(a=new e.jqx.dataAdapter(this.leftSource));var i=e.extend({},this.getNormalWindowOptions(),{source:a,pageable:!this.leftSource.localdata,height:308,columns:t.options.leftColumns||[{dataField:"onlineDate",cellsRenderer:function(a,n,i,o){var r=e(t.options.leftcellsRenderer(a,n,i,o));return e(r.children()[0]).addClass("gm-member-user"),r.prop("outerHTML")}}],rendered:function(){t.leftRenderEventListener(),t.options.leftRendered()}});t.$element.find(".leftGrid").jqxDataTable(i)},getNormalWindowOptions:function(){return{showHeader:!1,pagerButtonsCount:3,serverProcessing:!0,showStatusbar:!1,showToolbar:!1,pagerMode:"advanced",localization:Globalize.culture("zh-CN"),pageSizeOptions:["10","20","50","100"],width:"100%",pagerHeight:28}},getLeftSource:function(){var t=null;return t=this.options.leftLocalData?{localdata:this.options.leftLocalData,datatype:"array",data:this.options.params}:{id:"id",datatype:"json",url:this.options.leftSourceUrl,type:this.options.type,data:e.extend(!0,{},this.options.params)},void 0!==this.options.datafields&&this.options.datafields.length>0&&(t.datafields=this.options.datafields),t},addSelectAllButton:function(){var t=this;if(!1!==this.options.multiSelect&&null===this.options.maxSelect){var a=this.$element.find(".leftGrid").find(".jqx-grid-pager");a.find(".leftgrid-select-all").length>0||(a.append('<div class="select-all-wrap"><div class="leftgrid-select-all" style="display:inline-block"></div><div class="select-all-text">'+e.i18n("bha-choose-selectAll")+"</div></div>"),a.find(".leftgrid-select-all").jqxCheckBox().on("change",function(a){var n=a.args.checked,i=t.$element.find(".leftGrid .gm-member-user");n?i.each(function(){e(this).hasClass("gm-member-disabled")?e(this).jqxCheckBox("uncheck"):e(this).jqxCheckBox("check")}):!1===n&&i.jqxCheckBox("uncheck")}))}},leftRenderEventListener:function(){var t=this,a=this.options.id,n=this.$leftGrid,i=this.$rightGrid,o=t.selectedRecords,r=t.$element.find(".leftGrid .gm-member-user");n.find("tr").removeAttr("data-key"),this.addSelectAllButton(),this.leftGridRows=n.jqxDataTable("getRows"),this.rightGridRows=i.jqxDataTable("getRows"),r.length>0&&r.each(function(){e(this).hasClass("gm-member-disabled")?e(this).jqxCheckBox({disabled:!0}):e(this).jqxCheckBox().on("change",function(n){var o=t.selectedRecords,r=n.args.checked,s=n.target.getAttribute("row"),l=t.leftGridRows[s][a],d=!1,c=t.leftGridRows[s];if(r){if(_.each(o,function(e){if(e[a]+""==c[a]+"")return d=!0,!1}),d)return;if(!1===t.options.multiSelect&&t.$element.find(".rightgrid-delete").trigger("click"),null!==t.options.maxSelect&&t.options.maxSelect<=o.length)return e.bhTip({content:e.i18n("bha-choose-only")+t.options.maxSelect+e.i18n("bha-choose-record")}),void e(this).jqxCheckBox("uncheck");if(t.options.afterSelect(c),t.options.interveneAfterSelect){var h=t.options.interveneAfterSelect(c);if("object"!=typeof h)return void console.error("bh_choose干预选择完毕后的数据格式是对象！");o.push(h),i.jqxDataTable("addRow",null,h)}else o.push(c),i.jqxDataTable("addRow",null,c)}else _.each(o,function(e,t){if(e[a]+""==l+"")return o.splice(t,1),!1}),t.refreshTable(i),t.resetSelectALLStatus();t.refreshSelectedCount()})});for(var s=0;s<o.length;s++)for(var l=0;l<this.leftGridRows.length;l++)t.selectedRecords[s][a]+""==this.leftGridRows[l][a]+""&&e(r[l]).jqxCheckBox("check");t.resetSelectALLStatus()},refreshSelectedCount:function(){this.options.showSelectedTip&&this.$rightGrid.prev().html(e.i18n("bha-choose-select")+this.selectedRecords.length)},getRightSource:function(){return this.options.rightLocalData?{localdata:this.options.rightLocalData,datatype:"array"}:this.options.rightSourceUrl?{id:"id",datatype:"json",url:this.options.rightSourceUrl,type:this.options.type}:{localdata:this.selectedRecords,datatype:"array"}},initRightTable:function(){var t=this,a=this.options.id,n=this.getRightSource(),i=[];n.url?i=new e.jqx.dataAdapter(n,{formatData:function(e){return e.pageSize=e.pagesize,e.pageNumber=e.pagenum+1,delete e.pagesize,delete e.pagenum,delete e.filterslength,e},downloadComplete:function(a){var i=t.options.rightSourceAction,o=i?a.datas[i]:a.datas;return n.totalRecords=o.totalSize,e.extend(a,t.options.leftSourceParams),a.recordsTotal=o.totalSize,a.data=o.rows,t.initSelectedRecords(o.rows),delete a.datas,delete a.code,a}}):n.localdata&&(i=new e.jqx.dataAdapter(n));var o=e.extend({},this.getNormalWindowOptions(),{source:i,pagerMode:"advanced",height:315,pageable:!1,columns:t.options.rightColumns||[{dataField:"onlineDate",cellsRenderer:function(n,i,o,r){var s=e(t.options.rightcellsRenderer(n,i,o,r)),l=t.options.showOrder?'<i class="iconfont icon-keyboardarrowup rightgrid-up"></i><i class="iconfont icon-keyboardarrowdown rightgrid-down"></i>':"";return s.append('<a class="gm-member-delete" data-x-id="'+r[a]+'" href="javascript:void(0)">'+l+'<i class="iconfont icon-delete rightgrid-delete"></i></a>').prop("outerHTML")}}],rendered:function(){t.rightRenderEventListener()}});t.$element.find(".rightGrid").jqxDataTable(o)},rightRenderEventListener:function(){var t=this,a=this.options.id;t.$element.find(".rightGrid").find("tr").removeAttr("data-key"),t.$element.find(".rightgrid-down").on("click",function(){for(var n=e(this).parent(),i=n.attr("data-x-id"),o=0;o<t.selectedRecords.length;o++)if(t.selectedRecords[o][a]+""==i+""&&o<t.selectedRecords.length-1){var r=t.selectedRecords[o];t.selectedRecords[o]=t.selectedRecords[o+1],t.selectedRecords[o+1]=r;break}t.refreshTable(t.$element.find(".rightGrid"))}),t.$element.find(".rightgrid-up").on("click",function(){for(var n=e(this).parent(),i=n.attr("data-x-id"),o=0;o<t.selectedRecords.length;o++)if(t.selectedRecords[o][a]+""==i+""&&o>0){var r=t.selectedRecords[o];t.selectedRecords[o]=t.selectedRecords[o-1],t.selectedRecords[o-1]=r;break}t.refreshTable(t.$element.find(".rightGrid"))}),t.$element.find(".rightgrid-delete").on("click",function(){for(var n=t.$element.find(".leftGrid"),i=e(this).parent(),o=i.attr("data-x-id"),r=t.leftGridRows,s=!1,l=t.selectedRecords,d=n.find(".gm-member-user"),c=0;c<d.length;c++)if(e(d[c]).jqxCheckBox("val")&&r[c][a]+""==o+""){t.options.afterDelete(r[c]);for(var h=0;h<t.selectedRecords.length;h++)t.selectedRecords[h][a]+""==o&&(e(d[c]).jqxCheckBox("uncheck"),t.resetSelectALLStatus(),s=!0)}s||(_.each(l,function(e,t){if(e[a]+""==o+"")return l.splice(t,1),!1}),t.refreshTable(t.$rightGrid),t.refreshSelectedCount())})},clear:function(){for(var t=this,a=this.options.id,n=t.$element.find(".leftGrid"),i=t.leftGridRows,o=t.selectedRecords,r=n.find(".gm-member-user"),s=0;s<r.length;s++){if(e(r[s]).jqxCheckBox("val"))for(var l=0;l<t.selectedRecords.length;l++)t.selectedRecords[l][a]+""==i[s][a]+""&&(e(r[s]).jqxCheckBox("uncheck"),t.resetSelectALLStatus())}o.splice(0,o.length),t.refreshTable(t.$rightGrid),t.options.showSelectedTip&&t.$rightGrid.prev().html(e.i18n("bha-choose-select")+o.length)},resetSelectALLStatus:function(){if(!1!==this.options.multiSelect&&null===this.options.maxSelect){for(var t=this.$element.find(".leftGrid").find(".jqx-grid-pager"),a=this.$element.find(".leftGrid"),n=a.find(".gm-member-user"),i=0,o=0;o<n.length;o++)e(n[o]).jqxCheckBox("val")&&i++;0==i&&!1!==t.find(".leftgrid-select-all").jqxCheckBox("val")?t.find(".leftgrid-select-all").jqxCheckBox("uncheck"):i==n.length&&i>0?t.find(".leftgrid-select-all").jqxCheckBox("check"):!0===t.find(".leftgrid-select-all").jqxCheckBox("val")&&t.find(".leftgrid-select-all").jqxCheckBox("indeterminate")}},reload:function(e,t){this.querySetting=e,this.params=t,e.querySetting&&(this.querySetting=e.querySetting),e.params&&(this.params=e.params),this.reloadLeftTable()},resetContentHeight:function(){var e=this.$element,t=e.find(".jqx-window-content.jqx-widget-content.jqx-rc-b").css("height");t=parseInt(t)-55+"px",e.find(".jqx-window-content>.content").css({height:t,overflow:"auto"})},reloadLeftTable:function(){var t=this,a=e.trim(t.$element.find(".leftSearch").val()),n=this.options.localSearchField.split(","),i=this.options.leftLocalData;if(this.options.searchKeyNeedConvert&&(a=a.toLowerCase()),i){for(var o=[],r=0;r<i.length;r++)for(var s=0;s<n.length;s++){var l=i[r][n[s]];if(l&&(l=l.toLowerCase(),l.indexOf(a)>=0)){o.push(i[r]);break}}t.leftSource.localdata=o}else if(t.options.searchByQuerySetting&&t.options.dataModel&&t.options.dataModel.length){var d=[];if(""!==a){var c=t.options.dataModel.filter(function(e){var t=WIS_EMAP_SERV.getAttr(e,"search");return"text"==t.xtype&&1==t.quickSearch});c.length?c.map(function(e,t){d.push({name:e.name,value:a,caption:e.caption,builder:!e.defaultBuilder||e.defaultBuilder&&"equal"==e.defaultBuilder?"include":e.defaultBuilder,linkOpt:t?"OR":"AND"})}):console&&console.error("数据模型未配置快速搜索的文本字段，搜索无法执行！")}if(this.querySetting){var h="object"==typeof this.querySetting?JSON.stringify(this.querySetting):this.querySetting;(0===this.querySetting.length||this.querySetting.length>0)&&(h=this.querySetting),d=h.concat([d])}if(this.params)for(var u in t.params)if(t.params.hasOwnProperty(u)){var p=t.params[u];t.leftSource.data[u]=p}t.leftSource.data.querySetting=JSON.stringify(d)}else{a?t.leftSource.data[this.options.searchKeyName]=a:t.leftSource.data&&delete t.leftSource.data[this.options.searchKeyName];var f=e.extend({},t.options.params,t.params,{querySetting:"object"==typeof this.querySetting?JSON.stringify(this.querySetting):this.querySetting});_.each(_.keys(f),function(e){t.leftSource.data[e]=f[e]})}t.options.leftcellsBreforeReload&&!1===t.options.leftcellsBreforeReload(t.leftSource.data)||t.refreshTable(t.$element.find(".leftGrid"))},refreshTable:function(e){e.jqxDataTable("goToPage",0)||e.jqxDataTable("updateBoundData")},getChooseLayout:function(){var t=this,a=this.options.rightLocalData?this.options.rightLocalData.length:0,n=e('<div><div class="head"></div><div><div class="content">   <div class="content-top">'+this.options.topHtml+'</div>   <div class="gm-add-block bh-clearfix">        <div class="bh-col-md-6" style="background: #fff;padding-left:0px;padding-right:0px;">            <div class="gm-add-search bh-mb-8" style="margin:7px 8px 0 8px">                <input class="leftSearch" type="text" placeholder="'+this.options.placeholder+'">                 <button style="border:0px;width:0px;height:0px;position: absolute;padding:0;top: 0px;"></button>              <a href="javascript:void(0)"><i class="iconfont">&#xe895;</i></a>          </div>         <div class="noBorderGrid leftGrid leftgrid-container"></div>      </div>     <div class="bh-col-md-6 rightgrid-container">'+(!1===this.options.showSelectedTip?"<h3>"+e.i18n("bha-choose-selectedField")+"</h3>":"<h3>"+e.i18n("bha-choose-select")+a+"</h3>")+'           <div class="noBorderGrid transparentGrid rightGrid"></div>      </div></div><div class="content-bottom">'+this.options.bottomHtml+'</div><div id="buttons" style="position: absolute;bottom:32px;width: 100%;left: 0;float: right;padding: 0 24px;"></div></div></div></div>');if(this.options.insertContainer)return n;e(".head",n).append(e("<h2></h2>").append(this.options.title));var i=[{
text:e.i18n("bha-choose-confirm"),className:"bh-btn-primary",callback:function(){return t.options.callback(t.getSelectedRecords())}},{text:e.i18n("bha-choose-cancel"),className:"bh-btn-default",callback:function(){n.jqxWindow("close")}}];i=this.options.buttons||i;for(var o=i.length-1;o>=0;o--){var r=e('<button class="bh-btn '+i[o].className+' bh-pull-right">'+i[o].text+"</button>");if(i[o].callback){var s=i[o].callback;r.data("callback",s),r.click(function(){!1!==e(this).data("callback").apply(n,[n])&&n.jqxWindow("close")})}e("#buttons",n).append(r)}return n}}}(jQuery),function(e){function t(t,i){var o="",r=" ";return Array.isArray(i.operations)&&Array.isArray(i.items)?0===e(i.operations).length||0===e(i.items).length?(console.error("请传入必填参数！"),!1):(e(i.operations).each(function(e,t){o+='<span class="bh-calculator-operation">'+t+"</span>"}),e(i.items).each(function(e,t){r+='<span class="bh-calculator-item">'+t+"</span>"}),t.append('<div class="bh-calculator-container">    \t\t\t\t\t<div class="bh-calculator-operations">'+o+'</div>    \t\t\t\t\t<div class="bh-calculator-itemView">    \t\t\t\t\t\t<div class="bh-calculator-items">'+r+'</div>    \t\t\t\t\t\t<div class="bh-calculator-itemsController"><span class="bh-calculator-viewController"><i class="iconfont icon-keyboardarrowup"></i></span></div>    \t\t\t\t\t</div><textarea wrap="virtual" class="bh-calculator-result"></textarea>'),t.on("click",".bh-calculator-item",function(){var a=e(this).text(),n=t.find(".bh-calculator-result").val();t.find(".bh-calculator-result").val(n+" ["+a+"] ")}),t.on("click",".bh-calculator-operation",function(){var a=e(this).text(),n=t.find(".bh-calculator-result"),i=n.val();n.val(i+a)}),t.on("click",".bh-calculator-itemsController",function(){t.find(".bh-calculator-viewController i.iconfont").hasClass("icon-keyboardarrowup")?(t.find(".bh-calculator-items").height("28px"),t.find(".bh-calculator-itemView").height("48px"),t.find(".bh-calculator-viewController i.iconfont").removeClass("icon-keyboardarrowup").addClass("icon-keyboardarrowdown")):(t.find(".bh-calculator-items").height("141px"),t.find(".bh-calculator-itemView").height("160px"),t.find(".bh-calculator-viewController i.iconfont").removeClass("icon-keyboardarrowdown").addClass("icon-keyboardarrowup"))}),a(t,".bh-calculator-operations",".bh-calculator-operation"),void n(t,".bh-calculator-itemView",".bh-calculator-item")):(console.error("参数类型错误，请传入数组！"),!1)}function a(t,a,n){var i=t.find(n),o=t.find(a).innerWidth(),r=0;i.each(function(t,a){if(r+=e(a).outerWidth(!0),r==o&&(r=0),r>o){var n=o-(r-e(a).outerWidth(!0))+e(i[t-1]).outerWidth();e(i[t-1]).outerWidth(n),e(i[t-1]).css("border-right","none"),r=e(a).outerWidth(!0)}})}function n(t,a,n){var i=t.find(n),o=t.find(a)[0].scrollWidth-17,r=0;i.each(function(t,a){if(r+=e(a).outerWidth(!0),r==o&&(r=0),r>o){var n=o-(r-e(a).outerWidth(!0))+e(i[t-1]).outerWidth();e(i[t-1]).outerWidth(n),e(i[t-1]).css("border-right","none"),r=e(a).outerWidth(!0)}})}var i;e.fn.bhCalculator=function(t,a){var n;return n=this.data("bhCalculator"),!0===t?n:n?"string"===e.type(t)?n[t](a):this:this.each(function(){return e(this).data("bhCalculator",new i(this,t))})},e.fn.bhCalculator.defaults={operations:void 0,items:void 0},i=function(){function a(a,n){this.settings=e.extend({},e.fn.bhCalculator.defaults,n),this.$element=e(a),t(this.$element,this.settings)}return a.prototype.getValue=function(){return e(".bh-calculator-result",this.$element).val()},a.prototype.setValue=function(t){return e(".bh-calculator-result",this.$element).val(t),this.$element},a.prototype.disabled=function(){return e(".bh-calculator-result",this.$element).attr("disabled","disabled"),this.$element},a.prototype.enabled=function(){return e(".bh-calculator-result",this.$element).removeAttr("disabled"),this.$element},a.prototype.destroy=function(){this.options=null,e(this.$element).data("bhCalculator",!1).empty()},a}()}(jQuery),function(){function e(e){this.options=e,this.$element=t(e),n(this.$element,this.options),a(this.$element)}function t(e){var t=[];e.useGroup?t=WIS_EMAP_SERV._sortModel(e.model):t.push(e.model);var a=e.columns,n='<div class="bh-customize-column-search bh-mb-16"><input type="text" class="bh-form-control" placeholder="'+$.i18n("bha-column-searchWord")+'"><i class="iconfont icon-search bh-import-step" style="position: absolute;left: 6px;top: 6px;"></i><span class="bh-color-caption"></span><div class="bh-customize-column-choose-finder bh-clearfix bh-color-info-2"><div class="bh-pull-left bh-bg-info-5 bh-border-v bh-border-r bh-bColor-info-3" action-type="up"><i class="iconfont icon-keyboardarrowup"></i></div><div class="bh-pull-left bh-bg-info-5 bh-border-v bh-border-r bh-bColor-info-3" action-type="down"><i class="iconfont icon-keyboardarrowdown"></i></div></div></div>',i='<div class="bh-customize-content">',o='<ul id="fooSide" class="block__list block__list_words" style="overflow-y: auto;">',r="";e.columnsReorder&&('<i class="iconfont icon-menu order-handle"></i>',r="reoderable"),g=e.schemaList;var s=[];$(t).each(function(){var n=[],o=0,l=0;if("grid"==e.modelType)var c=e.colNum-1||5,h=100/c+"%";else var c=e.colNum||6,h=100/c+"%";var u=this.groupName;$.each(a,function(t,a){var i=a.datafield;void 0===i&&a.name&&(i=a.name);var c=i&&i.replace("_DISPLAY","");if("undefined"!==$.type(c)&&"field_checkbox"!=c&&"field_radio"!=c){var p=e.model.filter(function(e){return e.name==c})[0];if(p){var f=p.caption||a.text,b=!1;e.alwaysHide&&e.alwaysHide.length&&(b=$.inArray(c,e.alwaysHide)>-1);var g=void 0!==p["grid.hidden"]?p["grid.hidden"]:p.hidden,v=!1;if("grid"==e.modelType?v=void 0!==p["grid.fixed"]?p["grid.fixed"]:p.fixed:"search"==e.modelType&&(v=void 0!==p["search.fixed"]?p["search.fixed"]:p.fixed),g&&v&&(b=!0),p&&(!e.useGroup||p.groupName==u)){if(p["grid.hidden"])return;if(n.push(' <li class="cell bh-bColor-info-3" style="width:'+h+";"+(b?"display: none;":"")+'"><div class="bh-checkbox bh-str-cut '+r+'" title="'+f+'"><label><input type="checkbox" name="'+c+'" '+(a.hidden?"":"checked")+" "+(v&&!g?"disabled":"")+'><i class="bh-choice-helper"></i><span class="filed-name">'+f+"</span></label></div></li>"),!a.hidden){var m=v&&!g?"disabled":"";s.push(d(c,c,f,m))}a.hidden||b||l++,b||o++}}}});var p=o%c;if(p)for(var f=0;f<c-p;f++)n.push('<li class="cell bh-bColor-info-3" style="width:'+h+'">');var b=this.groupName;this.groupName&&e.useGroup||(b=1==t.length?$.i18n("bha-column-selectAll"):$.i18n("bha-column-nonGroupingField")),o>0&&(!1===e.multiSelect?i+='<div class="group-select sc-title-borderLeft bh-mb-8" '+(o?"":'style="display: none;"')+"><b>"+b+"</b></div>":i+='<div class="group-select bh-mb-8" '+(o?"":'style="display: none;"')+'><div class="bh-checkbox" style="padding-left: 9px;"><label><input type="checkbox" name="'+b+'" title="'+b+'"><i class="bh-choice-helper"></i><b>'+b+'</b></label><span class="bh-text-caption bh-color-caption">'+$.i18n("bha-column-chosen")+'：<span class="bh-color-warning selected-num">'+l+"</span></span></div></div>",i+='<div class="bh-customize-column-grid bh-bColor-info-3"><ul class="bh-clearfix" style="list-style:none">'+n.join("")+"</ul></div>")});var l=[];if(g&&g.length>0)for(var c=0;c<g.length;c++)for(var h=0;h<s.length;h++)g[c].replace("_DISPLAY","")!=$(s[h]).attr("lang")&&g[c].replace("_DISPLAY","")!=$(s[h]).attr("name")||l.push(s[h]);else for(var h=0;h<s.length;h++)l.push(s[h]);o+=l.join(""),o+="</ul>",i+="</div>";var u=n+i,f='<div style="width:24%;float:right;"><div>排序</div><div style="width:100%;border:1px solid #D8DCEF;height:446px;overflow-y:auto;">'+o+"</div></div>",b='<div style="width:75%;float:left;">'+u+"</div>",v='<div style="width:100%;height:100%;">'+b+f+"</div>",m=e.title||$.i18n("bha-column-addDelete"),y="export"===e.type,k=[{text:y?$.i18n("bha-column-export"):$.i18n("bha-column-save"),className:"bh-btn-primary",callback:function(){p.call(this,e)}},{text:$.i18n("bha-column-cancel"),className:"bh-btn-default",callback:$.noop}],C=$.extend({width:"944px"},e.params),w="";w="grid"==e.modelType?BH_UTILS.bhWindow(v,m,k,C):BH_UTILS.bhWindow(u,m,k,C),WIS_EMAP_INPUT.placeHolder($("input[type=text]",w)),$(document).trigger("bhAdvancedQueryfieldRenderEvent","加载完成");var x=w.find(".jqx-window-content");x.niceScroll().remove();var T=x.height()-w.find(".bh-customize-column-search").outerHeight(!0),N="";return"grid"==e.modelType?(new Sortable(fooSide,{group:"words",onAdd:function(e){console.log("onAdd.fooSide:",e.detail)},onUpdate:function(e){console.log("onUpdate.fooSide:",e.detail)},onRemove:function(e){console.log("onRemove.fooSide:",e.detail)}}),N=.74*x.width()):N=x.width(),w.find(".bh-customize-content").css({height:T,width:N,overflow:"auto"}),y&&w.find(".bh-customize-column-grid").length>1&&w.find("#buttons").append('<div class="select-all-for-export bh-form-group bh-l-inline bh-pull-right"><div class="bh-checkbox"><label><input type="checkbox" value=""><i class="bh-choice-helper"></i>'+$.i18n("bha-column-selectAll")+"</label></div></div>"),w}function a(e){e.find(".group-select").each(function(){var e=!0;$(this).next().find("input:visible:not(:disabled)").each(function(){if(!$(this).prop("checked"))return e=!1,!1}),$(this).find("input").prop("checked",e)}),u(e)}function n(e,t){if(i(e),o(e,t),r(e,t),s(e),l(e),!1===t.multiSelect){var a=$(".bh-customize-column-grid input[type=checkbox]",e);a.on("change",function(e){a.each(function(t){$(this).prop("checked")&&this!==e.target&&$(this).prop("checked",!1)})})}h(e),t.columnsReorder&&c(e)}function i(e){e.find(".bh-customize-column-search input").on("input",function(){var e=$(this).val(),t=0,a=$(this).closest(".content");a.find("li:visible .bh-checkbox").each(function(){var a=$(this),n=a.attr("title");e&&n.indexOf(e)>-1&&(n=n.replace(e,'<i class="bh-bg-warning-3" role-box-index="'+t+'">'+e+"</i>"),t++),a.find(".filed-name").html(n)}),$(this).closest(".bh-customize-column-search").find(".bh-customize-column-choose-finder").show(),f(a),e||($(this).nextAll("span").text(""),$(this).closest(".bh-customize-column-search").find(".bh-customize-column-choose-finder").hide())})}function o(e,t){e.on("change",".group-select input",function(e){var a=$(this).prop("checked"),n=$(this).closest(".group-select").next().find("li:visible input");if(n.filter(":not(:disabled)").prop("checked",a),$(this).closest(".group-select").find(".selected-num").text(n.filter(":checked").length),t.mustSelect){var i=$(e.delegateTarget).find(".selected-num"),o=0;i.each(function(){o+=1*$(this).text()}),$(e.delegateTarget).find("#buttons:last button.bh-btn-primary").attr("disabled",!o)}var r=[],s=$("#fooSide").html(),l=$("#fooSide").html(),c=$(this).closest(".group-select").next().find("li:visible");if(!a)return c.filter(":not(:disabled)").each(function(e,t){var a=$(t).find("input").attr("disabled")||"",n=$(t).find("input").attr("name"),i=d(n,n,t.textContent,a);l&&-1!=l.indexOf(i)&&"disabled"!=a&&(l=l.replace(i,"")),t.textContent}),$("#fooSide").html(l),void(0!=$("#fooSide").find("li").length||$("#fooSide").html('<div class="pleaseSelect" style="text-align:center;margin-top:90%;">请选择</div>'));c.filter(":not(:disabled)").each(function(e,t){if(t.textContent){var a=$(t).find("input").attr("name"),n=$(t).find("input").attr("disabled")||"",i=d(a,a,t.textContent,n);s&&-1==s.indexOf(i)&&r.push(i)}}),$("#fooSide").find("li").length>0?$("#fooSide").append(r.join("")):$("#fooSide").html(r.join(""))})}function r(e,t){e.find(".bh-customize-column-grid").on("change","li input",function(e){var a=$(e.delegateTarget),n=a.prev().find(".selected-num"),i=1*n.text(),o=$(this).siblings("span").text(),r=$(this).attr("name"),s=$(this).find("input").attr("disabled")||"";if($(this).prop("checked"))a.closest(".content").next().find("button.bh-btn-primary").removeAttr("disabled"),i++,a.prev().find("input").prop("checked",a.find("li:visible :input").length===i),g&&g.length>0&&-1==g.indexOf(r)&&g.push(r),$(".pleaseSelect")&&$(".pleaseSelect").remove(),"grid"==t.modelType&&($("#fooSide").append(d(r,r,o,s)),$("#fooSide").parent().scrollTop($("#fooSide").parent()[0].scrollHeight));else{var l=a.parent();if(t.mustSelect){var c=!0;l.find("li:visible input").each(function(){if($(this).prop("checked"))return c=!1,!1}),a.closest(".content").next().find("button.bh-btn-primary").attr("disabled",c)}a.prev().find("input").prop("checked",!1),i--,"grid"==t.modelType&&($("#fooSide").find('li[lang="'+r+'"]').remove(),0==$("#fooSide").find("li:visible").length&&$("#fooSide").html('<div class="pleaseSelect" style="text-align:center;margin-top:90%;">请选择</div>'))}n.text(i)})}function s(e){e.on("click",".bh-customize-column-choose-finder>div",function(e){f($(e.delegateTarget),$(e.currentTarget).attr("action-type"))}).on("keyup","input[type=text].bh-form-control",function(e){13==e.keyCode&&$(this).val()&&f($(e.delegateTarget),"down")})}function l(e){e.on("click","#fooSide .sideDelete",function(e){var t=$(this);if(!t.hasClass("disabledIcon")){var a=$(".bh-clearfix .bh-bColor-info-3"),n=t.parent().attr("lang"),i=1*a.find("input[name='"+n+"']").parents(".bh-customize-column-grid").prev().find(".selected-num").text();a.find("input[name='"+n+"']").prop("checked",!1),i--,a.find("input[name='"+n+"']").parents(".bh-customize-column-grid").prev().find(".selected-num").text(i),a.find("input[name='"+n+"']").parents(".bh-customize-column-grid").prev().find("input").prop("checked",!1),t.parent().remove();var o=$("#fooSide").find("li:visible").length;0==o&&($("#fooSide").html('<div class="pleaseSelect" style="text-align:center;margin-top:90%;">请选择</div>'),$(e.delegateTarget).find("#buttons:last button.bh-btn-primary").attr("disabled",!o))}}).on("mouseenter","#fooSide li",function(){$(this).find(".sideDelete").show()}).on("mouseleave","#fooSide li",function(){$(this).find(".sideDelete").hide()})}function d(e,t,a,n){return'<li class="cell bh-bColor-info-3 sideLi" title="'+a+'" name="'+e+'" lang="'+t+'"><i class="iconfont icon-menu" style="float:left;"></i><div class="bh-str-cut sideDiv" title="'+a+'"><label><span class="filed-name">'+a+'</span></label></div><i class="iconfont icon-delete sideDelete '+("disabled"==n?"disabledIcon":"")+'" style="display: none;" title="删除"></i></li>'}function c(e){e.find(".bh-customize-column-grid").each(function(){})}function h(e){e.on("change",".select-all-for-export input",function(e){var t=$(this).prop("checked");$(e.delegateTarget).find(".group-select input").each(function(){$(this).prop("checked",t),$(this).trigger("change")})}),e.on("change",".bh-customize-content input",function(e){u($(e.delegateTarget))})}function u(e){var t=!0;e.find(".group-select input").each(function(){if(!$(this).prop("checked"))return t=!1,!1}),e.find(".select-all-for-export input").prop("checked",t)}function p(e){var t=[];$(this).find('li input[type="checkbox"]').each(function(){t.push({name:$(this).attr("name"),hidden:!$(this).prop("checked"),caption:$(this).closest("div").attr("title")})}),e.callback&&e.callback.call(this,t)}function f(e,t){var a=e.find("i[role-box-index]"),n=a.length,i=$.i18n("bha-column-total")+n+$.i18n("bha-column-tiaoo"),o=e.find(".bh-bg-warning-2");if(n){var r=0;if(o.length){o.removeClass("bh-bg-warning-2").addClass("bh-bg-warning-3");var s=1*o.attr("role-box-index");r="up"!==t?s===n-1?0:s+1:0===s?n-1:s-1}a.eq(r).removeClass("bh-bg-warning-3").addClass("bh-bg-warning-2").focus(),b(e),i=$.i18n("bha-column-number")+(r+1)+$.i18n("bha-column-tiao")+"；"+i}else i=$.i18n("bha-column-number0")+"；"+i;e.find(".bh-customize-column-search>span").text(i)}function b(e){var t=e.find(".bh-bg-warning-2").closest("li"),a=t.height(),n=t.position(),i=t.closest(".bh-customize-column-grid").position().top+n.top,o=e.find(".bh-customize-content"),r=o.height(),s=o.niceScroll().newscrolly||0;if(i<0||i+a>r){var l=i-r/2;o.niceScroll().doScrollTop(s+l,.3)}}$.bhCustomizeColumn=function(t){return new e($.extend({},$.bhCustomizeColumn.default,t))},$.bhCustomizeColumn.default={title:"",model:[],columns:[],alwaysHide:[],modelType:"grid",multiSelect:!0,useGroup:!1,mustSelect:!0,columnsReorder:!1,type:"toggle",colNum:"6",callback:null,params:null};var g=[];e.prototype.getValue=function(){var e=[];return this.$element.find('li input[type="checkbox"]').each(function(){e.push({name:$(this).attr("name"),hidden:!$(this).prop("checked"),caption:$(this).closest("div").attr("title")})}),e}}.call(this),function(){var e,t,a,n=function(a,n){return n.mode&&(n.model=n.mode),this.$element=$(a),this.options=e(n),t(this.$element,this.options),this};n.prototype.val=function(e){return e?this.setValue(e):this.getValue()},n.prototype.setValue=function(e){var t=$('input[bh-form-role="dateTimeInput"]',this.$element);if($.isPlainObject(e))e.hasOwnProperty("startDate")&&t.first().data("DateTimePicker").date(e.startDate),e.hasOwnProperty("endDate")&&t.last().data("DateTimePicker").date(e.endDate);else{var a=e.split(",");2===a.length?t.each(function(e){$(this).data("DateTimePicker").date(a[e])}):t.data("DateTimePicker").date(e)}return this.$element},n.prototype.clear=function(){return $('input[bh-form-role="dateTimeInput"]',this.$element).each(function(){$(this).data("DateTimePicker").date(null)}),this.$element},n.prototype.getValue=function(){return{startDate:$('[role="startDatePicker"]',this.$element).bhDateTimePicker("getValue"),endDate:$('[role="endDatePicker"]',this.$element).bhDateTimePicker("getValue")}},n.prototype.disabled=function(e){return $.isPlainObject(e)?(e.hasOwnProperty("start")&&this.$element.find('[role="startDatePicker"]').bhDateTimePicker("disabled",e.start),e.hasOwnProperty("end")&&this.$element.find('[role="endDatePicker"]').bhDateTimePicker("disabled",e.end)):this.$element.find('[type="datePicker"]').each(function(){$(this).bhDateTimePicker("disabled",e)}),this.$element},n.prototype.getStartPicker=function(){return this.$element.find('[role="startDatePicker"]').bhDateTimePicker("getDatePicker")},n.prototype.startMaxDate=function(e){return void 0===e?this.$element.find('[role="startDatePicker"]').bhDateTimePicker("getDatePicker").maxDate():this.$element.find('[role="startDatePicker"]').bhDateTimePicker("maxDate",e)},n.prototype.startMinDate=function(e){return void 0===e?this.$element.find('[role="startDatePicker"]').bhDateTimePicker("getDatePicker").maxDate():this.$element.find('[role="startDatePicker"]').bhDateTimePicker("minDate",e)},n.prototype.getEndPicker=function(){return this.$element.find('[role="endDatePicker"]').bhDateTimePicker("getDatePicker")},n.prototype.endMaxDate=function(e){return void 0===e?this.$element.find('[role="endDatePicker"]').bhDateTimePicker("getDatePicker").maxDate():this.$element.find('[role="endDatePicker"]').bhDateTimePicker("maxDate",e)},n.prototype.endMinDate=function(e){return void 0===e?this.$element.find('[role="endDatePicker"]').bhDateTimePicker("getDatePicker").minDate():this.$element.find('[role="endDatePicker"]').bhDateTimePicker("minDate",e)},e=function(e){var t=$.extend(!0,{},$.fn.bhDateAreaPicker.defaults,e),a=t.end,n=t.start;return delete t.start,delete t.end,{start:$.extend(!0,{},t,n),end:$.extend(!0,{},t,a)}},t=function(e,t){e.html('<div class="bh-data-area-picker-clear"><div class="bh-col-md-6"><div role="startDatePicker" type="datePicker"></div></div><span class="bh-data-area-picker-split">-</span><div class="bh-col-md-6"><div role="endDatePicker" type="datePicker"></div></div></div>'),e.find('div[role="startDatePicker"]').bhDateTimePicker(t.start),e.find('div[role="endDatePicker"]').bhDateTimePicker(t.end),a(e,t)},a=function(e,t){$('[type="datePicker"]',e).on("dp.change",function(e){var t=$(this).find('[bh-form-role="dateTimeInput"]').data("DateTimePicker");$(this).parent().nextAll("div").each(function(){var a=$(this).find("input[bh-form-role=dateTimeInput]").data("DateTimePicker"),n=a.date(),i=moment(e.date,t.format()).toDate();if(n&&moment(n.format(a.format()),a.format()).toDate()<i)return $.bhTip({content:$.i18n("bha-dateArea-greater"),state:"warning"}),!1;a.minDate(e.date?e.date.format(a.format()):null)}),$(this).parent().prevAll("div").each(function(){var a=$(this).find("input[bh-form-role=dateTimeInput]").data("DateTimePicker"),n=a.date(),i=moment(e.date,t.format()).toDate();if(n&&moment(n.format(a.format()),a.format()).toDate()>i)return $.bhTip({content:$.i18n("bha-dateArea-less"),state:"warning"}),!1;a.maxDate(e.date?e.date.format(a.format()):null)})})},$.fn.bhDateAreaPicker=function(e,t){var a;return a=this.data("bhDateAreaPicker"),a?!0===e?a:"string"===$.type(e)?a[e](t):this:this.each(function(){return $(this).data("bhDateAreaPicker",new n(this,e))})},$.fn.bhDateAreaPicker.defaults={format:"YYYY-MM-DD",start:{},end:{}}}.call(this),function(){var e,t=$.fn.val;$.fn.val=function(){var e=arguments,a=$(this).data("bhdatetimepicker");return a?a.val.apply(a,e):t.apply(this,e)};var a=function(t,a){return a.mode&&(a.model=a.mode),"ch"!==BH_UTILS.lang()&&($.fn.bhDateTimePicker.defaults.tooltips={}),this.options=$.extend({},$.fn.bhDateTimePicker.defaults,a),this.$element=$(t),e(this.$element,this.options),this};a.prototype.val=function(e){return 0===arguments.length?this.getValue():this.setValue(e)},a.prototype.setValue=function(e){var t=this.getDatePicker();return""===e&&(e=null),t.date(e),this.$element},a.prototype.getValue=function(){return $('[bh-form-role="dateTimeInput"]',this.$element).val()},a.prototype.disabled=function(e){var t=this.$element;return!0===e?(t.addClass("bh-disabled"),$('[bh-form-role="dateTimeInput"]',t).attr("disabled",!0)):!1===e&&(t.removeClass("bh-disabled"),$('[bh-form-role="dateTimeInput"]',t).attr("disabled",!1)),t},a.prototype.show=function(){return this.getDatePicker().show(),this.element},a.prototype.hide=function(){return this.getDatePicker().hide(),this.element},a.prototype.minDate=function(e){return this.getDatePicker().minDate(e),this.element},a.prototype.maxDate=function(e){return this.getDatePicker().maxDate(e),this.element},a.prototype.date=function(){var e=arguments,t=this.getDatePicker();return 0===e.length?t.data():t.date.apply(t,e)},a.prototype.enabledDates=function(){var e=arguments,t=this.getDatePicker();return 0===e.length?t.enabledDates():t.enabledDates.apply(t,e)},a.prototype.disabledDates=function(){var e=arguments,t=this.getDatePicker();return 0===e.length?t.disabledDates():t.disabledDates.apply(t,e)},a.prototype.getDatePicker=function(){return this.$element.find("input[bh-form-role=dateTimeInput]").data("DateTimePicker")},e=function(e,t){var a=e.data("placeholder");e.html('<input bh-form-role="dateTimeInput" type="text" class="bh-form-control"/><span class="bhtc-input-group-addon"><i class="iconfont icon-daterange"></i></span>').addClass("bhtc-input-group"),void 0!==a&&""!==a&&$("input",e).attr("placeholder",a),$("[bh-form-role=dateTimeInput]",e).datetimepicker(t),$("[bh-form-role=dateTimeInput]",e).on("blur",function(){e.trigger("dateInputBlur")}).on("dp.change",function(e){e.type="change",e.namespace="",$(this).parent().trigger(e)})},$.fn.bhDateTimePicker=function(e){var t=$(arguments).toArray();t.shift();var n;return n=this.data("bhdatetimepicker"),n?!0===e?n:"string"===$.type(e)?n[e].apply(n,t):this:this.each(function(){return $(this).data("bhdatetimepicker",new a(this,e))})},$.fn.bhDateTimePicker.defaults={format:"YYYY-MM-DD",tooltips:{today:"跳到今天",clear:"清除选择",close:"关闭选择器",selectMonth:"选择月",prevMonth:"上一月",nextMonth:"下一月",selectYear:"选择年",prevYear:"上一年",nextYear:"上一年",selectDecade:"选择十年",prevDecade:"上个十年",nextDecade:"下个十年",prevCentury:"上个世纪",nextCentury:"下个世纪",pickHour:"选择小时",incrementHour:"加小时",decrementHour:"少小时",pickMinute:"选择分钟",incrementMinute:"加分钟",decrementMinute:"减分钟",pickSecond:"选择秒",incrementSecond:"加秒",decrementSecond:"减秒",togglePeriod:"切换周期",selectTime:"选择时间"}},$.fn.bhDateTimePicker.prototype.constructor=a}.call(this),function(){$.bhDefaults=$.bhDefaults||{},$.bhDefaults.Dialog={type:"",title:"",content:"",buttons:[],width:"auto",height:"auto"},$.bhDialog=function(e){var t=$("body"),a=$.extend({},$.bhDefaults.Dialog,e||{}),n={_init:function(){var e=$("<div class='bh-bhdialog-container'></div>"),i=n.NewGuid();e.attr("id","dialog"+i);var o=$("<div class='bh-modal'></div>"),r=$("<div class='bh-pop bh-card bh-card-lv4 bh-dialog-con'></div>");return a.width&&!isNaN(a.width)?r.width(a.width):r.width(420),a.className&&r.addClass(a.className),n._createDialogIconClose(r,i),n._createDialogIcon(r),n._createDialogBtn(r,i),n._createDialogBody(r,i),o.append(r),e.append(o),e.append($('<div class="bh-modal-backdrop"></div>')),$(".bh-bhdialog-container").length&&($(".bh-bhdialog-container").remove(),t.removeClass("bh-has-modal-body"),n.isRetainModal=!1),t.append(e),n._resetPos(r),n._checkScrollbar(),t.hasClass("bh-has-modal-body")?n.isRetainModal=!0:(n.isRetainModal=!1,t.addClass("bh-has-modal-body")),e},_resetPos:function(e){var t=window.innerHeight,a=e.height();e.css("margin-top",(t-a)/2)},_checkScrollbar:function(){var e=window.innerWidth;if(!e){var t=document.documentElement.getBoundingClientRect();e=t.right-Math.abs(t.left)}var a=document.body.clientWidth<e,i=n._measureScrollbar();n._setScrollbar(a,i)},_setScrollbar:function(e,a){var n=$("body").attr("wpr"),i=parseInt(t.css("padding-right")||0,10);$("body").attr("wpr",void 0!==n?n:document.body.style.paddingRight||""),e&&(console.log(i,a),i?t.css("padding-right",i):t.css("padding-right",i+a),$('[bh-header-role="bhHeaderMini"]').css("padding-right",i+a),$('[bh-header-role="bhHeader"]').css("padding-right",i+a))},_resetScrollbar:function(){var e=$("body").attr("wpr");$("body").css("padding-right",e),$('[bh-header-role="bhHeaderMini"]').css("padding-right",e),$('[bh-header-role="bhHeader"]').css("padding-right",e)},_measureScrollbar:function(){var e=document.createElement("div");e.className="bh-modal-scrollbar-measure",t.append(e);var a=e.offsetWidth-e.clientWidth;return t[0].removeChild(e),a},_removeDialog:function(e){$("#dialog"+e).remove(),n._resetScrollbar(),n.isRetainModal?n.isRetainModal=!1:t.removeClass("bh-has-modal-body")},_createDialogBody:function(e,t){var i=$("<div class='bh-dialog-content'></div>"),o=$('<div class="content"></div>');if(o.html(n._getContent(a)),i.append(o),a.more)var r=$('<div class="link"><a href="'+a.more.link+'" target="_blank">'+a.more.text+"</a></div>");i.append(r),a.subContent&&($(".bh-dialog-expand",i).on("click",function(){$(this).hide(),$(".bh-dialog-subContent",i).show()}),$(".bh-dialog-collapse",i).on("click",function(){$(this).parent().hide(),$(".bh-dialog-expand",i).show()})),e.find(".bh-dialog-center").prepend(i)},_getContent:function(e){if(e.subContent){var t=e.content;return t+='<a href="javascript:void(0)" class="bh-dialog-expand">'+$.i18n("bha-dialog-detail")+"</a>",t+='<div class="bh-dialog-subContent" >'+e.subContent+'<a href="javascript:void(0)" class="bh-dialog-collapse">'+$.i18n("bha-dialog-fold")+"</a></div>"}return e.content},_createDialogBtn:function(e,t){var i=$('<div class="bh-dialog-center"></div>'),o=$('<div class="bh-dialog-btnContainerBox"></div>');if(a.buttons&&a.buttons.length>0){for(var r=a.buttons.length,s=0;s<r;s++){var l=n._createBtn(a.buttons[s],t);o.append(l)}i.append(o)}else n._getDefalutDialog(t,i,o);n._setDialogClass(i),e.append(i)},_setDialogClass:function(e){var t;t=e.find(".bh-dialog-btn")[0],$(t).addClass("bh-bg-primary bh-color-primary-5")},_createBtn:function(e,t){var a=$("<a href='javascript:void(0);' class='bh-dialog-btn'></a>");return e&&e.text&&a.text(e.text),a.click(function(){!1!==(e.callback&&e.callback())&&n._removeDialog(t)}),a},_getDefalutDialog:function(e,t,i){var o=[],r=[];return"success"==a.type?(o=n._createBtn({text:$.i18n("bha-dialog-close")},e),i.append(o),t.append(i)):"warning"==a.type?(r=[{text:$.i18n("bha-dialog-confirm"),callback:null},{text:$.i18n("bha-dialog-cancel"),callback:null}],n._appendDefaultDialog(r,t,i,e)):"danger"==a.type?(r=[{text:$.i18n("bha-dialog-retry"),callback:null},{text:$.i18n("bha-dialog-cancel"),callback:null}],n._appendDefaultDialog(r,t,i,e)):"information"==a.type&&(o=n._createBtn({text:$.i18n("bha-dialog-close")},e),i.append(o),t.append(i)),o},_appendDefaultDialog:function(e,t,a,i){for(var o=[],r=0;r<e.length;r++)o=n._createBtn(e[r],i),a.append(o);t.append(a)},_createDialogIconClose:function(e,t){var a=$('<span class="bh-dialog-close"><i class="iconfont icon-setstyle icon-close bh-color-grey-3"></i></span>');a.click(function(){n._removeDialog(t)}),e.append(a)},_createDialogIcon:function(e){if(""!=a.type){var t=n._getDialogIconDom(a.type);e.append(t)}},_getDialogIconDom:function(e){var t="";return"success"==e?t="checkcircle":"warning"==e?t="info":"danger"==e?t="cancel":"information"==e&&(t="info"),'<div class="bh-dialog-exceptBtn-con bh-dialog-icon-color'+e+'" id="bh-dialog-exceptBtn-con"><div class="bh-dialog-exceptBtn-chilid" id="bh-dialog-exceptBtn-chilid"><div class="bh-dialog-img-con"><i class="iconfont icon-setstyle icon-'+t+'"></i></div><h2 class="bh-dialog-title-text">'+a.title+"</h2></div></div>"},NewGuid:function(){return n.S4()+n.S4()+"-"+n.S4()+"-"+n.S4()+"-"+n.S4()+"-"+n.S4()+n.S4()+n.S4()},S4:function(){return(65536*(1+Math.random())|0).toString(16).substring(1)}};""==a.type&&a.iconType&&(a.type=a.iconType),""!==a.content&&void 0!==a.content||(a.content=a.title,a.title=$.i18n("bha-dialog-prompt"),"success"==a.type?a.title="提示":"warning"==a.type?a.title="警告":"danger"==a.type&&(a.title="提示"));var i=n._init();return $(".bh-dialog-content .content",i).niceScroll({cursorcolor:"#E4E3E3",autohidemode:!1}),i}}.call(this),QR8bitByte.prototype={getLength:function(e){return this.data.length},write:function(e){for(var t=0;t<this.data.length;t++)e.put(this.data.charCodeAt(t),8)}},QR_code.prototype={addData:function(e){var t=new QR8bitByte(e);this.dataList.push(t),this.dataCache=null},isDark:function(e,t){if(e<0||this.moduleCount<=e||t<0||this.moduleCount<=t)throw new Error(e+","+t);return this.modules[e][t]},getModuleCount:function(){return this.moduleCount},make:function(){if(this.typeNumber<1){var e=1;for(e=1;e<40;e++){for(var t=QRRSBlock.getRSBlocks(e,this.errorCorrectLevel),a=new QRBitBuffer,n=0,i=0;i<t.length;i++)n+=t[i].dataCount;for(var i=0;i<this.dataList.length;i++){var o=this.dataList[i];a.put(o.mode,4),a.put(o.getLength(),QRUtil.getLengthInBits(o.mode,e)),o.write(a)}if(a.getLengthInBits()<=8*n)break}this.typeNumber=e}this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(e,t){this.moduleCount=4*this.typeNumber+17,this.modules=new Array(this.moduleCount);for(var a=0;a<this.moduleCount;a++){this.modules[a]=new Array(this.moduleCount);for(var n=0;n<this.moduleCount;n++)this.modules[a][n]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(e,t),this.typeNumber>=7&&this.setupTypeNumber(e),null==this.dataCache&&(this.dataCache=QR_code.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,t)},setupPositionProbePattern:function(e,t){for(var a=-1;a<=7;a++)if(!(e+a<=-1||this.moduleCount<=e+a))for(var n=-1;n<=7;n++)t+n<=-1||this.moduleCount<=t+n||(this.modules[e+a][t+n]=0<=a&&a<=6&&(0==n||6==n)||0<=n&&n<=6&&(0==a||6==a)||2<=a&&a<=4&&2<=n&&n<=4)},getBestMaskPattern:function(){for(var e=0,t=0,a=0;a<8;a++){this.makeImpl(!0,a);var n=QRUtil.getLostPoint(this);(0==a||e>n)&&(e=n,t=a)}return t},createMovieClip:function(e,t,a){var n=e.createEmptyMovieClip(t,a);this.make();for(var i=0;i<this.modules.length;i++)for(var o=1*i,r=0;r<this.modules[i].length;r++){var s=1*r,l=this.modules[i][r];l&&(n.beginFill(0,100),n.moveTo(s,o),n.lineTo(s+1,o),n.lineTo(s+1,o+1),n.lineTo(s,o+1),n.endFill())}return n},setupTimingPattern:function(){for(var e=8;e<this.moduleCount-8;e++)null==this.modules[e][6]&&(this.modules[e][6]=e%2==0);for(var t=8;t<this.moduleCount-8;t++)null==this.modules[6][t]&&(this.modules[6][t]=t%2==0)},setupPositionAdjustPattern:function(){for(var e=QRUtil.getPatternPosition(this.typeNumber),t=0;t<e.length;t++)for(var a=0;a<e.length;a++){var n=e[t],i=e[a]
;if(null==this.modules[n][i])for(var o=-2;o<=2;o++)for(var r=-2;r<=2;r++)this.modules[n+o][i+r]=-2==o||2==o||-2==r||2==r||0==o&&0==r}},setupTypeNumber:function(e){for(var t=QRUtil.getBCHTypeNumber(this.typeNumber),a=0;a<18;a++){var n=!e&&1==(t>>a&1);this.modules[Math.floor(a/3)][a%3+this.moduleCount-8-3]=n}for(var a=0;a<18;a++){var n=!e&&1==(t>>a&1);this.modules[a%3+this.moduleCount-8-3][Math.floor(a/3)]=n}},setupTypeInfo:function(e,t){for(var a=this.errorCorrectLevel<<3|t,n=QRUtil.getBCHTypeInfo(a),i=0;i<15;i++){var o=!e&&1==(n>>i&1);i<6?this.modules[i][8]=o:i<8?this.modules[i+1][8]=o:this.modules[this.moduleCount-15+i][8]=o}for(var i=0;i<15;i++){var o=!e&&1==(n>>i&1);i<8?this.modules[8][this.moduleCount-i-1]=o:i<9?this.modules[8][15-i-1+1]=o:this.modules[8][15-i-1]=o}this.modules[this.moduleCount-8][8]=!e},mapData:function(e,t){for(var a=-1,n=this.moduleCount-1,i=7,o=0,r=this.moduleCount-1;r>0;r-=2)for(6==r&&r--;;){for(var s=0;s<2;s++)if(null==this.modules[n][r-s]){var l=!1;o<e.length&&(l=1==(e[o]>>>i&1));var d=QRUtil.getMask(t,n,r-s);d&&(l=!l),this.modules[n][r-s]=l,i--,-1==i&&(o++,i=7)}if((n+=a)<0||this.moduleCount<=n){n-=a,a=-a;break}}}},QR_code.PAD0=236,QR_code.PAD1=17,QR_code.createData=function(e,t,a){for(var n=QRRSBlock.getRSBlocks(e,t),i=new QRBitBuffer,o=0;o<a.length;o++){var r=a[o];i.put(r.mode,4),i.put(r.getLength(),QRUtil.getLengthInBits(r.mode,e)),r.write(i)}for(var s=0,o=0;o<n.length;o++)s+=n[o].dataCount;if(i.getLengthInBits()>8*s)throw new Error("code length overflow. ("+i.getLengthInBits()+">"+8*s+")");for(i.getLengthInBits()+4<=8*s&&i.put(0,4);i.getLengthInBits()%8!=0;)i.putBit(!1);for(;;){if(i.getLengthInBits()>=8*s)break;if(i.put(QR_code.PAD0,8),i.getLengthInBits()>=8*s)break;i.put(QR_code.PAD1,8)}return QR_code.createBytes(i,n)},QR_code.createBytes=function(e,t){for(var a=0,n=0,i=0,o=new Array(t.length),r=new Array(t.length),s=0;s<t.length;s++){var l=t[s].dataCount,d=t[s].totalCount-l;n=Math.max(n,l),i=Math.max(i,d),o[s]=new Array(l);for(var c=0;c<o[s].length;c++)o[s][c]=255&e.buffer[c+a];a+=l;var h=QRUtil.getErrorCorrectPolynomial(d),u=new QRPolynomial(o[s],h.getLength()-1),p=u.mod(h);r[s]=new Array(h.getLength()-1);for(var c=0;c<r[s].length;c++){var f=c+p.getLength()-r[s].length;r[s][c]=f>=0?p.get(f):0}}for(var b=0,c=0;c<t.length;c++)b+=t[c].totalCount;for(var g=new Array(b),v=0,c=0;c<n;c++)for(var s=0;s<t.length;s++)c<o[s].length&&(g[v++]=o[s][c]);for(var c=0;c<i;c++)for(var s=0;s<t.length;s++)c<r[s].length&&(g[v++]=r[s][c]);return g};for(var QRMode={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},QRErrorCorrectLevel={L:1,M:0,Q:3,H:2},QRMaskPattern={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},QRUtil={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(e){for(var t=e<<10;QRUtil.getBCHDigit(t)-QRUtil.getBCHDigit(QRUtil.G15)>=0;)t^=QRUtil.G15<<QRUtil.getBCHDigit(t)-QRUtil.getBCHDigit(QRUtil.G15);return(e<<10|t)^QRUtil.G15_MASK},getBCHTypeNumber:function(e){for(var t=e<<12;QRUtil.getBCHDigit(t)-QRUtil.getBCHDigit(QRUtil.G18)>=0;)t^=QRUtil.G18<<QRUtil.getBCHDigit(t)-QRUtil.getBCHDigit(QRUtil.G18);return e<<12|t},getBCHDigit:function(e){for(var t=0;0!=e;)t++,e>>>=1;return t},getPatternPosition:function(e){return QRUtil.PATTERN_POSITION_TABLE[e-1]},getMask:function(e,t,a){switch(e){case QRMaskPattern.PATTERN000:return(t+a)%2==0;case QRMaskPattern.PATTERN001:return t%2==0;case QRMaskPattern.PATTERN010:return a%3==0;case QRMaskPattern.PATTERN011:return(t+a)%3==0;case QRMaskPattern.PATTERN100:return(Math.floor(t/2)+Math.floor(a/3))%2==0;case QRMaskPattern.PATTERN101:return t*a%2+t*a%3==0;case QRMaskPattern.PATTERN110:return(t*a%2+t*a%3)%2==0;case QRMaskPattern.PATTERN111:return(t*a%3+(t+a)%2)%2==0;default:throw new Error("bad maskPattern:"+e)}},getErrorCorrectPolynomial:function(e){for(var t=new QRPolynomial([1],0),a=0;a<e;a++)t=t.multiply(new QRPolynomial([1,QRMath.gexp(a)],0));return t},getLengthInBits:function(e,t){if(1<=t&&t<10)switch(e){case QRMode.MODE_NUMBER:return 10;case QRMode.MODE_ALPHA_NUM:return 9;case QRMode.MODE_8BIT_BYTE:case QRMode.MODE_KANJI:return 8;default:throw new Error("mode:"+e)}else if(t<27)switch(e){case QRMode.MODE_NUMBER:return 12;case QRMode.MODE_ALPHA_NUM:return 11;case QRMode.MODE_8BIT_BYTE:return 16;case QRMode.MODE_KANJI:return 10;default:throw new Error("mode:"+e)}else{if(!(t<41))throw new Error("type:"+t);switch(e){case QRMode.MODE_NUMBER:return 14;case QRMode.MODE_ALPHA_NUM:return 13;case QRMode.MODE_8BIT_BYTE:return 16;case QRMode.MODE_KANJI:return 12;default:throw new Error("mode:"+e)}}},getLostPoint:function(e){for(var t=e.getModuleCount(),a=0,n=0;n<t;n++)for(var i=0;i<t;i++){for(var o=0,r=e.isDark(n,i),s=-1;s<=1;s++)if(!(n+s<0||t<=n+s))for(var l=-1;l<=1;l++)i+l<0||t<=i+l||0==s&&0==l||r==e.isDark(n+s,i+l)&&o++;o>5&&(a+=3+o-5)}for(var n=0;n<t-1;n++)for(var i=0;i<t-1;i++){var d=0;e.isDark(n,i)&&d++,e.isDark(n+1,i)&&d++,e.isDark(n,i+1)&&d++,e.isDark(n+1,i+1)&&d++,0!=d&&4!=d||(a+=3)}for(var n=0;n<t;n++)for(var i=0;i<t-6;i++)e.isDark(n,i)&&!e.isDark(n,i+1)&&e.isDark(n,i+2)&&e.isDark(n,i+3)&&e.isDark(n,i+4)&&!e.isDark(n,i+5)&&e.isDark(n,i+6)&&(a+=40);for(var i=0;i<t;i++)for(var n=0;n<t-6;n++)e.isDark(n,i)&&!e.isDark(n+1,i)&&e.isDark(n+2,i)&&e.isDark(n+3,i)&&e.isDark(n+4,i)&&!e.isDark(n+5,i)&&e.isDark(n+6,i)&&(a+=40);for(var c=0,i=0;i<t;i++)for(var n=0;n<t;n++)e.isDark(n,i)&&c++;return a+=Math.abs(100*c/t/t-50)/5*10}},QRMath={glog:function(e){if(e<1)throw new Error("glog("+e+")");return QRMath.LOG_TABLE[e]},gexp:function(e){for(;e<0;)e+=255;for(;e>=256;)e-=255;return QRMath.EXP_TABLE[e]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},i=0;i<8;i++)QRMath.EXP_TABLE[i]=1<<i;for(var i=8;i<256;i++)QRMath.EXP_TABLE[i]=QRMath.EXP_TABLE[i-4]^QRMath.EXP_TABLE[i-5]^QRMath.EXP_TABLE[i-6]^QRMath.EXP_TABLE[i-8];for(var i=0;i<255;i++)QRMath.LOG_TABLE[QRMath.EXP_TABLE[i]]=i;QRPolynomial.prototype={get:function(e){return this.num[e]},getLength:function(){return this.num.length},multiply:function(e){for(var t=new Array(this.getLength()+e.getLength()-1),a=0;a<this.getLength();a++)for(var n=0;n<e.getLength();n++)t[a+n]^=QRMath.gexp(QRMath.glog(this.get(a))+QRMath.glog(e.get(n)));return new QRPolynomial(t,0)},mod:function(e){if(this.getLength()-e.getLength()<0)return this;for(var t=QRMath.glog(this.get(0))-QRMath.glog(e.get(0)),a=new Array(this.getLength()),n=0;n<this.getLength();n++)a[n]=this.get(n);for(var n=0;n<e.getLength();n++)a[n]^=QRMath.gexp(QRMath.glog(e.get(n))+t);return new QRPolynomial(a,0).mod(e)}},QRRSBlock.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],QRRSBlock.getRSBlocks=function(e,t){var a=QRRSBlock.getRsBlockTable(e,t);if(void 0==a)throw new Error("bad rs block @ typeNumber:"+e+"/errorCorrectLevel:"+t);for(var n=a.length/3,i=new Array,o=0;o<n;o++)for(var r=a[3*o+0],s=a[3*o+1],l=a[3*o+2],d=0;d<r;d++)i.push(new QRRSBlock(s,l));return i},QRRSBlock.getRsBlockTable=function(e,t){switch(t){case QRErrorCorrectLevel.L:return QRRSBlock.RS_BLOCK_TABLE[4*(e-1)+0];case QRErrorCorrectLevel.M:return QRRSBlock.RS_BLOCK_TABLE[4*(e-1)+1];case QRErrorCorrectLevel.Q:return QRRSBlock.RS_BLOCK_TABLE[4*(e-1)+2];case QRErrorCorrectLevel.H:return QRRSBlock.RS_BLOCK_TABLE[4*(e-1)+3];default:return}},QRBitBuffer.prototype={get:function(e){var t=Math.floor(e/8);return 1==(this.buffer[t]>>>7-e%8&1)},put:function(e,t){for(var a=0;a<t;a++)this.putBit(1==(e>>>t-a-1&1))},getLengthInBits:function(){return this.length},putBit:function(e){var t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}},function(e){function t(e,t){var a=new QR_code(e.typeNumber,e.correctLevel);a.addData(e.text),a.make();var i=document.createElement("canvas");i.id="qrcode",i.width=e.size,i.height=e.size;for(var o=i.getContext("2d"),r=n(o),s=e.size,l=s*r,d=e.imageSize*r,c=s/a.getModuleCount(),h=s/a.getModuleCount(),u=0;u<a.getModuleCount();u++)for(var p=0;p<a.getModuleCount();p++){o.fillStyle=a.isDark(u,p)?e.foreground:e.background;var f=Math.ceil((p+1)*c)-Math.floor(p*c),b=Math.ceil((u+1)*h)-Math.floor(u*h);o.fillRect(Math.round(p*c),Math.round(u*h),f,b)}e.image&&function(e,t){var a=new Image;a.src=e,a.onload=function(){t(this),a.onload=null}}(e.image,function(e){var t=((l-d)/2).toFixed(2),a=((l-d)/2).toFixed(2);o.drawImage(e,t,a,d,d)}),t.append(i)}var a;a=function(){function a(a,n){this.settings=e.extend({},e.fn.bhQrcode.defaults,n),this.$element=e(a),t(this.settings,this.$element)}return a}(),e.fn.bhQrcode=function(e){return this.each(function(){return new a(this,e)})},e.fn.bhQrcode.defaults={render:"canvas",size:150,typeNumber:-1,correctLevel:2,background:"#ffffff",foreground:"#000000",text:"",image:"",imageSize:30};var n=function(e){var t=e.backingStorePixelRatio||e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1;return(window.devicePixelRatio||1)/t}}(jQuery),function(e){function t(e,t){var n={};n.ele=t,n.width=e.width,n.type=e.type,n.max=e.max,n.min=e.min,n.value=e.value,n.step=e.step,n.disabled=e.disabled,n.rangeNum=n.max-n.min,n.fraction=n.rangeNum/n.step,n.isRange="range"===e.type,n.isNode="node"===e.type,n.nodeNum=e.nodeNum,a(n),o(n),b(n),w(n)}function a(e){e.guid=BH_UTILS.NewGuid();e.ele.html('<div class="bh-slider-base"></div><div class="bh-slider-value"></div><div class="bh-slider-dot" flag="unactive" draggable="true"></div>'),e.ele.attr("bh-slider-guid",e.guid),e.baseEle=e.ele.find(".bh-slider-base"),e.valueEle=e.ele.find(".bh-slider-value"),e.isRange&&n(e),e.isNode&&i(e),e.dot=e.ele.find(".bh-slider-dot")}function n(e){e.valueEle.before('<div class="bh-slider-dot" flag="unactive" draggable="true"></div>')}function i(e){for(var t="",a=0;a<e.nodeNum;a++)t+='<div class="bh-slider-nodeCon"><div class="bh-slider-node bh-mb-16"></div><div class="bh-slider-nodeIndex">'+a+"</div></div>";e.baseEle.append(t)}function o(e){e.baseEle.parent().addClass("bh-slider-container"),e.baseEle.css("width",e.width),e.baseWidth=e.baseEle.width(),e.stepEDis=e.baseWidth/e.fraction,e.tipTop=e.valueEle.offset().top,e.nomalLeft=e.ele.offset().left,r(e),u(e)}function r(e){e.isRange?h(e):c(e),e.isNode?s(e):c(e)}function s(e,t){var a=0;if(t){a=v(e,e.ele.find('.bh-slider-dot[flag="active"]'))}else a=e.value;var n=C(e,a),i=e.baseWidth/(e.nodeNum-1),o=parseInt(n/i);e.nodeNum;l(e,o,i),d(e,o,i)}function l(t,a,n){for(var i=t.ele.find(".bh-slider-nodeCon"),o=0;o<=a;o++){var r=e(i[o]),s=r.find(".bh-slider-node"),l=r.find(".bh-slider-nodeIndex"),d=n*o;r.css("left",d),l.removeClass("bh-slider-node-unChoosedIndex").addClass("bh-slider-node-choosedIndex"),t.disabled?s.addClass("bh-node-choosed-disabled"):s.removeClass("bh-node-unChoosed").addClass("bh-node-choosed")}}function d(t,a,n){for(var i=t.ele.find(".bh-slider-nodeCon"),o=a+1;o<t.nodeNum;o++){var r=e(i[o]),s=r.find(".bh-slider-node"),l=r.find(".bh-slider-nodeIndex"),d=n*o;r.css("left",d),l.removeClass("bh-slider-node-choosedIndex").addClass("bh-slider-node-unChoosedIndex"),t.disabled?s.addClass("bh-node-unChoosed-disabled"):s.removeClass("bh-node-choosed").addClass("bh-node-unChoosed")}}function c(e){var t=C(e,e.value);e.dot.css("left",t+"px"),e.valueEle.css("width",t+"px")}function h(t){var a=t.value[1]-t.value[0],n=C(t,t.value[0]),i=C(t,t.value[1]),o=C(t,a);e(t.dot[0]).css("left",n+"px"),e(t.dot[1]).css("left",i+"px"),t.valueEle.css("width",o),t.valueEle.css("left",n+8+"px")}function u(e){e.disabled?p(e):f(e)}function p(t){t.baseEle.addClass("bh-slider-disable-base"),t.valueEle.addClass("bh-slider-disable-variety"),t.dot.each(function(a){e(t.dot[a]).addClass("bh-slider-disable-dot")})}function f(t){t.baseEle.addClass("bh-slider-active-base"),t.valueEle.addClass("bh-slider-active-variety"),t.dot.each(function(a){e(t.dot[a]).addClass("bh-slider-active-dot")})}function b(t){var a='<div class="bh-slider-tip bh-animate-opacity" bh-slider-guid="'+t.guid+'"></div>';e("body").append(a);var n=e('[bh-slider-guid="'+t.guid+'"]');t.tip=n.filter(function(t){return e(n[t]).hasClass("bh-slider-tip")?e(n[t]):""})}function g(e){var t=e.ele.find('.bh-slider-dot[flag="active"]'),a=v(e,t),n=m(e,t);e.tip.text(a).css({left:n.left+"px",top:n.top+"px"})}function v(e,t){var a=t.offset().left-e.nomalLeft;return Math.round(a/e.stepEDis)*e.step}function m(e,t){var a=parseInt(t.width()/2,10),n=t.offset(),i=n.left+a,o=parseInt(e.tip.width()/2,10),r=e.tip.height(),s=i-o;return{top:n.top-r-8-2,left:s}}function y(t){if(!t.disabled){e("body").data("bhSliderData",t),T=!0;e("body").on("mousemove",function(t){if(T){var a=e("body").data("bhSliderData");k(a,t.pageX-a.nomalLeft),g(a),a.isNode&&(s(a,!0),BH_UTILS.clearTextSelect())}})}}function k(e,t){var a=(e.valueEle.width(),e.ele.find('.bh-slider-dot[flag="active"]')),n=a.offset().left-e.nomalLeft,i=C(e,t,!0);if(!(i<0||i>e.baseWidth)){var o=i;if(e.isRange){var r=e.ele.find('.bh-slider-dot[flag="unactive"]'),s=r.offset().left-e.nomalLeft;i-=s,i<0&&(i=-i),n<s?e.valueEle.css("left",n+8+"px"):n>s&&e.valueEle.css("left",s+8+"px")}a.css("left",o),e.valueEle.css("width",i)}}function C(e,t,a){var n=t/e.step;return a&&(n=t/e.stepEDis),Math.round(n*e.stepEDis)}function w(t){var a=(t.valueEle.width(),e("body"));t.dot.on("mouseover",function(a){T||(t.tip.css("opacity","1"),e(a.target).attr("flag","active")),g(t)}),t.dot.on("mouseout",function(a){T||(e(a.target).attr("flag","unactive"),t.tip.css("opacity","0"))}),t.baseEle.parent().on("mouseout",function(e){}),t.dot.on("mousedown",function(a){return e(a.target).attr("flag","active"),y(t),!1}),a.on("mouseup",function(){return T=!1,t.dot.each(function(a){e(t.dot[a]).attr("flag","unactive")}),t.tip.css("opacity","0"),!1}),t.dot[0].ondragstart=function(e){T=!1},t.dot[0].ondrag=function(e){T=!1},t.valueEle[0].ondragstart=function(e){T=!1},t.valueEle[0].ondrag=function(e){T=!1},t.baseEle[0].ondragstart=function(e){T=!1},t.baseEle[0].ondrag=function(e){T=!1}}e.fn.bhSlider=function(t,a){var n;if(!(n=this.data("bhSlider")))return this.each(function(){return e(this).data("bhSlider",new x(this,t))});if(!0===t)return n;if("string"===e.type(t)){return n[t](a)}},e.fn.bhSlider.defaults={type:"node",width:"100%",min:0,max:100,step:1,value:50,disabled:!1,nodeNum:7};var x,T=!1;x=function(){function a(a,n){this.settings=e.extend({},e.fn.bhSlider.defaults,n),this.$element=e(a),t(this.settings,this.$element)}return a.prototype.getDotValue=function(t){var a="";return a=t?e(_slider.ele.find(".bh-slider-dot")[t]):_slider.ele.find(".bh-slider-dot"),v(_slider,a)},a}()}(jQuery),function(e){"use strict";function t(t){var i=new Date,o=a(t,i),s=e(o);t.rangeBoxDom=s,t.$rootElement.html(s),r(s,t);var l=n(t,i),h=e(l);t.popupBoxDom=h;var u=e("body");u.append(h),c(t,i),d(t),u.on("click",function(a){var n=e(a.target||a.srcElement);if(n.closest('div[bh-time-picker-role="rangeBox"]').length>0||n.closest('div[bh-time-picker-role="selectBoxCont"]').length>0||n.closest("div.jqx-calendar").length>0||n.closest("div.jqx-listbox").length>0)return void u.removeData("bhTimePick");var i=t.rangeBoxDom;if(i.hasClass("bh-active")){if(u.data("bhTimePick"))return void u.removeData("bhTimePick");i.find('div[bh-time-picker-role="rangeBoxSelectTime"]').click()}})}function a(e,t){var a,n;a=e.settings.time.start&&"today"!==e.settings.time.start?R(e.settings.time.start):t,n=e.settings.time.end&&"today"!==e.settings.time.end?R(e.settings.time.end):t;var i=P(a,e),o=P(n,e),r=i+"-"+o,s="";e.settings.width&&(s="width: "+parseInt(e.settings.width,10)+"px;");var l="";return e.settings.isDisable&&(l='<div class="bh-timePick-disable" bh-time-picker-role="disableBlock"></div>'),'<div class="bh-timePicker-rangeBox bh-clearfix" bh-time-picker-role="rangeBox" style="'+s+'"><div class="bh-timePicker-rangeBox-selectIcon bh-left" bh-time-picker-role="rangeBoxPre">&lt;</div><div class="bh-timePicker-rangeBox-time" bh-time-picker-role="rangeBoxSelectTime">'+r+'</div><div class="bh-timePicker-rangeBox-selectIcon bh-right" bh-time-picker-role="rangeBoxNext">&gt;</div>'+l+'</div><div class="bh-clearfix"></div>'}function n(t,a){var n=o(t,a),r=0,s=a.getFullYear(),l=t.settings.range.max&&"today"!==t.settings.range.max?R(t.settings.range.max).getFullYear():s,d=t.settings.range.min&&"today"!==t.settings.range.min?R(t.settings.range.min).getFullYear():s,c=t.settings.range.max&&s>=l,h=t.settings.range.min&&s<=d;return r=l,r>s&&(r=s),'<div class="bh-timePick-selectBoxCont" bh-time-picker-role="selectBoxCont"><div class="bh-timePick-selectBox bh-card bh-card-lv2" bh-time-picker-role="selectBox"><ul class="bh-timePick-tab" bh-time-picker-role="selectTab"><li class="bh-timePick-tabItem bh-active">'+e.i18n("bha-ticker2-customSelection")+'</li><li class="bh-timePick-tabItem">'+e.i18n("bha-ticker2-chooseMonthly")+'</li></ul><div class="bh-timePick-tabContent" bh-time-picker-role="selectTabContent"><div class="bh-timePick-custom bh-active"><div class="bh-timePick-customTime bh-clearfix" bh-time-picker-role="selectCustom"><div class="bh-timePick-selectType" bh-time-picker-role="selectType"></div><div class="bhtc-input-group" bh-time-picker-role="selectStart">'+i()+'</div><div class="bh-timePick-selectConnect"></div><div class="bhtc-input-group" bh-time-picker-role="selectEnd">'+i()+'</div></div><a class="bh-btn bh-btn-primary bh-btn-block" bh-time-picker-role="selectOk" href="javascript:void(0);">'+e.i18n("bha-ticker2-confirm")+'</a></div><div class="bh-timePick-selectMonthCont" bh-time-picker-role="selectMonthBlock"><div class="bh-timePick-selectMonth bh-timePicker-rangeBox bh-clearfix"><div class="bh-timePicker-rangeBox-selectIcon bh-left '+(h?"bh-disabled":"")+'" bh-time-picker-role="selectMonthPre">&lt;</div><div class="bh-timePicker-rangeBox-time" bh-time-picker-role="selectMonthYear">'+r+e.i18n("bha-ticker2-year")+'</div><div class="bh-timePicker-rangeBox-selectIcon bh-right '+(c?"bh-disabled":"")+'" bh-time-picker-role="selectMonthNext">&gt;</div></div><div class="bh-timePicker-selectMonthList bh-clearfix" bh-time-picker-role="selectMonthList">'+n+"</div></div></div></div></div>"}function i(){return'<input type="text" class="bh-form-control"/><span class="bhtc-input-group-addon"><i class="iconfont icon-daterange"></i></span>'}function o(t,a,n){var i="",o=a.getFullYear(),r=0,s=0,l=0,d=0;if(t.settings.range.max)if("today"!==t.settings.range.max){var c=R(t.settings.range.max);r=c.getFullYear(),s=c.getMonth()}else{var h=new Date;r=h.getFullYear(),s=h.getMonth()}if(t.settings.range.min)if("today"!==t.settings.range.min){var u=R(t.settings.range.min);l=u.getFullYear(),d=u.getMonth()}else{var h=new Date;l=h.getFullYear(),d=h.getMonth()}for(var p=0;p<12;p++){var f=p+1,b="";r&&l?l!==r?l<o&&o<r?b="bh-pre":l===o?p>=d&&(b="bh-pre"):o===r&&p<=s&&(b="bh-pre"):d<=p&&p<=s&&(b="bh-pre"):r?r>o?b="bh-pre":p<=s&&(b="bh-pre"):l?l<o?b="bh-pre":p>=d&&(b="bh-pre"):b="bh-pre","en"===e.i18n().locale?i+='<div class="bh-timePick-monthItem '+b+'" data-month="'+f+'" bh-time-picker-role="selectMonthItem">'+e.i18n("bha-ticker1-month"+f)+"</div>":i+='<div class="bh-timePick-monthItem '+b+'" data-month="'+f+'" bh-time-picker-role="selectMonthItem">'+f+e.i18n("bha-ticker1-month")+"</div>"}return i}function r(t,a){t.on("click",function(n){switch(a.$rootElement.removeData("selectType"),e(n.target||n.srcElement).attr("bh-time-picker-role")){case"rangeBoxPre":L("pre",a);break;case"rangeBoxNext":L("next",a);break;case"rangeBoxSelectTime":s(a,t)}})}function s(t,a){var n=t.popupBoxDom,i=n.children('div[bh-time-picker-role="selectBox"]');if(a.hasClass("bh-active"))l(t);else{var o=BH_UTILS.getElementPosition(a),r={top:o.bottom,left:o.left+20,display:"block"},s=0;e("body").find(".jqx-window").each(function(){var t=parseInt(e(this).css("z-index"),10);t>s&&(s=t)}),s>9999&&(r["z-index"]=s),n.css(r),a.addClass("bh-active"),setTimeout(function(){i.addClass("bh-active")},10)}}function l(e){var t=e.popupBoxDom,a=t.children('div[bh-time-picker-role="selectBox"]');a.find('div[bh-time-picker-role="rangeBoxSelectTime"]').click(),a.removeClass("bh-active"),setTimeout(function(){t.hide()},450),e.rangeBoxDom.removeClass("bh-active")}function d(t){t.popupBoxDom.on("click",".bh-timePick-tabItem",function(){var a=e(this);if(!a.hasClass("bh-active")){var n=a.index();a.closest("ul").find("li").removeClass("bh-active"),a.addClass("bh-active");var i=t.popupBoxDom.children('div[bh-time-picker-role="selectBox"]').children('div[bh-time-picker-role="selectTabContent"]').children();i.removeClass("bh-active"),i.eq(n).addClass("bh-active")}});var a=t.popupBoxDom.find('div[bh-time-picker-role="selectCustom"]'),n=a.children('div[bh-time-picker-role="selectStart"]').children("input"),i=a.children('div[bh-time-picker-role="selectEnd"]').children("input"),o=a.find('div[bh-time-picker-role="selectType"]');n.on("dp.change",function(e){B(t,a),A(a,"start",t)}),i.on("dp.change",function(e){B(t,a),A(a,"end",t)}),n.on("mouseover",function(e){t.$rootElement.removeData("selectType")}),i.on("mouseover",function(e){t.$rootElement.removeData("selectType")}),o.on("change",function(e){var a=e.args;if(a){var n=a.item.value;t.$rootElement.data("selectType",n),p({value:n},t)}}),t.popupBoxDom.on("click",'[bh-time-picker-role="selectOk"]',function(){var e=n.data("DateTimePicker").date()?n.data("DateTimePicker").date()._d:"",o=i.data("DateTimePicker").date()?i.data("DateTimePicker").date()._d:"",r=t.getValue(),s=r.startTime,d=r.endTime;S(t,e,o),l(t);var c=a.find('div[bh-time-picker-role="selectType"]').jqxDropDownList("getSelectedItem").value;t.$rootElement.trigger("selectedTime",[s,d,c]),void 0!==t.settings.selectedTime&&t.settings.selectedTime instanceof Function&&t.settings.selectedTime(s,d,c)}),t.popupBoxDom.on("click",'[bh-time-picker-role="selectMonthPre"]',function(){e(this).hasClass("bh-disabled")||D(e(this).closest('div[bh-time-picker-role="selectMonthBlock"]'),"pre",t)}),t.popupBoxDom.on("click",'[bh-time-picker-role="selectMonthNext"]',function(){e(this).hasClass("bh-disabled")||D(e(this).closest('div[bh-time-picker-role="selectMonthBlock"]'),"next",t)}),t.popupBoxDom.on("click",'[bh-time-picker-role="selectMonthItem"]',function(){I(e(this),t)})}function c(e,t){var a=e.popupBoxDom.find('div[bh-time-picker-role="selectCustom"]'),n=a.find('div[bh-time-picker-role="selectType"]'),i=a.find('div[bh-time-picker-role="selectStart"]'),o=a.find('div[bh-time-picker-role="selectEnd"]');e.startTimeDom=i,e.endTimeDom=o,e.$selectType=n,h(n,e),u(i,t,"start",e),u(o,t,"end",e),p({value:e.settings.defaultType},e)}function h(t,a){var n=[{name:e.i18n("bha-ticker2-custom"),value:"custom"},{name:e.i18n("bha-ticker2-all"),value:"all"},{name:e.i18n("bha-ticker2-startEmpty"),value:"startEmpty"},{name:e.i18n("bha-ticker2-endEmpty"),value:"endEmpty"},{name:e.i18n("bha-ticker2-today"),value:"today"},{name:e.i18n("bha-ticker2-currentWeek"),value:"currentWeek"},{name:e.i18n("bha-ticker2-lastWeek"),value:"lastWeek"},{name:e.i18n("bha-ticker2-currentMonth"),value:"currentMonth"},{name:e.i18n("bha-ticker2-lastMonth"),value:"lastMonth"},{name:e.i18n("bha-ticker2-currentQuarter"),value:"currentQuarter"},{name:e.i18n("bha-ticker2-lastQuarter"),value:"lastQuarter"},{name:e.i18n("bha-ticker2-currentYear"),value:"currentYear"},{name:e.i18n("bha-ticker2-lastYear"),value:"lastYear"},{name:e.i18n("bha-ticker2-last7Day"),value:"last7Day"},{name:e.i18n("bha-ticker2-last30Day"),value:"last30Day"}],i=0;e.grep(n,function(e,t){if(a.settings.defaultType===e.value)return i=t,!0}),a.settings.format&&a.settings.format.match(/MM$/)&&(n=n.filter(function(e){return-1===["today","currentWeek","lastWeek"].indexOf(e.value)})),t.jqxDropDownList({width:"80px",source:n,selectedIndex:i,autoDropDownHeight:!0,valueMember:"value",displayMember:"name"})}function u(e,t,a,n){var i;i="start"===a?n.settings.time.start&&"today"!==n.settings.time.start?R(n.settings.time.start):t:n.settings.time.end&&"today"!==n.settings.time.end?R(n.settings.time.end):t;var o=n.settings&&n.settings.range&&n.settings.range.max,r=n.settings&&n.settings.range&&n.settings.range.min;e.children("input").datetimepicker({format:n.settings.format,maxDate:!!o&&new Date(o),minDate:!!r&&new Date(o),defaultDate:i})}function p(e,t){var a=new Date,n=m(a),i=0,o=0;switch(e.value){case"custom":var r=t.settings.time.start;i=r&&"today"!==r?R(r):a;var s=t.settings.time.end;o=s&&"today"!==s?R(s):a;break;case"all":i=null,o=null;break;case"startEmpty":i=null;var s=t.settings.time.end;o=s&&"today"!==s?R(s):a;break;case"endEmpty":var r=t.settings.time.start;i=r&&"today"!==r?R(r):a,o=null;break;case"today":i=f(),o=b();break;case"currentWeek":i=f(n.time-864e5*(n.week-1)),o=b(n.time+864e5*(7-n.week));break;case"lastWeek":var l=n.time-864e5*(n.week-1);i=f(l-6048e5),o=b(l-864e5);break;case"currentMonth":i=f(n.time-864e5*(n.day-1)),o=b(g());break;case"lastMonth":var d=k(n);i=d.startTime,o=d.endTime;break;case"currentQuarter":var c=x(n);i=c.startTime,o=c.endTime;break;case"lastQuarter":var h=T(n);i=h.startTime,o=h.endTime;break;case"currentYear":i=R(n.year+"/1/1"),o=R(n.year+"/12/31 23:59:59");break;case"lastYear":i=R(parseInt(n.year-1)+"/1/1"),o=R(parseInt(n.year-1)+"/12/31 23:59:59");break;case"last7Day":i=new Date(n.time-6048e5),o=a;break;case"last30Day":i=new Date(n.time-2592e6),o=a}v(t,i,o)}function f(e){return e?new Date(new Date(new Date(e).toLocaleDateString()).getTime()):new Date(new Date((new Date).toLocaleDateString()).getTime())}function b(e){return e?new Date(new Date(new Date(e).toLocaleDateString()).getTime()+864e5-1):new Date(new Date((new Date).toLocaleDateString()).getTime()+864e5-1)}function g(e){if(e)var t=new Date(e);else var t=new Date;var a=t.getMonth(),n=++a,i=new Date(t.getFullYear(),n,1),o=new Date(i-864e5),r=parseInt(o.getMonth()+1),s=o.getDate();return r<10&&(r="0"+r),s<10&&(s="0"+s),t.getFullYear()+"-"+r+"-"+s}function v(e,t,a,n){var i=e.popupBoxDom.find('div[bh-time-picker-role="selectCustom"]'),o=i.children('div[bh-time-picker-role="selectStart"]').children("input"),r=i.children('div[bh-time-picker-role="selectEnd"]').children("input"),s=r.data("DateTimePicker").date()?r.data("DateTimePicker").date()._d:"",l=e.$rootElement.find('div[bh-time-picker-role="rangeBoxSelectTime"]'),d=e.popupBoxDom.find('div[bh-time-picker-role="selectCustom"] div[bh-time-picker-role="selectType"]'),c=d.jqxDropDownList("getSelectedItem");if(!(t&&a||(null===t?(o.attr("disabled",!0),o.data("DateTimePicker").disable()):(o.removeAttr("disabled"),o.data("DateTimePicker").enable()),null===a?(r.attr("disabled",!0),r.data("DateTimePicker").disable()):(r.removeAttr("disabled"),r.data("DateTimePicker").enable()),t||a||"all"!==c.value)))return void l.html(c.label);o.attr("disabled")&&(o.removeAttr("disabled"),o.data("DateTimePicker").enable()),r.attr("disabled")&&(r.removeAttr("disabled"),r.data("DateTimePicker").enable()),"startEmpty"===c.value||"endEmpty"===c.value?"startEmpty"===c.value?(t="",o.attr("disabled",!0),o.data("DateTimePicker").disable()):"endEmpty"===c.value&&(a="",r.attr("disabled",!0),r.data("DateTimePicker").disable()):(a=a||new Date,t=t||new Date),e.settings.time.start=t,e.settings.time.end=a,"startEmpty"===c.value||"endEmpty"===c.value?(r.data("DateTimePicker").date(a),o.data("DateTimePicker").date(t)):t>s?(r.data("DateTimePicker").date(a),o.data("DateTimePicker").date(t)):(o.data("DateTimePicker").date(t),r.data("DateTimePicker").date(a));var h=o.data("DateTimePicker").date()?o.data("DateTimePicker").date()._d:"",u=r.data("DateTimePicker").date()?r.data("DateTimePicker").date()._d:"",p=e.getValue(),f=p.startTime,b=p.endTime;if(S(e,h,u),n){var g=i.find('div[bh-time-picker-role="selectType"]').jqxDropDownList("getSelectedItem").value;e.$rootElement.trigger("selectedTime",[f,b,g]),void 0!==e.settings.selectedTime&&e.settings.selectedTime instanceof Function&&e.settings.selectedTime(f,b,g)}}function m(e){var t=new Date(e),a={};return a.year=t.getFullYear(),a.month=t.getMonth(),a.day=t.getDate(),a.hour=t.getHours(),a.minute=t.getMinutes(),a.second=t.getSeconds(),a.week=t.getDay(),a.time=t.getTime(),a}function y(e){return 0==e%4&&(e%100!=0||e%400==0)}function k(e){var t=e.month,a=e.year,n=t-1;0===t&&(a-=1,n=11);var i=w(a,n+1),o=new Date(C({year:a,month:n+1,day:1})),r=C({year:a,month:n+1,day:i});return{startTime:o,endTime:new Date(new Date(r).getTime()+864e5-1)}}function C(e){return e.year+"/"+e.month+"/"+e.day}function w(e,t){return 1===t||3===t||5===t||7===t||8===t||10===t||12===t?31:4===t||6===t||9===t||11===t?30:y(e)?29:28}function x(e){var t=N(e.month),a=new Date(C({year:e.year,month:t.startMonth+1,day:1})),n=w(e.year,t.endMonth+1),i=C({year:e.year,
month:t.endMonth+1,day:n});return{startTime:a,endTime:new Date(new Date(i).getTime()+864e5-1)}}function T(e){var t=N(e.month).startMonth,a=t-1,n=e.year;0===t&&(a=11,n-=1);var i=N(a),o=w(n,i.endMonth+1),r=new Date(C({year:n,month:i.startMonth+1,day:1})),s=C({year:n,month:i.endMonth+1,day:o});return{startTime:r,endTime:new Date(new Date(s).getTime()+864e5-1)}}function N(e){var t=0,a=2;return e>=9?(t=9,a=11):e>=6?(t=6,a=8):e>=3&&(t=3,a=5),{startMonth:t,endMonth:a}}function D(t,a,n){var i=t.find('[bh-time-picker-role="selectMonthPre"]').removeClass("bh-disabled"),r=t.find('[bh-time-picker-role="selectMonthNext"]').removeClass("bh-disabled"),s=t.find('div[bh-time-picker-role="selectMonthYear"]'),l=parseInt(s.text(),10),d=0;n.settings.range.max&&(d="today"===n.settings.range.max?(new Date).getFullYear():new Date(n.settings.range.max).getFullYear());var c=0;n.settings.range.min&&(c="today"===n.settings.range.min?(new Date).getFullYear():new Date(n.settings.range.min).getFullYear()),"pre"===a?l--:l++,s.html(l+e.i18n("bha-ticker2-year"));var h=o(n,R(l+"/12/1"),a);t.find('div[bh-time-picker-role="selectMonthList"]').html(h),"pre"===a?l===c&&i.addClass("bh-disabled"):l===d&&r.addClass("bh-disabled")}function I(e,t){if(e.hasClass("bh-pre")){var a=e.closest('div[bh-time-picker-role="selectMonthBlock"]'),n=parseInt(a.find('div[bh-time-picker-role="selectMonthYear"]').text(),10),i=parseInt(e.attr("data-month"),10),o=w(n,i);t.$rootElement.removeData("selectType"),t.rangeBoxDom.find('div[bh-time-picker-role="rangeBoxSelectTime"]').click(),t.$rootElement.data("selectType","custom"),v(t,new Date(n+"/"+i+"/1"),new Date(n+"/"+i+"/"+o),!0)}}function S(e,t,a){var n=e.$rootElement.find('div[bh-time-picker-role="rangeBoxSelectTime"]'),i=e.popupBoxDom.find('div[bh-time-picker-role="selectCustom"] div[bh-time-picker-role="selectType"]'),o=i.jqxDropDownList("getSelectedItem");if("all"===o.value)return void n.html(o.label);var r="startEmpty"!==o.value?P(t,e):"",s="endEmpty"!==o.value?P(a,e):"";n.html(r+"-"+s)}function P(t,a){return t?/dd/i.test(a.settings.format)?t.getFullYear()+e.i18n("bha-ticker2-Y")+E(t.getMonth()+1)+e.i18n("bha-ticker2-M")+t.getDate()+e.i18n("bha-ticker2-D"):t.getFullYear()+e.i18n("bha-ticker2-year")+E(t.getMonth()+1)+e.i18n("bha-ticker2-month"):""}function E(e){return e<10?"0"+e:e}function B(e,t){var a=e.$rootElement.data("selectType");"custom"!==a&&void 0!==a||t.find('div[bh-time-picker-role="selectType"]').jqxDropDownList("selectIndex",0)}function A(t,a,n){e("body").data("bhTimePick","selectTime");var i=t.children('div[bh-time-picker-role="selectStart"]').children("input"),o=t.children('div[bh-time-picker-role="selectEnd"]').children("input"),r=i.data("DateTimePicker").date()?i.data("DateTimePicker").date()._d:"",s=o.data("DateTimePicker").date()?o.data("DateTimePicker").date()._d:"";if(r>s)if("end"===a)s&&o.data("DateTimePicker").date(r);else{var l=m(s);i.data("DateTimePicker").date(new Date(l.year,l.month,l.day))}else if("start"===a){if(n.settings.range.min){var d;d="today"!==n.settings.range.min?new Date(n.settings.range.min):new Date,r<d&&i.data("DateTimePicker").date(d)}}else if(n.settings.range.max){var c;c="today"!==n.settings.range.max?new Date(n.settings.range.max):new Date,s>c&&o.data("DateTimePicker").date(c)}}function L(e,t){var a=t.popupBoxDom.find('div[bh-time-picker-role="selectBox"]'),n=t.$rootElement.find('div[bh-time-picker-role="rangeBox"]');n.hasClass("bh-active")&&n.find('div[bh-time-picker-role="rangeBoxSelectTime"]').click();var i;i="pre"===e?a.find('div[bh-time-picker-role="selectStart"]').children("input").data("DateTimePicker").date()._d:a.find('div[bh-time-picker-role="selectEnd"]').children("input").data("DateTimePicker").date()._d;var o,r=m(i);if("pre"===e){if(0===r.month?(r.month=11,r.year=r.year-1):r.month=r.month-1,t.settings.range.min){var s="today"===t.settings.range.min?new Date:R(t.settings.range.min);o=m(s),s>new Date(i.getTime()-2592e6)&&(r=o)}}else if(11===r.month?(r.month=0,r.year=r.year+1):r.month=r.month+1,t.settings.range.max){var l="today"===t.settings.range.max?new Date:R(t.settings.range.max);o=m(l),l<new Date(i.getTime()+2592e6)&&(r=o)}var d={},c={};o&&r.year===o.year?r.month!==o.month?(d={year:r.year,month:r.month,day:1},c={year:r.year,month:r.month,day:w(r.year,r.month+1)}):"pre"===e?(d={year:r.year,month:r.month,day:o.day},c={year:r.year,month:r.month,day:w(r.year,r.month+1)}):(d={year:r.year,month:r.month,day:1},c={year:r.year,month:r.month,day:o.day}):(d={year:r.year,month:r.month,day:1},c={year:r.year,month:r.month,day:w(r.year,r.month+1)});var h=r.month+1<10?"0"+parseInt(r.month+1,10):r.month+1,u=d.year+"/"+h+"/"+E(d.day),p=c.year+"/"+h+"/"+c.day;v(t,R(u),R(p),!0)}function R(e){if("string"==typeof e){var t=Date.parse(e),a=new Date(t);if(isNaN(a)){var n=e.split("-");a=new Date(n[0],--n[1],n[2])}return a}return e}var $;$=function(){function a(a,n){var i={defaultType:"custom",width:"",isFixTime:!1,format:"YYYY-MM-DD",range:{max:"",min:""},time:{start:"",end:""},isDisable:!1,selectedTime:null,ready:null};this.settings=e.extend({},i,n),this.settings.format&&(this.settings.format=this.settings.format.replace("yyyy","YYYY"),this.settings.format=this.settings.format.replace("-dd","-DD")),this.$rootElement=e(a),t(this)}return a.prototype.getValue=function(){var e=null,t=null,a=this.startTimeDom.children("input"),n=this.endTimeDom.children("input");a.attr("disabled")||(e=a.data("DateTimePicker").date()?a.data("DateTimePicker").date()._d:""),n.attr("disabled")||(t=n.data("DateTimePicker").date()?n.data("DateTimePicker").date()._d:"");var i=this.popupBoxDom.find('div[bh-time-picker-role="selectType"]').jqxDropDownList("getSelectedItem"),o=i.value;return 10===this.settings.format.length&&this.settings.isFixTime?{startTime:e?moment(e).format(this.settings.format)+" 00:00:00":"",endTime:t?moment(t).format(this.settings.format)+" 23:59:59":"",type:o}:{startTime:e?moment(e).format(this.settings.format):"",endTime:t?moment(t).format(this.settings.format):"",type:o}},a.prototype.setValue=function(e){v(this,e.startTime?R(e.startTime):this.startTimeDom.children("input").data("DateTimePicker").date()._d,e.endTime?R(e.endTime):this.endTimeDom.children("input").data("DateTimePicker").date()._d),B(this,this.popupBoxDom.find('div[bh-time-picker-role="selectCustom"]'))},a.prototype.setDisable=function(){this.$rootElement.children('div[bh-time-picker-role="rangeBox"]').append('<div class="bh-timePick-disable" bh-time-picker-role="disableBlock"></div>')},a.prototype.setEnable=function(){this.$rootElement.find('div[bh-time-picker-role="disableBlock"]').remove()},a.prototype.setType=function(e){this.popupBoxDom.find('div[bh-time-picker-role="selectType"]').jqxDropDownList("selectItem",e)},a.prototype.remove=function(){this.$selectType.jqxDropDownList("destroy"),this.popupBoxDom.remove(),this.$rootElement.remove()},a}(),e.fn.bhTimePicker=function(t,a){var n;return n=this.data("bhTimePicker"),n?!0===t?n:"string"===e.type(t)?n[t](a):this:this.each(function(){return e(this).data("bhTimePicker",new $(this,t))})}}(jQuery),function(e){function t(e){return{getAllData:function(){return this.transformToArray(this.getNodes())},destroyTree:function(){this.destroy(),e.removeData("bhTree")}}}var a=function(a,n){var i=n.setting,o=n.zNodes,r={},s=e(a);return s.addClass("ztree"),r=o?e.fn.zTree.init(s,i,o):e.fn.zTree.init(s,i),e.extend(r,t(s))};e.fn.bhTree=function(t){var n,i=arguments;if(!(n=this.data("bhTree")))return this.each(function(){return e(this).data("bhTree",a(this,t))});if(!0===t)return n;if("string"===e.type(t)){var o=n[t];if(o){var r=e(i).toArray();return r.shift(),o.apply(n,r)}console&&console.log("方法不存在")}return this}}(jQuery),function($){var settings={},roots={},caches={},_consts={className:{BUTTON:"button",LEVEL:"level",ICO_LOADING:"ico_loading",SWITCH:"switch",NAME:"node_name"},event:{NODECREATED:"ztree_nodeCreated",CLICK:"ztree_click",EXPAND:"ztree_expand",COLLAPSE:"ztree_collapse",ASYNC_SUCCESS:"ztree_async_success",ASYNC_ERROR:"ztree_async_error",REMOVE:"ztree_remove",SELECTED:"ztree_selected",UNSELECTED:"ztree_unselected"},id:{A:"_a",ICON:"_ico",SPAN:"_span",SWITCH:"_switch",UL:"_ul"},line:{ROOT:"root",ROOTS:"roots",CENTER:"center",BOTTOM:"bottom",NOLINE:"noline",LINE:"line"},folder:{OPEN:"open",CLOSE:"close",DOCU:"docu"},node:{CURSELECTED:"curSelectedNode"}},_setting={treeId:"",treeObj:null,view:{addDiyDom:null,nodeRendering:null,autoCancelSelected:!0,dblClickExpand:!0,expandSpeed:"fast",fontCss:{},nameIsHTML:!1,selectedMulti:!0,showIcon:!0,showLine:!0,showTitle:!0,txtSelectedEnable:!1,isHoverLine:!0},data:{key:{children:"children",name:"name",title:"",url:"url",icon:"icon"},simpleData:{enable:!1,idKey:"id",pIdKey:"pId",rootPId:null},keep:{parent:!1,leaf:!1}},async:{enable:!1,contentType:"application/x-www-form-urlencoded",type:"post",dataType:"text",url:"",autoParam:[],otherParam:[],dataFilter:null},callback:{beforeAsync:null,beforeClick:null,beforeDblClick:null,beforeRightClick:null,beforeMouseDown:null,beforeMouseUp:null,beforeExpand:null,beforeCollapse:null,beforeRemove:null,onAsyncError:null,onAsyncSuccess:null,onNodeCreated:null,onClick:null,onDblClick:null,onRightClick:null,onMouseDown:null,onMouseUp:null,onExpand:null,onCollapse:null,onRemove:null}},_initRoot=function(e){var t=data.getRoot(e);t||(t={},data.setRoot(e,t)),t[e.data.key.children]=[],t.expandTriggerFlag=!1,t.curSelectedList=[],t.noSelection=!0,t.createdNodes=[],t.zId=0,t._ver=(new Date).getTime()},_initCache=function(e){var t=data.getCache(e);t||(t={},data.setCache(e,t)),t.nodes=[],t.doms=[]},_bindEvent=function(e){var t=e.treeObj,a=consts.event;t.bind(a.NODECREATED,function(t,a,n){tools.apply(e.callback.onNodeCreated,[t,a,n])}),t.bind(a.CLICK,function(t,a,n,i,o){tools.apply(e.callback.onClick,[a,n,i,o])}),t.bind(a.EXPAND,function(t,a,n){tools.apply(e.callback.onExpand,[t,a,n])}),t.bind(a.COLLAPSE,function(t,a,n){tools.apply(e.callback.onCollapse,[t,a,n])}),t.bind(a.ASYNC_SUCCESS,function(t,a,n,i){tools.apply(e.callback.onAsyncSuccess,[t,a,n,i])}),t.bind(a.ASYNC_ERROR,function(t,a,n,i,o,r){tools.apply(e.callback.onAsyncError,[t,a,n,i,o,r])}),t.bind(a.REMOVE,function(t,a,n){tools.apply(e.callback.onRemove,[t,a,n])}),t.bind(a.SELECTED,function(t,a,n){tools.apply(e.callback.onSelected,[a,n])}),t.bind(a.UNSELECTED,function(t,a,n){tools.apply(e.callback.onUnSelected,[a,n])})},_unbindEvent=function(e){var t=e.treeObj,a=consts.event;t.unbind(a.NODECREATED).unbind(a.CLICK).unbind(a.EXPAND).unbind(a.COLLAPSE).unbind(a.ASYNC_SUCCESS).unbind(a.ASYNC_ERROR).unbind(a.REMOVE).unbind(a.SELECTED).unbind(a.UNSELECTED)},_eventProxy=function(e){var t=e.target,a=data.getSetting(e.data.treeId),n="",i=null,o="",r="",s=null,l=null,d=null;if(tools.eqs(e.type,"mousedown")?r="mousedown":tools.eqs(e.type,"mouseup")?r="mouseup":tools.eqs(e.type,"contextmenu")?r="contextmenu":tools.eqs(e.type,"click")?tools.eqs(t.tagName,"span")&&null!==t.getAttribute("treeNode"+consts.id.SWITCH)?(n=tools.getNodeMainDom(t).id,o="switchNode"):(t.className.indexOf("hover-line")>-1&&(t=t.querySelector("a")),(d=tools.getMDom(a,t,[{tagName:"a",attrName:"treeNode"+consts.id.A}]))&&(n=tools.getNodeMainDom(d).id,o="clickNode")):tools.eqs(e.type,"dblclick")&&(r="dblclick",(d=tools.getMDom(a,t,[{tagName:"a",attrName:"treeNode"+consts.id.A}]))&&(n=tools.getNodeMainDom(d).id,o="switchNode")),r.length>0&&0==n.length&&(d=tools.getMDom(a,t,[{tagName:"a",attrName:"treeNode"+consts.id.A}]))&&(n=tools.getNodeMainDom(d).id),n.length>0)switch(i=data.getNodeCache(a,n),o){case"switchNode":i.isParent&&(tools.eqs(e.type,"click")||tools.eqs(e.type,"dblclick")&&tools.apply(a.view.dblClickExpand,[a.treeId,i],a.view.dblClickExpand))?s=handler.onSwitchNode:o="";break;case"clickNode":s=handler.onClickNode}switch(r){case"mousedown":l=handler.onZTreeMousedown;break;case"mouseup":l=handler.onZTreeMouseup;break;case"dblclick":l=handler.onZTreeDblclick;break;case"contextmenu":l=handler.onZTreeContextmenu}return{stop:!1,node:i,nodeEventType:o,nodeEventCallback:s,treeEventType:r,treeEventCallback:l}},_initNode=function(e,t,a,n,i,o,r){if(a){var s=data.getRoot(e),l=e.data.key.children;a.level=t,a.tId=e.treeId+"_"+ ++s.zId,a.parentTId=n?n.tId:null,a.open="string"==typeof a.open?tools.eqs(a.open,"true"):!!a.open,a[l]&&a[l].length>0?(a.isParent=!0,a.zAsync=!0):(a.isParent="string"==typeof a.isParent?tools.eqs(a.isParent,"true"):!!a.isParent,a.open=!(!a.isParent||e.async.enable)&&a.open,a.zAsync=!a.isParent),a.isFirstNode=i,a.isLastNode=o,a.getParentNode=function(){return data.getNodeCache(e,a.parentTId)},a.getPreNode=function(){return data.getPreNode(e,a)},a.getNextNode=function(){return data.getNextNode(e,a)},a.getIndex=function(){return data.getNodeIndex(e,a)},a.getPath=function(){return data.getNodePath(e,a)},a.isAjaxing=!1,data.fixPIdKeyValue(e,a)}},_init={bind:[_bindEvent],unbind:[_unbindEvent],caches:[_initCache],nodes:[_initNode],proxys:[_eventProxy],roots:[_initRoot],beforeA:[],afterA:[],innerBeforeA:[],innerAfterA:[],zTreeTools:[]},data={addNodeCache:function(e,t){data.getCache(e).nodes[data.getNodeCacheId(t.tId)]=t},getNodeCacheId:function(e){return e.substring(e.lastIndexOf("_")+1)},addAfterA:function(e){_init.afterA.push(e)},addBeforeA:function(e){_init.beforeA.push(e)},addInnerAfterA:function(e){_init.innerAfterA.push(e)},addInnerBeforeA:function(e){_init.innerBeforeA.push(e)},addInitBind:function(e){_init.bind.push(e)},addInitUnBind:function(e){_init.unbind.push(e)},addInitCache:function(e){_init.caches.push(e)},addInitNode:function(e){_init.nodes.push(e)},addInitProxy:function(e,t){t?_init.proxys.splice(0,0,e):_init.proxys.push(e)},addInitRoot:function(e){_init.roots.push(e)},addNodesData:function(e,t,a,n){var i,o=e.data.key.children;t[o]?a>=t[o].length&&(a=-1):(t[o]=[],a=-1),t[o].length>0&&0===a?(t[o][0].isFirstNode=!1,view.setNodeLineIcos(e,t[o][0])):t[o].length>0&&a<0&&(t[o][t[o].length-1].isLastNode=!1,view.setNodeLineIcos(e,t[o][t[o].length-1])),t.isParent=!0,a<0?t[o]=t[o].concat(n):(i=[a,0].concat(n),t[o].splice.apply(t[o],i))},addSelectedNode:function(e,t){var a=data.getRoot(e);data.isSelectedNode(e,t)||a.curSelectedList.push(t)},addCreatedNode:function(e,t){if(e.callback.onNodeCreated||e.view.addDiyDom){data.getRoot(e).createdNodes.push(t)}},addZTreeTools:function(e){_init.zTreeTools.push(e)},exSetting:function(e){$.extend(!0,_setting,e)},fixPIdKeyValue:function(e,t){e.data.simpleData.enable&&(t[e.data.simpleData.pIdKey]=t.parentTId?t.getParentNode()[e.data.simpleData.idKey]:e.data.simpleData.rootPId)},getAfterA:function(e,t,a){for(var n=0,i=_init.afterA.length;n<i;n++)_init.afterA[n].apply(this,arguments)},getBeforeA:function(e,t,a){for(var n=0,i=_init.beforeA.length;n<i;n++)_init.beforeA[n].apply(this,arguments)},getInnerAfterA:function(e,t,a){for(var n=0,i=_init.innerAfterA.length;n<i;n++)_init.innerAfterA[n].apply(this,arguments)},getInnerBeforeA:function(e,t,a){for(var n=0,i=_init.innerBeforeA.length;n<i;n++)_init.innerBeforeA[n].apply(this,arguments)},getCache:function(e){return caches[e.treeId]},getNodeIndex:function(e,t){if(!t)return null;for(var a=e.data.key.children,n=t.parentTId?t.getParentNode():data.getRoot(e),i=0,o=n[a].length-1;i<=o;i++)if(n[a][i]===t)return i;return-1},getNextNode:function(e,t){if(!t)return null;for(var a=e.data.key.children,n=t.parentTId?t.getParentNode():data.getRoot(e),i=0,o=n[a].length-1;i<=o;i++)if(n[a][i]===t)return i==o?null:n[a][i+1];return null},getNodeByParam:function(e,t,a,n){if(!t||!a)return null;for(var i=e.data.key.children,o=0,r=t.length;o<r;o++){if(t[o][a]==n)return t[o];var s=data.getNodeByParam(e,t[o][i],a,n);if(s)return s}return null},getNodeCache:function(e,t){if(!t)return null;var a=caches[e.treeId].nodes[data.getNodeCacheId(t)];return a||null},getNodeName:function(e,t){return""+t[e.data.key.name]},getNodePath:function(e,t){if(!t)return null;var a;return a=t.parentTId?t.getParentNode().getPath():[],a&&a.push(t),a},getNodeTitle:function(e,t){return""+t[""===e.data.key.title?e.data.key.name:e.data.key.title]},getNodes:function(e){return data.getRoot(e)[e.data.key.children]},getNodesByParam:function(e,t,a,n){if(!t||!a)return[];for(var i=e.data.key.children,o=[],r=0,s=t.length;r<s;r++)t[r][a]==n&&o.push(t[r]),o=o.concat(data.getNodesByParam(e,t[r][i],a,n));return o},getNodesByParamFuzzy:function(e,t,a,n){if(!t||!a)return[];var i=e.data.key.children,o=[];n=n.toLowerCase();for(var r=0,s=t.length;r<s;r++)"string"==typeof t[r][a]&&t[r][a].toLowerCase().indexOf(n)>-1&&o.push(t[r]),o=o.concat(data.getNodesByParamFuzzy(e,t[r][i],a,n));return o},getNodesByFilter:function(e,t,a,n,i){if(!t)return n?null:[];for(var o=e.data.key.children,r=n?null:[],s=0,l=t.length;s<l;s++){if(tools.apply(a,[t[s],i],!1)){if(n)return t[s];r.push(t[s])}var d=data.getNodesByFilter(e,t[s][o],a,n,i);if(n&&d)return d;r=n?d:r.concat(d)}return r},getPreNode:function(e,t){if(!t)return null;for(var a=e.data.key.children,n=t.parentTId?t.getParentNode():data.getRoot(e),i=0,o=n[a].length;i<o;i++)if(n[a][i]===t)return 0==i?null:n[a][i-1];return null},getRoot:function(e){return e?roots[e.treeId]:null},getRoots:function(){return roots},getSetting:function(e){return settings[e]},getSettings:function(){return settings},getZTreeTools:function(e){var t=this.getRoot(this.getSetting(e));return t?t.treeTools:null},initCache:function(e){for(var t=0,a=_init.caches.length;t<a;t++)_init.caches[t].apply(this,arguments)},initNode:function(e,t,a,n,i,o){for(var r=0,s=_init.nodes.length;r<s;r++)_init.nodes[r].apply(this,arguments)},initRoot:function(e){for(var t=0,a=_init.roots.length;t<a;t++)_init.roots[t].apply(this,arguments)},isSelectedNode:function(e,t){for(var a=data.getRoot(e),n=0,i=a.curSelectedList.length;n<i;n++)if(t===a.curSelectedList[n])return!0;return!1},removeNodeCache:function(e,t){var a=e.data.key.children;if(t[a])for(var n=0,i=t[a].length;n<i;n++)data.removeNodeCache(e,t[a][n]);data.getCache(e).nodes[data.getNodeCacheId(t.tId)]=null},removeSelectedNode:function(e,t){for(var a=data.getRoot(e),n=0,i=a.curSelectedList.length;n<i;n++)t!==a.curSelectedList[n]&&data.getNodeCache(e,a.curSelectedList[n].tId)||(a.curSelectedList.splice(n,1),e.treeObj.trigger(consts.event.UNSELECTED,[e.treeId,t]),n--,i--)},setCache:function(e,t){caches[e.treeId]=t},setRoot:function(e,t){roots[e.treeId]=t},setZTreeTools:function(e,t){for(var a=0,n=_init.zTreeTools.length;a<n;a++)_init.zTreeTools[a].apply(this,arguments)},transformToArrayFormat:function(e,t){if(!t)return[];var a=e.data.key.children,n=[];if(tools.isArray(t))for(var i=0,o=t.length;i<o;i++)n.push(t[i]),t[i][a]&&(n=n.concat(data.transformToArrayFormat(e,t[i][a])));else n.push(t),t[a]&&(n=n.concat(data.transformToArrayFormat(e,t[a])));return n},transformTozTreeFormat:function(e,t){var a,n,i=e.data.simpleData.idKey,o=e.data.simpleData.pIdKey,r=e.data.key.children;if(!i||""==i||!t)return[];if(tools.isArray(t)){var s=[],l={};for(a=0,n=t.length;a<n;a++)l[t[a][i]]=t[a];for(a=0,n=t.length;a<n;a++)l[t[a][o]]&&t[a][i]!=t[a][o]?(l[t[a][o]][r]||(l[t[a][o]][r]=[]),l[t[a][o]][r].push(t[a])):s.push(t[a]);return s}return[t]}},event={bindEvent:function(e){for(var t=0,a=_init.bind.length;t<a;t++)_init.bind[t].apply(this,arguments)},unbindEvent:function(e){for(var t=0,a=_init.unbind.length;t<a;t++)_init.unbind[t].apply(this,arguments)},bindTree:function(e){var t={treeId:e.treeId},a=e.treeObj;e.view.txtSelectedEnable||a.bind("selectstart",handler.onSelectStart).css({"-moz-user-select":"-moz-none"}),a.bind("click",t,event.proxy),a.bind("dblclick",t,event.proxy),a.bind("mouseover",t,event.proxy),a.bind("mouseout",t,event.proxy),a.bind("mousedown",t,event.proxy),a.bind("mouseup",t,event.proxy),a.bind("contextmenu",t,event.proxy)},unbindTree:function(e){e.treeObj.unbind("selectstart",handler.onSelectStart).unbind("click",event.proxy).unbind("dblclick",event.proxy).unbind("mouseover",event.proxy).unbind("mouseout",event.proxy).unbind("mousedown",event.proxy).unbind("mouseup",event.proxy).unbind("contextmenu",event.proxy)},doProxy:function(e){for(var t=[],a=0,n=_init.proxys.length;a<n;a++){var i=_init.proxys[a].apply(this,arguments);if(t.push(i),i.stop)break}return t},proxy:function(e){var t=data.getSetting(e.data.treeId);if(!tools.uCanDo(t,e))return!0;for(var a=event.doProxy(e),n=!0,i=0,o=a.length;i<o;i++){var r=a[i];r.nodeEventCallback&&(!0,n=r.nodeEventCallback.apply(r,[e,r.node])&&n),r.treeEventCallback&&(!0,n=r.treeEventCallback.apply(r,[e,r.node])&&n)}return n}},handler={onSwitchNode:function(e,t){var a=data.getSetting(e.data.treeId);if(t.open){if(0==tools.apply(a.callback.beforeCollapse,[a.treeId,t],!0))return!0;data.getRoot(a).expandTriggerFlag=!0,view.switchNode(a,t)}else{if(0==tools.apply(a.callback.beforeExpand,[a.treeId,t],!0))return!0;data.getRoot(a).expandTriggerFlag=!0,view.switchNode(a,t)}return!0},onClickNode:function(e,t){var a=data.getSetting(e.data.treeId),n=a.view.autoCancelSelected&&(e.ctrlKey||e.metaKey)&&data.isSelectedNode(a,t)?0:a.view.autoCancelSelected&&(e.ctrlKey||e.metaKey)&&a.view.selectedMulti?2:1;return 0==tools.apply(a.callback.beforeClick,[a.treeId,t,n],!0)||(0===n?view.cancelPreSelectedNode(a,t):view.selectNode(a,t,2===n),a.treeObj.trigger(consts.event.CLICK,[e,a.treeId,t,n]),!0)},onZTreeMousedown:function(e,t){var a=data.getSetting(e.data.treeId);return tools.apply(a.callback.beforeMouseDown,[a.treeId,t],!0)&&tools.apply(a.callback.onMouseDown,[e,a.treeId,t]),!0},onZTreeMouseup:function(e,t){var a=data.getSetting(e.data.treeId);return tools.apply(a.callback.beforeMouseUp,[a.treeId,t],!0)&&tools.apply(a.callback.onMouseUp,[e,a.treeId,t]),!0},onZTreeDblclick:function(e,t){var a=data.getSetting(e.data.treeId);return tools.apply(a.callback.beforeDblClick,[a.treeId,t],!0)&&tools.apply(a.callback.onDblClick,[e,a.treeId,t]),!0},onZTreeContextmenu:function(e,t){var a=data.getSetting(e.data.treeId);return tools.apply(a.callback.beforeRightClick,[a.treeId,t],!0)&&tools.apply(a.callback.onRightClick,[e,a.treeId,t]),"function"!=typeof a.callback.onRightClick},onSelectStart:function(e){var t=e.originalEvent.srcElement.nodeName.toLowerCase();return"input"===t||"textarea"===t}},tools={apply:function(e,t,a){return"function"==typeof e?e.apply(zt,t||[]):a},canAsync:function(e,t){var a=e.data.key.children;return e.async.enable&&t&&t.isParent&&!(t.zAsync||t[a]&&t[a].length>0)},clone:function(e){if(null===e)return null;var t=tools.isArray(e)?[]:{};for(var a in e)t[a]=e[a]instanceof Date?new Date(e[a].getTime()):"object"==typeof e[a]?tools.clone(e[a]):e[a];return t},eqs:function(e,t){return e.toLowerCase()===t.toLowerCase()},isArray:function(e){return"[object Array]"===Object.prototype.toString.apply(e)},$:function(e,t,a){return t&&"string"!=typeof t&&(a=t,t=""),"string"==typeof e?$(e,a?a.treeObj.get(0).ownerDocument:null):$("#"+e.tId+t,a?a.treeObj:null)},getMDom:function(e,t,a){if(!t)return null;for(;t&&t.id!==e.treeId;){for(var n=0,i=a.length;t.tagName&&n<i;n++)if(tools.eqs(t.tagName,a[n].tagName)&&null!==t.getAttribute(a[n].attrName))return t;t=t.parentNode}return null},getNodeMainDom:function(e){return $(e).parent("li").get(0)||$(e).parentsUntil("li").parent().get(0)},isChildOrSelf:function(e,t){return $(e).closest("#"+t).length>0},uCanDo:function(e,t){return!0}},view={addNodes:function(e,t,a,n,i){if(!e.data.keep.leaf||!t||t.isParent)if(tools.isArray(n)||(n=[n]),e.data.simpleData.enable&&(n=data.transformTozTreeFormat(e,n)),t){var o=$$(t,consts.id.SWITCH,e),r=$$(t,consts.id.ICON,e),s=$$(t,consts.id.UL,e);t.open||(view.replaceSwitchClass(t,o,consts.folder.CLOSE),view.replaceIcoClass(t,r,consts.folder.CLOSE),t.open=!1,s.css({display:"none"})),data.addNodesData(e,t,a,n),view.createNodes(e,t.level+1,n,t,a),i||view.expandCollapseParentNode(e,t,!0)}else data.addNodesData(e,data.getRoot(e),a,n),view.createNodes(e,0,n,null,a)},appendNodes:function(e,t,a,n,i,o,r){if(!a)return[];var s,l,d=[],c=e.data.key.children,h=n||data.getRoot(e),u=h[c];(!u||i>=u.length)&&(i=-1);for(var p=0,f=a.length;p<f;p++){var b=a[p];o&&(s=(0===i||u.length==a.length)&&0==p,l=i<0&&p==a.length-1,data.initNode(e,t,b,n,s,l,r),data.addNodeCache(e,b));var g=[];b[c]&&b[c].length>0&&(g=view.appendNodes(e,t+1,b[c],b,-1,o,r&&b.open)),r&&(view.makeDOMNodeMainBefore(d,e,b),e.view.isHoverLine&&d.push('<div class="hover-line">'),view.makeDOMNodeLine(d,e,b),data.getBeforeA(e,b,d),view.makeDOMNodeNameBefore(d,e,b),data.getInnerBeforeA(e,b,d),view.makeDOMNodeIcon(d,e,b),data.getInnerAfterA(e,b,d),view.makeDOMNodeNameAfter(d,e,b),data.getAfterA(e,b,d),e.view.nodeRendering&&e.view.nodeRendering(d,b,e),e.view.isHoverLine&&d.push("</div>"),b.isParent&&b.open&&view.makeUlHtml(e,b,d,g.join("")),view.makeDOMNodeMainAfter(d,e,b),data.addCreatedNode(e,b))}return d},appendParentULDom:function(e,t){var a=[],n=$$(t,e);!n.get(0)&&t.parentTId&&(view.appendParentULDom(e,t.getParentNode()),n=$$(t,e));var i=$$(t,consts.id.UL,e);i.get(0)&&i.remove();var o=e.data.key.children,r=view.appendNodes(e,t.level+1,t[o],t,-1,!1,!0);view.makeUlHtml(e,t,a,r.join("")),n.append(a.join(""))},asyncNode:function(setting,node,isSilent,callback){var i,l;if(node&&!node.isParent)return tools.apply(callback),!1;if(node&&node.isAjaxing)return!1;if(0==tools.apply(setting.callback.beforeAsync,[setting.treeId,node],!0))return tools.apply(callback),!1;if(node){node.isAjaxing=!0;var icoObj=$$(node,consts.id.ICON,setting);icoObj.attr({style:"",class:consts.className.BUTTON+" "+consts.className.ICO_LOADING})}var tmpParam={};if(tools.isArray(setting.async.otherParam))for(i=0,l=setting.async.otherParam.length;i<l;i+=2)tmpParam[setting.async.otherParam[i]]=setting.async.otherParam[i+1];else for(var p in setting.async.otherParam)tmpParam[p]=setting.async.otherParam[p];for(i=0,l=setting.async.autoParam.length;node&&i<l;i++){var pKey=setting.async.autoParam[i].split("="),spKey=pKey;pKey.length>1&&(spKey=pKey[1],pKey=pKey[0]),tmpParam[spKey]=node[pKey]}var _tmpV=data.getRoot(setting)._ver;return $.ajax({contentType:setting.async.contentType,cache:!1,type:setting.async.type,url:tools.apply(setting.async.url,[setting.treeId,node],setting.async.url),data:setting.async.contentType.indexOf("application/json")>-1?JSON.stringify(tmpParam):tmpParam,dataType:setting.async.dataType,success:function(msg){if(_tmpV==data.getRoot(setting)._ver){var newNodes=[];try{newNodes=msg&&0!=msg.length?"string"==typeof msg?eval("("+msg+")"):msg:[]}catch(e){newNodes=msg}node&&(node.isAjaxing=null,node.zAsync=!0),view.setNodeLineIcos(setting,node),newNodes&&""!==newNodes?(newNodes=tools.apply(setting.async.dataFilter,[setting.treeId,node,newNodes],newNodes),view.addNodes(setting,node,-1,newNodes?tools.clone(newNodes):[],!!isSilent)):view.addNodes(setting,node,-1,[],!!isSilent),node||$(setting.treeObj).data("localdata",newNodes),setting.treeObj.trigger(consts.event.ASYNC_SUCCESS,[setting.treeId,node,msg]),tools.apply(callback)}},error:function(e,t,a){_tmpV==data.getRoot(setting)._ver&&(node&&(node.isAjaxing=null),view.setNodeLineIcos(setting,node),setting.treeObj.trigger(consts.event.ASYNC_ERROR,[setting.treeId,node,e,t,a]))}}),!0},cancelPreSelectedNode:function(e,t,a){var n,i,o=data.getRoot(e).curSelectedList;for(n=o.length-1;n>=0;n--)if(i=o[n],t===i||!t&&(!a||a!==i)){var r=$$(i,consts.id.A,e);if(e.view.isHoverLine&&r.parent().removeClass(consts.node.CURSELECTED),r.removeClass(consts.node.CURSELECTED),t){data.removeSelectedNode(e,t);break}o.splice(n,1),e.treeObj.trigger(consts.event.UNSELECTED,[e.treeId,i])}},createNodeCallback:function(e){if(e.callback.onNodeCreated||e.view.addDiyDom)for(var t=data.getRoot(e);t.createdNodes.length>0;){var a=t.createdNodes.shift();tools.apply(e.view.addDiyDom,[e.treeId,a]),e.callback.onNodeCreated&&e.treeObj.trigger(consts.event.NODECREATED,[e.treeId,a])}},createNodes:function(e,t,a,n,i){if(a&&0!=a.length){var o=data.getRoot(e),r=e.data.key.children,s=!n||n.open||!!$$(n[r][0],e).get(0);o.createdNodes=[];var l,d,c=view.appendNodes(e,t,a,n,i,!0,s);if(n){var h=$$(n,consts.id.UL,e);h.get(0)&&(l=h)}else l=e.treeObj;l&&(i>=0&&(d=l.children()[i]),i>=0&&d?$(d).before(c.join("")):l.append(c.join(""))),view.createNodeCallback(e)}},destroy:function(e){e&&(data.initCache(e),data.initRoot(e),event.unbindTree(e),event.unbindEvent(e),e.treeObj.empty(),delete settings[e.treeId])},expandCollapseNode:function(e,t,a,n,i){var o,r,s=data.getRoot(e),l=e.data.key.children;if(!t)return void tools.apply(i,[]);if(s.expandTriggerFlag&&(r=i,o=function(){r&&r(),t.open?e.treeObj.trigger(consts.event.EXPAND,[e.treeId,t]):e.treeObj.trigger(consts.event.COLLAPSE,[e.treeId,t])},i=o,s.expandTriggerFlag=!1),!t.open&&t.isParent&&(!$$(t,consts.id.UL,e).get(0)||t[l]&&t[l].length>0&&!$$(t[l][0],e).get(0))&&(view.appendParentULDom(e,t),view.createNodeCallback(e)),t.open==a)return void tools.apply(i,[]);var d=$$(t,consts.id.UL,e),c=$$(t,consts.id.SWITCH,e),h=$$(t,consts.id.ICON,e);t.isParent?(t.open=!t.open,t.iconOpen&&t.iconClose&&h.attr("style",view.makeNodeIcoStyle(e,t)),t.open?(view.replaceSwitchClass(t,c,consts.folder.OPEN),view.replaceIcoClass(t,h,consts.folder.OPEN),0==n||""==e.view.expandSpeed?(d.show(),tools.apply(i,[])):t[l]&&t[l].length>0?d.slideDown(e.view.expandSpeed,i):(d.show(),tools.apply(i,[]))):(view.replaceSwitchClass(t,c,consts.folder.CLOSE),view.replaceIcoClass(t,h,consts.folder.CLOSE),0!=n&&""!=e.view.expandSpeed&&t[l]&&t[l].length>0?d.slideUp(e.view.expandSpeed,i):(d.hide(),tools.apply(i,[])))):tools.apply(i,[])},expandCollapseParentNode:function(e,t,a,n,i){if(t){if(!t.parentTId)return void view.expandCollapseNode(e,t,a,n,i);view.expandCollapseNode(e,t,a,n),t.parentTId&&view.expandCollapseParentNode(e,t.getParentNode(),a,n,i)}},expandCollapseSonNode:function(e,t,a,n,i){var o=data.getRoot(e),r=e.data.key.children,s=t?t[r]:o[r],l=!t&&n,d=data.getRoot(e).expandTriggerFlag;if(data.getRoot(e).expandTriggerFlag=!1,s)for(var c=0,h=s.length;c<h;c++)s[c]&&view.expandCollapseSonNode(e,s[c],a,l);data.getRoot(e).expandTriggerFlag=d,view.expandCollapseNode(e,t,a,n,i)},isSelectedNode:function(e,t){if(!t)return!1;var a,n=data.getRoot(e).curSelectedList;for(a=n.length-1;a>=0;a--)if(t===n[a])return!0;return!1},makeDOMNodeIcon:function(e,t,a){var n=data.getNodeName(t,a),i=t.view.nameIsHTML?n:n.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");e.push("<span id='",a.tId,consts.id.ICON,"' title='' treeNode",consts.id.ICON," class='",view.makeNodeIcoClass(t,a),"' style='",view.makeNodeIcoStyle(t,a),"'></span><span id='",a.tId,consts.id.SPAN,"' class='",consts.className.NAME,"'>",i,"</span>")},makeDOMNodeLine:function(e,t,a){e.push("<span id='",a.tId,consts.id.SWITCH,"' title='' class='",view.makeNodeLineClass(t,a),"' treeNode",consts.id.SWITCH,"></span>")},makeDOMNodeMainAfter:function(e,t,a){e.push("</li>")},makeDOMNodeMainBefore:function(e,t,a){e.push("<li id='",a.tId,"' class='",consts.className.LEVEL,a.level,"' tabindex='0' hidefocus='true' treenode>")},makeDOMNodeNameAfter:function(e,t,a){e.push("</a>")},makeDOMNodeNameBefore:function(e,t,a){var n=data.getNodeTitle(t,a),i=view.makeNodeUrl(t,a),o=view.makeNodeFontCss(t,a),r=[];for(var s in o)r.push(s,":",o[s],";");e.push("<a id='",a.tId,consts.id.A,"' class='",consts.className.LEVEL,a.level,"' treeNode",consts.id.A,' onclick="',a.click||"",'" ',null!=i&&i.length>0?"href='"+i+"'":""," target='",view.makeNodeTarget(a),"' style='",r.join(""),"'"),tools.apply(t.view.showTitle,[t.treeId,a],t.view.showTitle)&&n&&e.push("title='",n.replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),"'"),e.push(">")},makeNodeFontCss:function(e,t){var a=tools.apply(e.view.fontCss,[e.treeId,t],e.view.fontCss);return a&&"function"!=typeof a?a:{}},makeNodeIcoClass:function(e,t){var a=["ico"];return t.isAjaxing||(a[0]=(t.iconSkin?t.iconSkin+"_":"")+a[0],t.isParent?a.push(t.open?consts.folder.OPEN:consts.folder.CLOSE):a.push(consts.folder.DOCU)),consts.className.BUTTON+" "+a.join("_")},makeNodeIcoStyle:function(e,t){var a=[];if(!t.isAjaxing){var n=t.isParent&&t.iconOpen&&t.iconClose?t.open?t.iconOpen:t.iconClose:t[e.data.key.icon];n&&a.push("background:url(",n,") 0 0 no-repeat;"),
0!=e.view.showIcon&&tools.apply(e.view.showIcon,[e.treeId,t],!0)||a.push("width:0px;height:0px;")}return a.join("")},makeNodeLineClass:function(e,t){var a=[];return e.view.showLine?0==t.level&&t.isFirstNode&&t.isLastNode?a.push(consts.line.ROOT):0==t.level&&t.isFirstNode?a.push(consts.line.ROOTS):t.isLastNode?a.push(consts.line.BOTTOM):a.push(consts.line.CENTER):a.push(consts.line.NOLINE),t.isParent?a.push(t.open?consts.folder.OPEN:consts.folder.CLOSE):a.push(consts.folder.DOCU),view.makeNodeLineClassEx(t)+a.join("_")},makeNodeLineClassEx:function(e){return consts.className.BUTTON+" "+consts.className.LEVEL+e.level+" "+consts.className.SWITCH+" "},makeNodeTarget:function(e){return e.target||"_blank"},makeNodeUrl:function(e,t){var a=e.data.key.url;return t[a]?t[a]:null},makeUlHtml:function(e,t,a,n){a.push("<ul id='",t.tId,consts.id.UL,"' class='",consts.className.LEVEL,t.level," ",view.makeUlLineClass(e,t),"' style='display:",t.open?"block":"none","'>"),a.push(n),a.push("</ul>")},makeUlLineClass:function(e,t){return e.view.showLine&&!t.isLastNode?consts.line.LINE:""},removeChildNodes:function(e,t){if(t){var a=e.data.key.children,n=t[a];if(n){for(var i=0,o=n.length;i<o;i++)data.removeNodeCache(e,n[i]);if(data.removeSelectedNode(e),delete t[a],e.data.keep.parent)$$(t,consts.id.UL,e).empty();else{t.isParent=!1,t.open=!1;var r=$$(t,consts.id.SWITCH,e),s=$$(t,consts.id.ICON,e);view.replaceSwitchClass(t,r,consts.folder.DOCU),view.replaceIcoClass(t,s,consts.folder.DOCU),$$(t,consts.id.UL,e).remove()}}}},scrollIntoView:function(e){e&&(Element.prototype.scrollIntoViewIfNeeded||(Element.prototype.scrollIntoViewIfNeeded=function(e){function t(t,a,n,i){return!1===e||n<=t+i&&t<=a+i?Math.min(n,Math.max(a,t)):(a+n)/2}function a(e,t,n,i){return{left:e,top:t,width:n,height:i,right:e+n,bottom:t+i,translate:function(o,r){return a(o+e,r+t,n,i)},relativeFromTo:function(r,s){var l=e,d=t;if(r=r.offsetParent,s=s.offsetParent,r===s)return o;for(;r;r=r.offsetParent)l+=r.offsetLeft+r.clientLeft,d+=r.offsetTop+r.clientTop;for(;s;s=s.offsetParent)l-=s.offsetLeft+s.clientLeft,d-=s.offsetTop+s.clientTop;return a(l,d,n,i)}}}for(var n,i=this,o=a(this.offsetLeft,this.offsetTop,this.offsetWidth,this.offsetHeight);(n=i.parentNode)instanceof HTMLElement;){var r=n.offsetLeft+n.clientLeft,s=n.offsetTop+n.clientTop;o=o.relativeFromTo(i,n).translate(-r,-s),n.scrollLeft=t(n.scrollLeft,o.right-n.clientWidth,o.left,n.clientWidth),n.scrollTop=t(n.scrollTop,o.bottom-n.clientHeight,o.top,n.clientHeight),o=o.translate(r-n.scrollLeft,s-n.scrollTop),i=n}}),e.scrollIntoViewIfNeeded())},setFirstNode:function(e,t){var a=e.data.key.children;t[a].length>0&&(t[a][0].isFirstNode=!0)},setLastNode:function(e,t){var a=e.data.key.children,n=t[a].length;n>0&&(t[a][n-1].isLastNode=!0)},removeNode:function(e,t){var a=data.getRoot(e),n=e.data.key.children,i=t.parentTId?t.getParentNode():a;if(t.isFirstNode=!1,t.isLastNode=!1,t.getPreNode=function(){return null},t.getNextNode=function(){return null},data.getNodeCache(e,t.tId)){$$(t,e).remove(),data.removeNodeCache(e,t),data.removeSelectedNode(e,t);for(var o=0,r=i[n].length;o<r;o++)if(i[n][o].tId==t.tId){i[n].splice(o,1);break}view.setFirstNode(e,i),view.setLastNode(e,i);var s,l,d,c=i[n].length;if(e.data.keep.parent||0!=c){if(e.view.showLine&&c>0){var h=i[n][c-1];if(s=$$(h,consts.id.UL,e),l=$$(h,consts.id.SWITCH,e),d=$$(h,consts.id.ICON,e),i==a)if(1==i[n].length)view.replaceSwitchClass(h,l,consts.line.ROOT);else{var u=$$(i[n][0],consts.id.SWITCH,e);view.replaceSwitchClass(i[n][0],u,consts.line.ROOTS),view.replaceSwitchClass(h,l,consts.line.BOTTOM)}else view.replaceSwitchClass(h,l,consts.line.BOTTOM);s.removeClass(consts.line.LINE)}}else i.isParent=!1,i.open=!1,s=$$(i,consts.id.UL,e),l=$$(i,consts.id.SWITCH,e),d=$$(i,consts.id.ICON,e),view.replaceSwitchClass(i,l,consts.folder.DOCU),view.replaceIcoClass(i,d,consts.folder.DOCU),s.css("display","none")}},replaceIcoClass:function(e,t,a){if(t&&!e.isAjaxing){var n=t.attr("class");if(void 0!=n){var i=n.split("_");switch(a){case consts.folder.OPEN:case consts.folder.CLOSE:case consts.folder.DOCU:i[i.length-1]=a}t.attr("class",i.join("_"))}}},replaceSwitchClass:function(e,t,a){if(t){var n=t.attr("class");if(void 0!=n){var i=n.split("_");switch(a){case consts.line.ROOT:case consts.line.ROOTS:case consts.line.CENTER:case consts.line.BOTTOM:case consts.line.NOLINE:i[0]=view.makeNodeLineClassEx(e)+a;break;case consts.folder.OPEN:case consts.folder.CLOSE:case consts.folder.DOCU:i[1]=a}t.attr("class",i.join("_")),a!==consts.folder.DOCU?t.removeAttr("disabled"):t.attr("disabled","disabled")}}},selectNode:function(e,t,a){a||view.cancelPreSelectedNode(e,null,t);var n=$$(t,consts.id.A,e);e.view.isHoverLine&&n.parent().addClass(consts.node.CURSELECTED),n.addClass(consts.node.CURSELECTED),data.addSelectedNode(e,t),e.treeObj.trigger(consts.event.SELECTED,[e.treeId,t])},setNodeFontCss:function(e,t){var a=$$(t,consts.id.A,e),n=view.makeNodeFontCss(e,t);n&&a.css(n)},setNodeLineIcos:function(e,t){if(t){var a=$$(t,consts.id.SWITCH,e),n=$$(t,consts.id.UL,e),i=$$(t,consts.id.ICON,e),o=view.makeUlLineClass(e,t);0==o.length?n.removeClass(consts.line.LINE):n.addClass(o),a.attr("class",view.makeNodeLineClass(e,t)),t.isParent?a.removeAttr("disabled"):a.attr("disabled","disabled"),i.removeAttr("style"),i.attr("style",view.makeNodeIcoStyle(e,t)),i.attr("class",view.makeNodeIcoClass(e,t))}},setNodeName:function(e,t){var a=data.getNodeTitle(e,t),n=$$(t,consts.id.SPAN,e);if(n.empty(),e.view.nameIsHTML?n.html(data.getNodeName(e,t)):n.text(data.getNodeName(e,t)),tools.apply(e.view.showTitle,[e.treeId,t],e.view.showTitle)){$$(t,consts.id.A,e).attr("title",a||"")}},setNodeTarget:function(e,t){$$(t,consts.id.A,e).attr("target",view.makeNodeTarget(t))},setNodeUrl:function(e,t){var a=$$(t,consts.id.A,e),n=view.makeNodeUrl(e,t);null==n||0==n.length?a.removeAttr("href"):a.attr("href",n)},switchNode:function(e,t){if(t.open||!tools.canAsync(e,t))view.expandCollapseNode(e,t,!t.open);else if(e.async.enable){if(!view.asyncNode(e,t))return void view.expandCollapseNode(e,t,!t.open)}else t&&view.expandCollapseNode(e,t,!t.open)}};$.fn.zTree={consts:_consts,_z:{tools:tools,view:view,event:event,data:data},getZTreeObj:function(e){var t=data.getZTreeTools(e);return t||null},destroy:function(e){if(e&&e.length>0)view.destroy(data.getSetting(e));else for(var t in settings)view.destroy(settings[t])},init:function(e,t,a){var n=tools.clone(_setting);$.extend(!0,n,t),n.treeId=e.attr("id"),n.treeObj=e,n.treeObj.empty(),settings[n.treeId]=n,void 0===document.body.style.maxHeight&&(n.view.expandSpeed=""),data.initRoot(n);var i=data.getRoot(n),o=n.data.key.children;a=a?tools.clone(tools.isArray(a)?a:[a]):[],n.data.simpleData.enable?i[o]=data.transformTozTreeFormat(n,a):i[o]=a,data.initCache(n),event.unbindTree(n),event.bindTree(n),event.unbindEvent(n),event.bindEvent(n);var r={setting:n,addNodes:function(e,t,a,i){function o(){view.addNodes(n,e,t,s,1==i)}if(e||(e=null),e&&!e.isParent&&n.data.keep.leaf)return null;var r=parseInt(t,10);if(isNaN(r)?(i=!!a,a=t,t=-1):t=r,!a)return null;var s=tools.clone(tools.isArray(a)?a:[a]);return tools.canAsync(n,e)?view.asyncNode(n,e,i,o):o(),s},cancelSelectedNode:function(e){view.cancelPreSelectedNode(n,e)},destroy:function(){view.destroy(n)},expandAll:function(e){return e=!!e,view.expandCollapseSonNode(n,null,e,!0),e},expandNode:function(e,t,a,i,o){function r(){var t=$$(e,n).get(0);t&&!1!==i&&view.scrollIntoView(t)}return e&&e.isParent?(!0!==t&&!1!==t&&(t=!e.open),(o=!!o)&&t&&0==tools.apply(n.callback.beforeExpand,[n.treeId,e],!0)?null:o&&!t&&0==tools.apply(n.callback.beforeCollapse,[n.treeId,e],!0)?null:(t&&e.parentTId&&view.expandCollapseParentNode(n,e.getParentNode(),t,!1),t!==e.open||a?(data.getRoot(n).expandTriggerFlag=o,!tools.canAsync(n,e)&&a?view.expandCollapseSonNode(n,e,t,!0,r):(e.open=!t,view.switchNode(this.setting,e),r()),t):null)):null},getNodes:function(){return data.getNodes(n)},getNodeByParam:function(e,t,a){return e?data.getNodeByParam(n,a?a[n.data.key.children]:data.getNodes(n),e,t):null},getNodeByTId:function(e){return data.getNodeCache(n,e)},getNodesByParam:function(e,t,a){return e?data.getNodesByParam(n,a?a[n.data.key.children]:data.getNodes(n),e,t):null},getNodesByParamFuzzy:function(e,t,a){return e?data.getNodesByParamFuzzy(n,a?a[n.data.key.children]:data.getNodes(n),e,t):null},getNodesByFilter:function(e,t,a,i){return t=!!t,e&&"function"==typeof e?data.getNodesByFilter(n,a?a[n.data.key.children]:data.getNodes(n),e,t,i):t?null:[]},getNodeIndex:function(e){if(!e)return null;for(var t=n.data.key.children,a=e.parentTId?e.getParentNode():data.getRoot(n),i=0,o=a[t].length;i<o;i++)if(a[t][i]==e)return i;return-1},getSelectedNodes:function(){for(var e=[],t=data.getRoot(n).curSelectedList,a=0,i=t.length;a<i;a++)e.push(t[a]);return e},isSelectedNode:function(e){return data.isSelectedNode(n,e)},reAsyncChildNodes:function(e,t,a){if(this.setting.async.enable){var i=!e;if(i&&(e=data.getRoot(n)),"refresh"==t){for(var o=this.setting.data.key.children,r=0,s=e[o]?e[o].length:0;r<s;r++)data.removeNodeCache(n,e[o][r]);if(data.removeSelectedNode(n),e[o]=[],i)this.setting.treeObj.empty();else{$$(e,consts.id.UL,n).empty()}}view.asyncNode(this.setting,i?null:e,!!a)}},refresh:function(){this.setting.treeObj.empty();var e=data.getRoot(n),t=e[n.data.key.children];data.initRoot(n),e[n.data.key.children]=t,data.initCache(n),view.createNodes(n,0,e[n.data.key.children],null,-1)},removeChildNodes:function(e){if(!e)return null;var t=n.data.key.children,a=e[t];return view.removeChildNodes(n,e),a||null},removeNode:function(e,t){e&&((t=!!t)&&0==tools.apply(n.callback.beforeRemove,[n.treeId,e],!0)||(view.removeNode(n,e),t&&this.setting.treeObj.trigger(consts.event.REMOVE,[n.treeId,e])))},selectNode:function(e,t,a){function i(){if(!a){var t=$$(e,n).get(0);view.scrollIntoView(t)}}if(e&&tools.uCanDo(n)){if(t=n.view.selectedMulti&&t,e.parentTId)view.expandCollapseParentNode(n,e.getParentNode(),!0,!1,i);else if(!a)try{$$(e,n).focus().blur()}catch(e){}view.selectNode(n,e,t)}},transformTozTreeNodes:function(e){return data.transformTozTreeFormat(n,e)},transformToArray:function(e){return data.transformToArrayFormat(n,e)},updateNode:function(e,t){if(e){$$(e,n).get(0)&&tools.uCanDo(n)&&(view.setNodeName(n,e),view.setNodeTarget(n,e),view.setNodeUrl(n,e),view.setNodeLineIcos(n,e),view.setNodeFontCss(n,e))}}};return i.treeTools=r,data.setZTreeTools(n,r),i[o]&&"search"===n.from?view.createNodes(n,0,i[o],null,-1):i[o]&&i[o].length>0?view.createNodes(n,0,i[o],null,-1):n.async.enable&&n.async.url&&""!==n.async.url&&view.asyncNode(n),r}};var zt=$.fn.zTree,$$=tools.$,consts=zt.consts}(jQuery),function(e){var t={event:{CHECK:"ztree_check"},id:{CHECK:"_check"},checkbox:{STYLE:"checkbox",DEFAULT:"chk",DISABLED:"disable",FALSE:"false",TRUE:"true",FULL:"full",PART:"part",FOCUS:"focus"},radio:{STYLE:"radio",TYPE_ALL:"all",TYPE_LEVEL:"level"}},a={check:{enable:!1,autoCheckTrigger:!1,chkStyle:t.checkbox.STYLE,nocheckInherit:!1,chkDisabledInherit:!1,radioType:t.radio.TYPE_LEVEL,chkboxType:{Y:"ps",N:"ps"}},data:{key:{checked:"checked"}},callback:{beforeCheck:null,onCheck:null}},n=function(e){C.getRoot(e).radioCheckedList=[]},i=function(e){},o=function(e){var t=e.treeObj,a=y.event;t.bind(a.CHECK,function(t,a,n,i){t.srcEvent=a,m.apply(e.callback.onCheck,[t,n,i])})},r=function(e){var t=e.treeObj,a=y.event;t.unbind(a.CHECK)},s=function(e){var t=e.target,a=C.getSetting(e.data.treeId),n="",i=null,o="",r=null;if(m.eqs(e.type,"mouseover")?a.check.enable&&m.eqs(t.tagName,"span")&&null!==t.getAttribute("treeNode"+y.id.CHECK)&&(n=m.getNodeMainDom(t).id,o="mouseoverCheck"):m.eqs(e.type,"mouseout")?a.check.enable&&m.eqs(t.tagName,"span")&&null!==t.getAttribute("treeNode"+y.id.CHECK)&&(n=m.getNodeMainDom(t).id,o="mouseoutCheck"):m.eqs(e.type,"click")&&a.check.enable&&m.eqs(t.tagName,"span")&&null!==t.getAttribute("treeNode"+y.id.CHECK)&&(n=m.getNodeMainDom(t).id,o="checkNode"),n.length>0)switch(i=C.getNodeCache(a,n),o){case"checkNode":r=p.onCheckNode;break;case"mouseoverCheck":r=p.onMouseoverCheck;break;case"mouseoutCheck":r=p.onMouseoutCheck}return{stop:"checkNode"===o,node:i,nodeEventType:o,nodeEventCallback:r,treeEventType:"",treeEventCallback:null}},l=function(e,t,a,n,i,o,r){if(a){var s=e.data.key.checked;if("string"==typeof a[s]&&(a[s]=m.eqs(a[s],"true")),a[s]=!!a[s],a.checkedOld=a[s],"string"==typeof a.nocheck&&(a.nocheck=m.eqs(a.nocheck,"true")),a.nocheck=!!a.nocheck||e.check.nocheckInherit&&n&&!!n.nocheck,"string"==typeof a.chkDisabled&&(a.chkDisabled=m.eqs(a.chkDisabled,"true")),a.chkDisabled=!!a.chkDisabled||e.check.chkDisabledInherit&&n&&!!n.chkDisabled,"string"==typeof a.halfCheck&&(a.halfCheck=m.eqs(a.halfCheck,"true")),a.halfCheck=!!a.halfCheck,a.check_Child_State=-1,a.check_Focus=!1,a.getCheckStatus=function(){return C.getCheckStatus(e,a)},e.check.chkStyle==y.radio.STYLE&&e.check.radioType==y.radio.TYPE_ALL&&a[s]){C.getRoot(e).radioCheckedList.push(a)}}},d=function(e,t,a){e.data.key.checked;e.check.enable&&(C.makeChkFlag(e,t),a.push("<span ID='",t.tId,y.id.CHECK,"' class='",k.makeChkClass(e,t),"' treeNode",y.id.CHECK,!0===t.nocheck?" style='display:none;'":"","></span>"))},c=function(e,t){t.checkNode=function(e,t,a,n){var i=this.setting.data.key.checked;if(!0!==e.chkDisabled&&(!0!==t&&!1!==t&&(t=!e[i]),n=!!n,(e[i]!==t||a)&&(!n||0!=m.apply(this.setting.callback.beforeCheck,[this.setting.treeId,e],!0))&&m.uCanDo(this.setting)&&this.setting.check.enable&&!0!==e.nocheck)){e[i]=t;var o=w(e,y.id.CHECK,this.setting);(a||this.setting.check.chkStyle===y.radio.STYLE)&&k.checkNodeRelation(this.setting,e),k.setChkClass(this.setting,o,e),k.repairParentChkClassWithSelf(this.setting,e),n&&this.setting.treeObj.trigger(y.event.CHECK,[null,this.setting.treeId,e])}},t.checkAllNodes=function(e){k.repairAllChk(this.setting,!!e)},t.getCheckedNodes=function(e){var t=this.setting.data.key.children;return e=!1!==e,C.getTreeCheckedNodes(this.setting,C.getRoot(this.setting)[t],e)},t.getChangeCheckedNodes=function(){var e=this.setting.data.key.children;return C.getTreeChangeCheckedNodes(this.setting,C.getRoot(this.setting)[e])},t.setChkDisabled=function(e,t,a,n){t=!!t,a=!!a,n=!!n,k.repairSonChkDisabled(this.setting,e,t,n),k.repairParentChkDisabled(this.setting,e.getParentNode(),t,a)};var a=t.updateNode;t.updateNode=function(e,n){if(a&&a.apply(t,arguments),e&&this.setting.check.enable){if(w(e,this.setting).get(0)&&m.uCanDo(this.setting)){var i=w(e,y.id.CHECK,this.setting);1!=n&&this.setting.check.chkStyle!==y.radio.STYLE||k.checkNodeRelation(this.setting,e),k.setChkClass(this.setting,i,e),k.repairParentChkClassWithSelf(this.setting,e)}}}},h={getRadioCheckedList:function(e){for(var t=C.getRoot(e).radioCheckedList,a=0,n=t.length;a<n;a++)C.getNodeCache(e,t[a].tId)||(t.splice(a,1),a--,n--);return t},getCheckStatus:function(e,t){if(!e.check.enable||t.nocheck||t.chkDisabled)return null;var a=e.data.key.checked;return{checked:t[a],half:t.halfCheck?t.halfCheck:e.check.chkStyle==y.radio.STYLE?2===t.check_Child_State:t[a]?t.check_Child_State>-1&&t.check_Child_State<2:t.check_Child_State>0}},getTreeCheckedNodes:function(e,t,a,n){if(!t)return[];var i=e.data.key.children,o=e.data.key.checked,r=a&&e.check.chkStyle==y.radio.STYLE&&e.check.radioType==y.radio.TYPE_ALL;n=n||[];for(var s=0,l=t.length;s<l&&(!0===t[s].nocheck||!0===t[s].chkDisabled||t[s][o]!=a||(n.push(t[s]),!r))&&(C.getTreeCheckedNodes(e,t[s][i],a,n),!(r&&n.length>0));s++);return n},getTreeChangeCheckedNodes:function(e,t,a){if(!t)return[];var n=e.data.key.children,i=e.data.key.checked;a=a||[];for(var o=0,r=t.length;o<r;o++)!0!==t[o].nocheck&&!0!==t[o].chkDisabled&&t[o][i]!=t[o].checkedOld&&a.push(t[o]),C.getTreeChangeCheckedNodes(e,t[o][n],a);return a},makeChkFlag:function(e,t){if(t){var a=e.data.key.children,n=e.data.key.checked,i=-1;if(t[a])for(var o=0,r=t[a].length;o<r;o++){var s=t[a][o],l=-1;if(e.check.chkStyle==y.radio.STYLE){if(2==(l=!0===s.nocheck||!0===s.chkDisabled?s.check_Child_State:!0===s.halfCheck?2:s[n]?2:s.check_Child_State>0?2:0)){i=2;break}0==l&&(i=0)}else if(e.check.chkStyle==y.checkbox.STYLE){if(1===(l=!0===s.nocheck||!0===s.chkDisabled?s.check_Child_State:!0===s.halfCheck?1:s[n]?-1===s.check_Child_State||2===s.check_Child_State?2:1:s.check_Child_State>0?1:0)){i=1;break}if(2===l&&i>-1&&o>0&&l!==i){i=1;break}if(2===i&&l>-1&&l<2){i=1;break}l>-1&&(i=l)}}t.check_Child_State=i}}},u={},p={onCheckNode:function(e,t){if(!0===t.chkDisabled)return!1;var a=C.getSetting(e.data.treeId),n=a.data.key.checked;if(0==m.apply(a.callback.beforeCheck,[a.treeId,t],!0))return!0;t[n]=!t[n],k.checkNodeRelation(a,t);var i=w(t,y.id.CHECK,a);return k.setChkClass(a,i,t),k.repairParentChkClassWithSelf(a,t),a.treeObj.trigger(y.event.CHECK,[e,a.treeId,t]),!0},onMouseoverCheck:function(e,t){if(!0===t.chkDisabled)return!1;var a=C.getSetting(e.data.treeId),n=w(t,y.id.CHECK,a);return t.check_Focus=!0,k.setChkClass(a,n,t),!0},onMouseoutCheck:function(e,t){if(!0===t.chkDisabled)return!1;var a=C.getSetting(e.data.treeId),n=w(t,y.id.CHECK,a);return t.check_Focus=!1,k.setChkClass(a,n,t),!0}},f={},b={checkNodeRelation:function(e,t){var a,n,i,o=e.data.key.children,r=e.data.key.checked,s=y.radio;if(e.check.chkStyle==s.STYLE){var l=C.getRadioCheckedList(e);if(t[r])if(e.check.radioType==s.TYPE_ALL){for(n=l.length-1;n>=0;n--)a=l[n],a[r]&&a!=t&&(a[r]=!1,l.splice(n,1),k.setChkClass(e,w(a,y.id.CHECK,e),a),a.parentTId!=t.parentTId&&k.repairParentChkClassWithSelf(e,a));l.push(t)}else{var d=t.parentTId?t.getParentNode():C.getRoot(e);for(n=0,i=d[o].length;n<i;n++)a=d[o][n],a[r]&&a!=t&&(a[r]=!1,k.setChkClass(e,w(a,y.id.CHECK,e),a))}else if(e.check.radioType==s.TYPE_ALL)for(n=0,i=l.length;n<i;n++)if(t==l[n]){l.splice(n,1);break}}else t[r]&&(!t[o]||0==t[o].length||e.check.chkboxType.Y.indexOf("s")>-1)&&k.setSonNodeCheckBox(e,t,!0),t[r]||t[o]&&0!=t[o].length&&!(e.check.chkboxType.N.indexOf("s")>-1)||k.setSonNodeCheckBox(e,t,!1),t[r]&&e.check.chkboxType.Y.indexOf("p")>-1&&k.setParentNodeCheckBox(e,t,!0),!t[r]&&e.check.chkboxType.N.indexOf("p")>-1&&k.setParentNodeCheckBox(e,t,!1)},makeChkClass:function(e,t){var a=e.data.key.checked,n=y.checkbox,i=y.radio,o="";o=!0===t.chkDisabled?n.DISABLED:t.halfCheck?n.PART:e.check.chkStyle==i.STYLE?t.check_Child_State<1?n.FULL:n.PART:t[a]?2===t.check_Child_State||-1===t.check_Child_State?n.FULL:n.PART:t.check_Child_State<1?n.FULL:n.PART;var r=e.check.chkStyle+"_"+(t[a]?n.TRUE:n.FALSE)+"_"+o;return r=t.check_Focus&&!0!==t.chkDisabled?r+"_"+n.FOCUS:r,y.className.BUTTON+" "+n.DEFAULT+" "+r},repairAllChk:function(e,t){if(e.check.enable&&e.check.chkStyle===y.checkbox.STYLE)for(var a=e.data.key.checked,n=e.data.key.children,i=C.getRoot(e),o=0,r=i[n].length;o<r;o++){var s=i[n][o];!0!==s.nocheck&&!0!==s.chkDisabled&&(s[a]=t),k.setSonNodeCheckBox(e,s,t)}},repairChkClass:function(e,t){if(t&&(C.makeChkFlag(e,t),!0!==t.nocheck)){var a=w(t,y.id.CHECK,e);k.setChkClass(e,a,t)}},repairParentChkClass:function(e,t){if(t&&t.parentTId){var a=t.getParentNode();k.repairChkClass(e,a),k.repairParentChkClass(e,a)}},repairParentChkClassWithSelf:function(e,t){if(t){var a=e.data.key.children;t[a]&&t[a].length>0?k.repairParentChkClass(e,t[a][0]):k.repairParentChkClass(e,t)}},repairSonChkDisabled:function(e,t,a,n){if(t){var i=e.data.key.children;if(t.chkDisabled!=a&&(t.chkDisabled=a),k.repairChkClass(e,t),t[i]&&n)for(var o=0,r=t[i].length;o<r;o++){var s=t[i][o];k.repairSonChkDisabled(e,s,a,n)}}},repairParentChkDisabled:function(e,t,a,n){t&&(t.chkDisabled!=a&&n&&(t.chkDisabled=a),k.repairChkClass(e,t),k.repairParentChkDisabled(e,t.getParentNode(),a,n))},setChkClass:function(e,t,a){t&&(!0===a.nocheck?t.hide():t.show(),t.attr("class",k.makeChkClass(e,a)))},setParentNodeCheckBox:function(e,t,a,n){var i=e.data.key.children,o=e.data.key.checked,r=w(t,y.id.CHECK,e);if(n||(n=t),C.makeChkFlag(e,t),!0!==t.nocheck&&!0!==t.chkDisabled&&(t[o]=a,k.setChkClass(e,r,t),e.check.autoCheckTrigger&&t!=n&&e.treeObj.trigger(y.event.CHECK,[null,e.treeId,t])),t.parentTId){var s=!0;if(!a)for(var l=t.getParentNode()[i],d=0,c=l.length;d<c;d++)if(!0!==l[d].nocheck&&!0!==l[d].chkDisabled&&l[d][o]||(!0===l[d].nocheck||!0===l[d].chkDisabled)&&l[d].check_Child_State>0){s=!1;break}s&&k.setParentNodeCheckBox(e,t.getParentNode(),a,n)}},setSonNodeCheckBox:function(e,t,a,n){if(t){var i=e.data.key.children,o=e.data.key.checked,r=w(t,y.id.CHECK,e);n||(n=t);var s=!1;if(t[i])for(var l=0,d=t[i].length;l<d;l++){var c=t[i][l];k.setSonNodeCheckBox(e,c,a,n),!0===c.chkDisabled&&(s=!0)}t!=C.getRoot(e)&&!0!==t.chkDisabled&&(s&&!0!==t.nocheck&&C.makeChkFlag(e,t),!0!==t.nocheck&&!0!==t.chkDisabled?(t[o]=a,s||(t.check_Child_State=t[i]&&t[i].length>0?a?2:0:-1)):t.check_Child_State=-1,k.setChkClass(e,r,t),e.check.autoCheckTrigger&&t!=n&&!0!==t.nocheck&&!0!==t.chkDisabled&&e.treeObj.trigger(y.event.CHECK,[null,e.treeId,t]))}}},g={tools:f,view:b,event:u,data:h};e.extend(!0,e.fn.zTree.consts,t),e.extend(!0,e.fn.zTree._z,g);var v=e.fn.zTree,m=v._z.tools,y=v.consts,k=v._z.view,C=v._z.data,w=(v._z.event,m.$);C.exSetting(a),C.addInitBind(o),C.addInitUnBind(r),C.addInitCache(i),C.addInitNode(l),C.addInitProxy(s,!0),C.addInitRoot(n),C.addBeforeA(d),C.addZTreeTools(c);var x=k.createNodes;k.createNodes=function(e,t,a,n,i){x&&x.apply(k,arguments),a&&k.repairParentChkClassWithSelf(e,n)};var T=k.removeNode;k.removeNode=function(e,t){var a=t.getParentNode();T&&T.apply(k,arguments),t&&a&&(k.repairChkClass(e,a),k.repairParentChkClass(e,a))};var N=k.appendNodes;k.appendNodes=function(e,t,a,n,i,o,r){var s="";return N&&(s=N.apply(k,arguments)),n&&C.makeChkFlag(e,n),s}}(jQuery),function(e){var t={event:{DRAG:"ztree_drag",DROP:"ztree_drop",RENAME:"ztree_rename",DRAGMOVE:"ztree_dragmove"},id:{EDIT:"_edit",INPUT:"_input",REMOVE:"_remove"},move:{TYPE_INNER:"inner",TYPE_PREV:"prev",TYPE_NEXT:"next"},node:{CURSELECTED_EDIT:"curSelectedNode_Edit",TMPTARGET_TREE:"tmpTargetzTree",TMPTARGET_NODE:"tmpTargetNode"}},a={edit:{enable:!1,editNameSelectAll:!1,showRemoveBtn:!0,showRenameBtn:!0,removeTitle:"remove",renameTitle:"rename",drag:{autoExpandTrigger:!1,isCopy:!0,isMove:!0,prev:!0,next:!0,inner:!0,minMoveSize:5,borderMax:10,borderMin:-5,maxShowNodeNum:5,autoOpenTime:500}},view:{addHoverDom:null,removeHoverDom:null},callback:{beforeDrag:null,beforeDragOpen:null,beforeDrop:null,beforeEditName:null,beforeRename:null,onDrag:null,onDragMove:null,onDrop:null,onRename:null}},n=function(e){var t=k.getRoot(e),a=k.getRoots();t.curEditNode=null,t.curEditInput=null,t.curHoverNode=null,t.dragFlag=0,t.dragNodeShowBefore=[],t.dragMaskList=new Array,a.showHoverDom=!0},i=function(e){},o=function(e){var t=e.treeObj,a=m.event;t.bind(a.RENAME,function(t,a,n,i){v.apply(e.callback.onRename,[t,a,n,i])}),t.bind(a.DRAG,function(t,a,n,i){v.apply(e.callback.onDrag,[a,n,i])}),t.bind(a.DRAGMOVE,function(t,a,n,i){v.apply(e.callback.onDragMove,[a,n,i])}),t.bind(a.DROP,function(t,a,n,i,o,r,s){v.apply(e.callback.onDrop,[a,n,i,o,r,s])})},r=function(e){var t=e.treeObj,a=m.event;t.unbind(a.RENAME),t.unbind(a.DRAG),t.unbind(a.DRAGMOVE),t.unbind(a.DROP)},s=function(e){var t=e.target,a=k.getSetting(e.data.treeId),n=e.relatedTarget,i="",o=null,r="",s=null,l=null;if(v.eqs(e.type,"mouseover")?(l=v.getMDom(a,t,[{tagName:"a",attrName:"treeNode"+m.id.A}]))&&(i=v.getNodeMainDom(l).id,r="hoverOverNode"):v.eqs(e.type,"mouseout")?(l=v.getMDom(a,n,[{tagName:"a",attrName:"treeNode"+m.id.A}]))||(i="remove",r="hoverOutNode"):v.eqs(e.type,"mousedown")&&(l=v.getMDom(a,t,[{tagName:"a",attrName:"treeNode"+m.id.A}]))&&(i=v.getNodeMainDom(l).id,r="mousedownNode"),i.length>0)switch(o=k.getNodeCache(a,i),r){case"mousedownNode":s=u.onMousedownNode;break;case"hoverOverNode":s=u.onHoverOverNode;break;case"hoverOutNode":s=u.onHoverOutNode}return{stop:!1,node:o,nodeEventType:r,nodeEventCallback:s,treeEventType:"",treeEventCallback:null}},l=function(e,t,a,n,i,o,r){a&&(a.isHover=!1,a.editNameFlag=!1)},d=function(e,t){t.cancelEditName=function(e){k.getRoot(this.setting).curEditNode&&y.cancelCurEditNode(this.setting,e||null,!0)},t.copyNode=function(e,t,a,n){function i(){y.addNodes(o.setting,e,-1,[r],n)}if(!t)return null;if(e&&!e.isParent&&this.setting.data.keep.leaf&&a===m.move.TYPE_INNER)return null;var o=this,r=v.clone(t);return e||(e=null,a=m.move.TYPE_INNER),a==m.move.TYPE_INNER?v.canAsync(this.setting,e)?y.asyncNode(this.setting,e,n,i):i():(y.addNodes(this.setting,e?e.parentNode:void 0,-1,[r],n),y.moveNode(this.setting,e,r,a,!1,n)),r},t.editName=function(e){if(e&&e.tId&&e===k.getNodeCache(this.setting,e.tId)){if(e.parentTId&&y.expandCollapseParentNode(this.setting,e.getParentNode(),!0),!v.uCanDo(this.setting)||0==v.apply(this.setting.callback.beforeEditName,[this.setting.treeId,e],!0))return!1;y.editNode(this.setting,e)}},t.moveNode=function(e,t,a,n){function i(){y.moveNode(o.setting,e,t,a,!1,n)}if(!t)return t;if(e&&!e.isParent&&this.setting.data.keep.leaf&&a===m.move.TYPE_INNER)return null;if(e&&(t.parentTId==e.tId&&a==m.move.TYPE_INNER||C(t,this.setting).find("#"+e.tId).length>0))return null;e||(e=null);var o=this;return v.canAsync(this.setting,e)&&a===m.move.TYPE_INNER?y.asyncNode(this.setting,e,n,i):i(),t},t.setEditable=function(e){return this.setting.edit.enable=e,this.refresh()}},c={setSonNodeLevel:function(e,t,a){if(a){var n=e.data.key.children;if(a.level=t?t.level+1:0,a[n])for(var i=0,o=a[n].length;i<o;i++)a[n][i]&&k.setSonNodeLevel(e,a,a[n][i])}}},h={},u={onHoverOverNode:function(e,t){var a=k.getSetting(e.data.treeId),n=k.getRoot(a);n.curHoverNode!=t&&u.onHoverOutNode(e),n.curHoverNode=t,y.addHoverDom(a,t)},onHoverOutNode:function(e,t){var a=k.getSetting(e.data.treeId),n=k.getRoot(a);n.curHoverNode&&!k.isSelectedNode(a,n.curHoverNode)&&(y.removeTreeDom(a,n.curHoverNode),n.curHoverNode=null)},onMousedownNode:function(a,n){function i(a){function n(){w=null,A="",L=m.move.TYPE_INNER,g.css({display:"none"}),window.zTreeMoveTimer&&(clearTimeout(window.zTreeMoveTimer),window.zTreeMoveTargetNodeTId=null)}if(0==c.dragFlag&&Math.abs(R-a.clientX)<d.edit.drag.minMoveSize&&Math.abs($-a.clientY)<d.edit.drag.minMoveSize)return!0;var i,r,s,l,u,p=d.data.key.children;if(D.css("cursor","pointer"),0==c.dragFlag){if(0==v.apply(d.callback.beforeDrag,[d.treeId,f],!0))return o(a),!0;for(i=0,r=f.length;i<r;i++)0==i&&(c.dragNodeShowBefore=[]),s=f[i],s.isParent&&s.open?(y.expandCollapseNode(d,s,!s.open),c.dragNodeShowBefore[s.tId]=!0):c.dragNodeShowBefore[s.tId]=!1;c.dragFlag=1,h.showHoverDom=!1,v.showIfameMask(d,!0);var P=!0,H=-1;if(f.length>1){var O=f[0].parentTId?f[0].getParentNode()[p]:k.getNodes(d);for(u=[],i=0,r=O.length;i<r;i++)if(void 0!==c.dragNodeShowBefore[O[i].tId]&&(P&&H>-1&&H+1!==i&&(P=!1),u.push(O[i]),H=i),f.length===u.length){f=u;break}}for(P&&(x=f[0].getPreNode(),T=f[f.length-1].getNextNode()),b=C("<ul class='zTreeDragUL'></ul>",d),i=0,r=f.length;i<r;i++)s=f[i],s.editNameFlag=!1,y.selectNode(d,s,i>0),y.removeTreeDom(d,s),i>d.edit.drag.maxShowNodeNum-1||(l=C("<li id='"+s.tId+"_tmp'></li>",d),l.append(C(s,m.id.A,d).clone()),l.css("padding","0"),d.view.isHoverLine&&l.find(".hover-line").removeClass(m.node.CURSELECTED),l.children("#"+s.tId+m.id.A).removeClass(m.node.CURSELECTED),b.append(l),i==d.edit.drag.maxShowNodeNum-1&&(l=C("<li id='"+s.tId+"_moretmp'><a>  ...  </a></li>",d),b.append(l)));b.attr("id",f[0].tId+m.id.UL+"_tmp"),b.addClass(d.treeObj.attr("class")),b.appendTo(D),g=C("<span class='tmpzTreeMove_arrow'></span>",d),g.attr("id","zTreeMove_arrow_tmp"),g.appendTo(D),d.treeObj.trigger(m.event.DRAG,[a,d.treeId,f])}if(1==c.dragFlag){if(w&&g.attr("id")==a.target.id&&A&&a.clientX+N.scrollLeft()+2>e("#"+A+m.id.A,w).offset().left){var _=e("#"+A+m.id.A,w);a.target=_.length>0?_.get(0):a.target}else w&&(w.removeClass(m.node.TMPTARGET_TREE),A&&e("#"+A+m.id.A,w).removeClass(m.node.TMPTARGET_NODE+"_"+m.move.TYPE_PREV).removeClass(m.node.TMPTARGET_NODE+"_"+t.move.TYPE_NEXT).removeClass(m.node.TMPTARGET_NODE+"_"+t.move.TYPE_INNER));w=null,A=null,I=!1,S=d;var z=k.getSettings();for(var j in z)z[j].treeId&&z[j].edit.enable&&z[j].treeId!=d.treeId&&(a.target.id==z[j].treeId||e(a.target).parents("#"+z[j].treeId).length>0)&&(I=!0,S=z[j]);var F=N.scrollTop(),U=N.scrollLeft(),Y=S.treeObj.offset(),W=S.treeObj.get(0).scrollHeight,Q=S.treeObj.get(0).scrollWidth,q=a.clientY+F-Y.top,G=S.treeObj.height()+Y.top-a.clientY-F,V=a.clientX+U-Y.left,K=S.treeObj.width()+Y.left-a.clientX-U,J=q<d.edit.drag.borderMax&&q>d.edit.drag.borderMin,Z=G<d.edit.drag.borderMax&&G>d.edit.drag.borderMin,X=V<d.edit.drag.borderMax&&V>d.edit.drag.borderMin,ee=K<d.edit.drag.borderMax&&K>d.edit.drag.borderMin,te=q>d.edit.drag.borderMin&&G>d.edit.drag.borderMin&&V>d.edit.drag.borderMin&&K>d.edit.drag.borderMin,ae=J&&S.treeObj.scrollTop()<=0,ne=Z&&S.treeObj.scrollTop()+S.treeObj.height()+10>=W,ie=X&&S.treeObj.scrollLeft()<=0,oe=ee&&S.treeObj.scrollLeft()+S.treeObj.width()+10>=Q;if(a.target&&v.isChildOrSelf(a.target,S.treeId)){for(var re=a.target;re&&re.tagName&&!v.eqs(re.tagName,"li")&&re.id!=S.treeId;)re=re.parentNode;var se=!0;for(i=0,r=f.length;i<r;i++){if(s=f[i],re.id===s.tId){se=!1;break}if(C(s,d).find("#"+re.id).length>0){se=!1;break}}se&&a.target&&v.isChildOrSelf(a.target,re.id+m.id.A)&&(w=e(re),A=re.id)}s=f[0],te&&v.isChildOrSelf(a.target,S.treeId)&&(!w&&(a.target.id==S.treeId||ae||ne||ie||oe)&&(I||!I&&s.parentTId)&&(w=S.treeObj),J?S.treeObj.scrollTop(S.treeObj.scrollTop()-10):Z&&S.treeObj.scrollTop(S.treeObj.scrollTop()+10),X?S.treeObj.scrollLeft(S.treeObj.scrollLeft()-10):ee&&S.treeObj.scrollLeft(S.treeObj.scrollLeft()+10),w&&w!=S.treeObj&&w.offset().left<S.treeObj.offset().left&&S.treeObj.scrollLeft(S.treeObj.scrollLeft()+w.offset().left-S.treeObj.offset().left)),b.css({top:a.clientY+F+3+"px",left:a.clientX+U+3+"px"});var le=0,de=0;if(w&&w.attr("id")!=S.treeId){var ce=null==A?null:k.getNodeCache(S,A),he=(a.ctrlKey||a.metaKey)&&d.edit.drag.isMove&&d.edit.drag.isCopy||!d.edit.drag.isMove&&d.edit.drag.isCopy,ue=!(!x||A!==x.tId),pe=!(!T||A!==T.tId),fe=s.parentTId&&s.parentTId==A,be=(he||!pe)&&v.apply(S.edit.drag.prev,[S.treeId,f,ce],!!S.edit.drag.prev),ge=(he||!ue)&&v.apply(S.edit.drag.next,[S.treeId,f,ce],!!S.edit.drag.next),ve=(he||!fe)&&!(S.data.keep.leaf&&!ce.isParent)&&v.apply(S.edit.drag.inner,[S.treeId,f,ce],!!S.edit.drag.inner);if(be||ge||ve){var me=e("#"+A+m.id.A,w),ye=ce.isLastNode?null:e("#"+ce.getNextNode().tId+m.id.A,w.next()),ke=me.offset().top,Ce=me.offset().left,we=be?ve?.25:ge?.5:1:-1,xe=ge?ve?.75:be?.5:0:-1,Te=(a.clientY+F-ke)/me.height();if((1==we||Te<=we&&Te>=-.2)&&be?(le=1-g.width(),de=ke-g.height()/2,L=m.move.TYPE_PREV):(0==xe||Te>=xe&&Te<=1.2)&&ge?(le=1-g.width(),de=null==ye||ce.isParent&&ce.open?ke+me.height()-g.height()/2:ye.offset().top-g.height()/2,L=m.move.TYPE_NEXT):ve?(le=5-g.width(),de=ke,L=m.move.TYPE_INNER):n(),w&&(g.css({display:"block",top:de+"px",left:Ce+le+"px"}),me.addClass(m.node.TMPTARGET_NODE+"_"+L),E==A&&B==L||(M=(new Date).getTime()),ce&&ce.isParent&&L==m.move.TYPE_INNER)){var Ne=!0;window.zTreeMoveTimer&&window.zTreeMoveTargetNodeTId!==ce.tId?(clearTimeout(window.zTreeMoveTimer),window.zTreeMoveTargetNodeTId=null):window.zTreeMoveTimer&&window.zTreeMoveTargetNodeTId===ce.tId&&(Ne=!1),Ne&&(window.zTreeMoveTimer=setTimeout(function(){L==m.move.TYPE_INNER&&ce&&ce.isParent&&!ce.open&&(new Date).getTime()-M>S.edit.drag.autoOpenTime&&v.apply(S.callback.beforeDragOpen,[S.treeId,ce],!0)&&(y.switchNode(S,ce),S.edit.drag.autoExpandTrigger&&S.treeObj.trigger(m.event.EXPAND,[S.treeId,ce]))},S.edit.drag.autoOpenTime+50),window.zTreeMoveTargetNodeTId=ce.tId)}}else n()}else L=m.move.TYPE_INNER,w&&v.apply(S.edit.drag.inner,[S.treeId,f,null],!!S.edit.drag.inner)?w.addClass(m.node.TMPTARGET_TREE):w=null,g.css({display:"none"}),window.zTreeMoveTimer&&(clearTimeout(window.zTreeMoveTimer),window.zTreeMoveTargetNodeTId=null);E=A,B=L,d.treeObj.trigger(m.event.DRAGMOVE,[a,d.treeId,f])}return!1}function o(a){function n(){if(I){if(!p)for(var e=0,t=f.length;e<t;e++)y.removeNode(d,f[e]);L==m.move.TYPE_INNER?y.addNodes(S,x,-1,T):y.addNodes(S,x.getParentNode(),L==m.move.TYPE_PREV?x.getIndex():x.getIndex()+1,T)
}else if(p&&L==m.move.TYPE_INNER)y.addNodes(S,x,-1,T);else if(p)y.addNodes(S,x.getParentNode(),L==m.move.TYPE_PREV?x.getIndex():x.getIndex()+1,T);else if(L!=m.move.TYPE_NEXT)for(e=0,t=T.length;e<t;e++)y.moveNode(S,x,T[e],L,!1);else for(e=-1,t=T.length-1;e<t;t--)y.moveNode(S,x,T[t],L,!1);y.selectNodes(S,T);var n=C(T[0],d).get(0);y.scrollIntoView(n),d.treeObj.trigger(m.event.DROP,[a,S.treeId,T,x,L,p])}if(window.zTreeMoveTimer&&(clearTimeout(window.zTreeMoveTimer),window.zTreeMoveTargetNodeTId=null),E=null,B=null,N.unbind("mousemove",i),N.unbind("mouseup",o),N.unbind("selectstart",r),D.css("cursor","auto"),w&&(w.removeClass(m.node.TMPTARGET_TREE),A&&e("#"+A+m.id.A,w).removeClass(m.node.TMPTARGET_NODE+"_"+m.move.TYPE_PREV).removeClass(m.node.TMPTARGET_NODE+"_"+t.move.TYPE_NEXT).removeClass(m.node.TMPTARGET_NODE+"_"+t.move.TYPE_INNER)),v.showIfameMask(d,!1),h.showHoverDom=!0,0!=c.dragFlag){c.dragFlag=0;var s,l,u;for(s=0,l=f.length;s<l;s++)u=f[s],u.isParent&&c.dragNodeShowBefore[u.tId]&&!u.open&&(y.expandCollapseNode(d,u,!u.open),delete c.dragNodeShowBefore[u.tId]);b&&b.remove(),g&&g.remove();var p=(a.ctrlKey||a.metaKey)&&d.edit.drag.isMove&&d.edit.drag.isCopy||!d.edit.drag.isMove&&d.edit.drag.isCopy;if(!p&&w&&A&&f[0].parentTId&&A==f[0].parentTId&&L==m.move.TYPE_INNER&&(w=null),w){var x=null==A?null:k.getNodeCache(S,A);if(0==v.apply(d.callback.beforeDrop,[S.treeId,f,x,L,p],!0))return void y.selectNodes(P,f);var T=p?v.clone(f):f;L==m.move.TYPE_INNER&&v.canAsync(S,x)?y.asyncNode(S,x,!1,n):n()}else y.selectNodes(P,f),d.treeObj.trigger(m.event.DROP,[a,d.treeId,f,null,null,null])}}function r(){return!1}var s,l,d=k.getSetting(a.data.treeId),c=k.getRoot(d),h=k.getRoots();if(2==a.button||!d.edit.enable||!d.edit.drag.isCopy&&!d.edit.drag.isMove)return!0;var u=a.target,p=k.getRoot(d).curSelectedList,f=[];if(k.isSelectedNode(d,n))for(s=0,l=p.length;s<l;s++){if(p[s].editNameFlag&&v.eqs(u.tagName,"input")&&null!==u.getAttribute("treeNode"+m.id.INPUT))return!0;if(f.push(p[s]),f[0].parentTId!==p[s].parentTId){f=[n];break}}else f=[n];y.editNodeBlur=!0,y.cancelCurEditNode(d);var b,g,w,x,T,N=e(d.treeObj.get(0).ownerDocument),D=e(d.treeObj.get(0).ownerDocument.body),I=!1,S=d,P=d,E=null,B=null,A=null,L=m.move.TYPE_INNER,R=a.clientX,$=a.clientY,M=(new Date).getTime();return v.uCanDo(d)&&N.bind("mousemove",i),N.bind("mouseup",o),N.bind("selectstart",r),a.preventDefault&&a.preventDefault(),!0}},p={getAbs:function(e){var t=e.getBoundingClientRect(),a=document.body.scrollTop+document.documentElement.scrollTop,n=document.body.scrollLeft+document.documentElement.scrollLeft;return[t.left+n,t.top+a]},inputFocus:function(e){e.get(0)&&(e.focus(),v.setCursorPosition(e.get(0),e.val().length))},inputSelect:function(e){e.get(0)&&(e.focus(),e.select())},setCursorPosition:function(e,t){if(e.setSelectionRange)e.focus(),e.setSelectionRange(t,t);else if(e.createTextRange){var a=e.createTextRange();a.collapse(!0),a.moveEnd("character",t),a.moveStart("character",t),a.select()}},showIfameMask:function(e,t){for(var a=k.getRoot(e);a.dragMaskList.length>0;)a.dragMaskList[0].remove(),a.dragMaskList.shift();if(t)for(var n=C("iframe",e),i=0,o=n.length;i<o;i++){var r=n.get(i),s=v.getAbs(r),l=C("<div id='zTreeMask_"+i+"' class='zTreeMask' style='top:"+s[1]+"px; left:"+s[0]+"px; width:"+r.offsetWidth+"px; height:"+r.offsetHeight+"px;'></div>",e);l.appendTo(C("body",e)),a.dragMaskList.push(l)}}},f={addEditBtn:function(e,t){if(!(t.editNameFlag||C(t,m.id.EDIT,e).length>0)&&v.apply(e.edit.showRenameBtn,[e.treeId,t],e.edit.showRenameBtn)){var a=C(t,m.id.A,e),n="<span class='"+m.className.BUTTON+" edit' id='"+t.tId+m.id.EDIT+"' title='"+v.apply(e.edit.renameTitle,[e.treeId,t],e.edit.renameTitle)+"' treeNode"+m.id.EDIT+" style='display:none;'></span>";a.append(n),C(t,m.id.EDIT,e).bind("click",function(){return!(!v.uCanDo(e)||0==v.apply(e.callback.beforeEditName,[e.treeId,t],!0))&&(y.editNode(e,t),!1)}).show()}},addRemoveBtn:function(e,t){if(!(t.editNameFlag||C(t,m.id.REMOVE,e).length>0)&&v.apply(e.edit.showRemoveBtn,[e.treeId,t],e.edit.showRemoveBtn)){var a=C(t,m.id.A,e),n="<span class='"+m.className.BUTTON+" remove' id='"+t.tId+m.id.REMOVE+"' title='"+v.apply(e.edit.removeTitle,[e.treeId,t],e.edit.removeTitle)+"' treeNode"+m.id.REMOVE+" style='display:none;'></span>";a.append(n),C(t,m.id.REMOVE,e).bind("click",function(){return!(!v.uCanDo(e)||0==v.apply(e.callback.beforeRemove,[e.treeId,t],!0))&&(y.removeNode(e,t),e.treeObj.trigger(m.event.REMOVE,[e.treeId,t]),!1)}).bind("mousedown",function(e){return!0}).show()}},addHoverDom:function(e,t){k.getRoots().showHoverDom&&(t.isHover=!0,e.edit.enable&&(y.addEditBtn(e,t),y.addRemoveBtn(e,t)),v.apply(e.view.addHoverDom,[e.treeId,t]))},cancelCurEditNode:function(e,t,a){var n=k.getRoot(e),i=e.data.key.name,o=n.curEditNode;if(o){var r=n.curEditInput,s=t||(a?o[i]:r.val());if(!1===v.apply(e.callback.beforeRename,[e.treeId,o,s,a],!0))return!1;o[i]=s;C(o,m.id.A,e).removeClass(m.node.CURSELECTED_EDIT),r.unbind(),y.setNodeName(e,o),o.editNameFlag=!1,n.curEditNode=null,n.curEditInput=null,y.selectNode(e,o,!1),e.treeObj.trigger(m.event.RENAME,[e.treeId,o,a])}return n.noSelection=!0,!0},editNode:function(e,t){var a=k.getRoot(e);if(y.editNodeBlur=!1,k.isSelectedNode(e,t)&&a.curEditNode==t&&t.editNameFlag)return void setTimeout(function(){v.inputFocus(a.curEditInput)},0);var n=e.data.key.name;t.editNameFlag=!0,y.removeTreeDom(e,t),y.cancelCurEditNode(e),y.selectNode(e,t,!1),C(t,m.id.SPAN,e).html("<input type=text class='rename' id='"+t.tId+m.id.INPUT+"' treeNode"+m.id.INPUT+" >");var i=C(t,m.id.INPUT,e);i.attr("value",t[n]),e.edit.editNameSelectAll?v.inputSelect(i):v.inputFocus(i),i.bind("blur",function(t){y.editNodeBlur||y.cancelCurEditNode(e)}).bind("keydown",function(t){"13"==t.keyCode?(y.editNodeBlur=!0,y.cancelCurEditNode(e)):"27"==t.keyCode&&y.cancelCurEditNode(e,null,!0)}).bind("click",function(e){return!1}).bind("dblclick",function(e){return!1}),C(t,m.id.A,e).addClass(m.node.CURSELECTED_EDIT),a.curEditInput=i,a.noSelection=!1,a.curEditNode=t},moveNode:function(e,t,a,n,i,o){var r=k.getRoot(e),s=e.data.key.children;if(t!=a&&(!e.data.keep.leaf||!t||t.isParent||n!=m.move.TYPE_INNER)){var l=a.parentTId?a.getParentNode():r,d=null===t||t==r;d&&null===t&&(t=r),d&&(n=m.move.TYPE_INNER);var c=t.parentTId?t.getParentNode():r;n!=m.move.TYPE_PREV&&n!=m.move.TYPE_NEXT&&(n=m.move.TYPE_INNER),n==m.move.TYPE_INNER&&(d?a.parentTId=null:(t.isParent||(t.isParent=!0,t.open=!!t.open,y.setNodeLineIcos(e,t)),a.parentTId=t.tId));var h,u;if(d)h=e.treeObj,u=h;else{if(o||n!=m.move.TYPE_INNER?o||y.expandCollapseNode(e,t.getParentNode(),!0,!1):y.expandCollapseNode(e,t,!0,!1),h=C(t,e),u=C(t,m.id.UL,e),h.get(0)&&!u.get(0)){var p=[];y.makeUlHtml(e,t,p,""),h.append(p.join(""))}u=C(t,m.id.UL,e)}var f=C(a,e);f.get(0)?h.get(0)||f.remove():f=y.appendNodes(e,a.level,[a],null,-1,!1,!0).join(""),u.get(0)&&n==m.move.TYPE_INNER?u.append(f):h.get(0)&&n==m.move.TYPE_PREV?h.before(f):h.get(0)&&n==m.move.TYPE_NEXT&&h.after(f);var b,g,v=-1,w=0,x=null,T=null,N=a.level;if(a.isFirstNode)v=0,l[s].length>1&&(x=l[s][1],x.isFirstNode=!0);else if(a.isLastNode)v=l[s].length-1,x=l[s][v-1],x.isLastNode=!0;else for(b=0,g=l[s].length;b<g;b++)if(l[s][b].tId==a.tId){v=b;break}if(v>=0&&l[s].splice(v,1),n!=m.move.TYPE_INNER)for(b=0,g=c[s].length;b<g;b++)c[s][b].tId==t.tId&&(w=b);if(n==m.move.TYPE_INNER?(t[s]||(t[s]=new Array),t[s].length>0&&(T=t[s][t[s].length-1],T.isLastNode=!1),t[s].splice(t[s].length,0,a),a.isLastNode=!0,a.isFirstNode=1==t[s].length):t.isFirstNode&&n==m.move.TYPE_PREV?(c[s].splice(w,0,a),T=t,T.isFirstNode=!1,a.parentTId=t.parentTId,a.isFirstNode=!0,a.isLastNode=!1):t.isLastNode&&n==m.move.TYPE_NEXT?(c[s].splice(w+1,0,a),T=t,T.isLastNode=!1,a.parentTId=t.parentTId,a.isFirstNode=!1,a.isLastNode=!0):(n==m.move.TYPE_PREV?c[s].splice(w,0,a):c[s].splice(w+1,0,a),a.parentTId=t.parentTId,a.isFirstNode=!1,a.isLastNode=!1),k.fixPIdKeyValue(e,a),k.setSonNodeLevel(e,a.getParentNode(),a),y.setNodeLineIcos(e,a),y.repairNodeLevelClass(e,a,N),!e.data.keep.parent&&l[s].length<1){l.isParent=!1,l.open=!1;var D=C(l,m.id.UL,e),I=C(l,m.id.SWITCH,e),S=C(l,m.id.ICON,e);y.replaceSwitchClass(l,I,m.folder.DOCU),y.replaceIcoClass(l,S,m.folder.DOCU),D.css("display","none")}else x&&y.setNodeLineIcos(e,x);T&&y.setNodeLineIcos(e,T),e.check&&e.check.enable&&y.repairChkClass&&(y.repairChkClass(e,l),y.repairParentChkClassWithSelf(e,l),l!=a.parent&&y.repairParentChkClassWithSelf(e,a)),o||y.expandCollapseParentNode(e,a.getParentNode(),!0,i)}},removeEditBtn:function(e,t){C(t,m.id.EDIT,e).unbind().remove()},removeRemoveBtn:function(e,t){C(t,m.id.REMOVE,e).unbind().remove()},removeTreeDom:function(e,t){t.isHover=!1,y.removeEditBtn(e,t),y.removeRemoveBtn(e,t),v.apply(e.view.removeHoverDom,[e.treeId,t])},repairNodeLevelClass:function(e,t,a){if(a!==t.level){var n=C(t,e),i=C(t,m.id.A,e),o=C(t,m.id.UL,e),r=m.className.LEVEL+a,s=m.className.LEVEL+t.level;n.removeClass(r),n.addClass(s),i.removeClass(r),i.addClass(s),o.removeClass(r),o.addClass(s)}},selectNodes:function(e,t){for(var a=0,n=t.length;a<n;a++)y.selectNode(e,t[a],a>0)}},b={tools:p,view:f,event:h,data:c};e.extend(!0,e.fn.zTree.consts,t),e.extend(!0,e.fn.zTree._z,b);var g=e.fn.zTree,v=g._z.tools,m=g.consts,y=g._z.view,k=g._z.data,C=(g._z.event,v.$);k.exSetting(a),k.addInitBind(o),k.addInitUnBind(r),k.addInitCache(i),k.addInitNode(l),k.addInitProxy(s),k.addInitRoot(n),k.addZTreeTools(d);var w=y.cancelPreSelectedNode;y.cancelPreSelectedNode=function(e,t){for(var a=k.getRoot(e).curSelectedList,n=0,i=a.length;n<i&&(t&&t!==a[n]||(y.removeTreeDom(e,a[n]),!t));n++);w&&w.apply(y,arguments)};var x=y.createNodes;y.createNodes=function(e,t,a,n,i){x&&x.apply(y,arguments),a&&y.repairParentChkClassWithSelf&&y.repairParentChkClassWithSelf(e,n)};var T=y.makeNodeUrl;y.makeNodeUrl=function(e,t){return e.edit.enable?null:T.apply(y,arguments)};var N=y.removeNode;y.removeNode=function(e,t){var a=k.getRoot(e);a.curEditNode===t&&(a.curEditNode=null),N&&N.apply(y,arguments)};var D=y.selectNode;y.selectNode=function(e,t,a){var n=k.getRoot(e);return(!k.isSelectedNode(e,t)||n.curEditNode!=t||!t.editNameFlag)&&(D&&D.apply(y,arguments),y.addHoverDom(e,t),!0)};var I=v.uCanDo;v.uCanDo=function(e,t){var a=k.getRoot(e);return!(!t||!(v.eqs(t.type,"mouseover")||v.eqs(t.type,"mouseout")||v.eqs(t.type,"mousedown")||v.eqs(t.type,"mouseup")))||(a.curEditNode&&(y.editNodeBlur=!1,a.curEditInput.focus()),!a.curEditNode&&(!I||I.apply(y,arguments)))}}(jQuery),function(e){var t=function(e,t,a,n,i,o,r){"string"==typeof a.isHidden&&(a.isHidden=l.eqs(a.isHidden,"true")),a.isHidden=!!a.isHidden,h.initHideForExCheck(e,a)},a=function(e,t,a){},n=function(e,t){t.showNodes=function(t,a){c.showNodes(e,t,a)},t.showNode=function(t,a){t&&c.showNodes(e,[t],a)},t.hideNodes=function(t,a){c.hideNodes(e,t,a)},t.hideNode=function(t,a){t&&c.hideNodes(e,[t],a)};var a=t.checkNode;a&&(t.checkNode=function(e,n,i,o){e&&e.isHidden||a.apply(t,arguments)})},i={initHideForExCheck:function(e,t){t.isHidden&&e.check&&e.check.enable&&(void 0===t._nocheck&&(t._nocheck=!!t.nocheck,t.nocheck=!0),t.check_Child_State=-1,c.repairParentChkClassWithSelf&&c.repairParentChkClassWithSelf(e,t))},initShowForExCheck:function(e,t){if(!t.isHidden&&e.check&&e.check.enable){if(void 0!==t._nocheck&&(t.nocheck=t._nocheck,delete t._nocheck),c.setChkClass){var a=u(t,d.id.CHECK,e);c.setChkClass(e,a,t)}c.repairParentChkClassWithSelf&&c.repairParentChkClassWithSelf(e,t)}}},o={clearOldFirstNode:function(e,t){for(var a=t.getNextNode();a;){if(a.isFirstNode){a.isFirstNode=!1,c.setNodeLineIcos(e,a);break}if(a.isLastNode)break;a=a.getNextNode()}},clearOldLastNode:function(e,t,a){for(var n=t.getPreNode();n;){if(n.isLastNode){n.isLastNode=!1,a&&c.setNodeLineIcos(e,n);break}if(n.isFirstNode)break;n=n.getPreNode()}},makeDOMNodeMainBefore:function(e,t,a){e.push("<li ",a.isHidden?"style='display:none;' ":"","id='",a.tId,"' class='",d.className.LEVEL,a.level,"' tabindex='0' hidefocus='true' treenode>")},showNode:function(e,t,a){t.isHidden=!1,h.initShowForExCheck(e,t),u(t,e).show()},showNodes:function(e,t,a){if(t&&0!=t.length){var n,i,o={};for(n=0,i=t.length;n<i;n++){var r=t[n];if(!o[r.parentTId]){var s=r.getParentNode();o[r.parentTId]=null===s?h.getRoot(e):r.getParentNode()}c.showNode(e,r,a)}for(var l in o){var d=o[l][e.data.key.children];c.setFirstNodeForShow(e,d),c.setLastNodeForShow(e,d)}}},hideNode:function(e,t,a){t.isHidden=!0,t.isFirstNode=!1,t.isLastNode=!1,h.initHideForExCheck(e,t),c.cancelPreSelectedNode(e,t),u(t,e).hide()},hideNodes:function(e,t,a){if(t&&0!=t.length){var n,i,o={};for(n=0,i=t.length;n<i;n++){var r=t[n];if((r.isFirstNode||r.isLastNode)&&!o[r.parentTId]){var s=r.getParentNode();o[r.parentTId]=null===s?h.getRoot(e):r.getParentNode()}c.hideNode(e,r,a)}for(var l in o){var d=o[l][e.data.key.children];c.setFirstNodeForHide(e,d),c.setLastNodeForHide(e,d)}}},setFirstNode:function(e,t){var a=e.data.key.children,n=t[a].length;n>0&&!t[a][0].isHidden?t[a][0].isFirstNode=!0:n>0&&c.setFirstNodeForHide(e,t[a])},setLastNode:function(e,t){var a=e.data.key.children,n=t[a].length;n>0&&!t[a][0].isHidden?t[a][n-1].isLastNode=!0:n>0&&c.setLastNodeForHide(e,t[a])},setFirstNodeForHide:function(e,t){var a,n,i;for(n=0,i=t.length;n<i&&(a=t[n],!a.isFirstNode);n++){if(!a.isHidden&&!a.isFirstNode){a.isFirstNode=!0,c.setNodeLineIcos(e,a);break}a=null}return a},setFirstNodeForShow:function(e,t){var a,n,i,o,r;for(n=0,i=t.length;n<i;n++){if(a=t[n],!o&&!a.isHidden&&a.isFirstNode){o=a;break}if(o||a.isHidden||a.isFirstNode){if(o&&a.isFirstNode){a.isFirstNode=!1,r=a,c.setNodeLineIcos(e,a);break}a=null}else a.isFirstNode=!0,o=a,c.setNodeLineIcos(e,a)}return{new:o,old:r}},setLastNodeForHide:function(e,t){var a,n;for(n=t.length-1;n>=0&&(a=t[n],!a.isLastNode);n--){if(!a.isHidden&&!a.isLastNode){a.isLastNode=!0,c.setNodeLineIcos(e,a);break}a=null}return a},setLastNodeForShow:function(e,t){var a,n,i,o;for(n=t.length-1;n>=0;n--){if(a=t[n],!i&&!a.isHidden&&a.isLastNode){i=a;break}if(i||a.isHidden||a.isLastNode){if(i&&a.isLastNode){a.isLastNode=!1,o=a,c.setNodeLineIcos(e,a);break}a=null}else a.isLastNode=!0,i=a,c.setNodeLineIcos(e,a)}return{new:i,old:o}}},r={view:o,data:i};e.extend(!0,e.fn.zTree._z,r);var s=e.fn.zTree,l=s._z.tools,d=s.consts,c=s._z.view,h=s._z.data,u=(s._z.event,l.$);h.addInitNode(t),h.addBeforeA(a),h.addZTreeTools(n);var p=h.initNode;h.initNode=function(e,t,a,n,i,o,r){var s=n||h.getRoot(e),l=s[e.data.key.children];h.tmpHideFirstNode=c.setFirstNodeForHide(e,l),h.tmpHideLastNode=c.setLastNodeForHide(e,l),r&&(c.setNodeLineIcos(e,h.tmpHideFirstNode),c.setNodeLineIcos(e,h.tmpHideLastNode)),h.tmpHideFirstNode,o=h.tmpHideLastNode===a,p&&p.apply(h,arguments),r&&o&&c.clearOldLastNode(e,a,r)};var f=h.makeChkFlag;f&&(h.makeChkFlag=function(e,t){t&&t.isHidden||f.apply(h,arguments)});var b=h.getTreeCheckedNodes;b&&(h.getTreeCheckedNodes=function(e,t,a,n){if(t&&t.length>0){var i=t[0].getParentNode();if(i&&i.isHidden)return[]}return b.apply(h,arguments)});var g=h.getTreeChangeCheckedNodes;g&&(h.getTreeChangeCheckedNodes=function(e,t,a){if(t&&t.length>0){var n=t[0].getParentNode();if(n&&n.isHidden)return[]}return g.apply(h,arguments)});var v=c.expandCollapseSonNode;v&&(c.expandCollapseSonNode=function(e,t,a,n,i){t&&t.isHidden||v.apply(c,arguments)});var m=c.setSonNodeCheckBox;m&&(c.setSonNodeCheckBox=function(e,t,a,n){t&&t.isHidden||m.apply(c,arguments)});var y=c.repairParentChkClassWithSelf;y&&(c.repairParentChkClassWithSelf=function(e,t){t&&t.isHidden||y.apply(c,arguments)})}(jQuery),function(e,t){"use strict";if(!t)throw new Error("bootstrap-datetimepicker requires Moment.js to be loaded first");var a=function(a,n){var i,o,r,s,l,d,c,h={},u=!0,p=!1,f=!1,b=0,g=[{clsName:"days",navFnc:"M",navStep:1},{clsName:"months",navFnc:"y",navStep:1},{clsName:"years",navFnc:"y",navStep:10},{clsName:"decades",navFnc:"y",navStep:100}],v=["days","months","years","decades"],m=["top","bottom","auto"],y=["left","right","auto"],k=["default","top","bottom"],C={up:38,38:"up",down:40,40:"down",left:37,37:"left",right:39,39:"right",tab:9,9:"tab",escape:27,27:"escape",enter:13,13:"enter",pageUp:33,33:"pageUp",pageDown:34,34:"pageDown",shift:16,16:"shift",control:17,17:"control",space:32,32:"space",t:84,84:"t",delete:46,46:"delete"},w={},x=function(e){var a,i,o,r,s,l=!1;return void 0!==t.tz&&void 0!==n.timeZone&&null!==n.timeZone&&""!==n.timeZone&&(l=!0),void 0===e||null===e?a=l?t().tz(n.timeZone).startOf("d"):t().startOf("m"):l?(i=t().tz(n.timeZone).utcOffset(),o=t(e,d,n.locale,n.useStrict).utcOffset(),o!==i?(r=t().tz(n.timeZone).format("Z"),s=t(e,d,n.locale,n.useStrict).format("YYYY-MM-DD[T]HH:mm:ss")+r,a=t(s,d,n.useStrict).tz(n.timeZone)):a=t(e,d,n.locale,n.useStrict).tz(n.timeZone)):a=t(e,d,n.locale,n.useStrict),a},T=function(e){if("string"!=typeof e||e.length>1)throw new TypeError("isEnabled expects a single character string parameter");switch(e){case"y":return-1!==l.indexOf("Y");case"M":return-1!==l.indexOf("M");case"d":return-1!==l.toLowerCase().indexOf("d");case"h":case"H":return-1!==l.toLowerCase().indexOf("h");case"m":return-1!==l.indexOf("m");case"s":return-1!==l.indexOf("s");default:return!1}},N=function(){return T("h")||T("m")||T("s")},D=function(){return T("y")||T("M")||T("d")},I=function(){var t=e("<thead>").append(e("<tr>").append(e("<th>").addClass("bhtc-prev").attr("data-action","previous").append(e("<span>").addClass(n.icons.previous))).append(e("<th>").addClass("bhtc-picker-switch").attr("data-action","pickerSwitch").attr("colspan",n.calendarWeeks?"6":"5")).append(e("<th>").addClass("bhtc-next").attr("data-action","next").append(e("<span>").addClass(n.icons.next)))),a=e("<tbody>").append(e("<tr>").append(e("<td>").attr("colspan",n.calendarWeeks?"8":"7")));return[e("<div>").addClass("bhtc-datepicker-days").append(e("<table>").addClass("table-condensed").append(t).append(e("<tbody>"))),e("<div>").addClass("bhtc-datepicker-months").append(e("<table>").addClass("table-condensed").append(t.clone()).append(a.clone())),e("<div>").addClass("bhtc-datepicker-years").append(e("<table>").addClass("table-condensed").append(t.clone()).append(a.clone())),e("<div>").addClass("bhtc-datepicker-decades").append(e("<table>").addClass("table-condensed").append(t.clone()).append(a.clone()))]},S=function(){var t=e("<tr>"),a=e("<tr>"),i=e("<tr>");return T("h")&&(t.append(e("<td>").append(e("<a>").attr({href:"#",tabindex:"-1",title:n.tooltips.incrementHour}).addClass("bhtc-btn").attr("data-action","incrementHours").append(e("<span>").addClass(n.icons.up)))),a.append(e("<td>").append(e("<span>").addClass("bhtc-timepicker-hour").attr({"data-time-component":"hours",title:n.tooltips.pickHour}).attr("data-action","showHours"))),i.append(e("<td>").append(e("<a>").attr({href:"#",tabindex:"-1",title:n.tooltips.decrementHour}).addClass("bhtc-btn").attr("data-action","decrementHours").append(e("<span>").addClass(n.icons.down))))),T("m")&&(T("h")&&(t.append(e("<td>").addClass("separator")),a.append(e("<td>").addClass("separator").html(":")),i.append(e("<td>").addClass("separator"))),t.append(e("<td>").append(e("<a>").attr({href:"#",tabindex:"-1",title:n.tooltips.incrementMinute}).addClass("bhtc-btn").attr("data-action","incrementMinutes").append(e("<span>").addClass(n.icons.up)))),a.append(e("<td>").append(e("<span>").addClass("bhtc-timepicker-minute").attr({"data-time-component":"minutes",title:n.tooltips.pickMinute}).attr("data-action","showMinutes"))),i.append(e("<td>").append(e("<a>").attr({href:"#",tabindex:"-1",title:n.tooltips.decrementMinute}).addClass("bhtc-btn").attr("data-action","decrementMinutes").append(e("<span>").addClass(n.icons.down))))),T("s")&&(T("m")&&(t.append(e("<td>").addClass("separator")),a.append(e("<td>").addClass("separator").html(":")),i.append(e("<td>").addClass("separator"))),t.append(e("<td>").append(e("<a>").attr({href:"#",tabindex:"-1",title:n.tooltips.incrementSecond}).addClass("bhtc-btn").attr("data-action","incrementSeconds").append(e("<span>").addClass(n.icons.up)))),a.append(e("<td>").append(e("<span>").addClass("bhtc-timepicker-second").attr({"data-time-component":"seconds",title:n.tooltips.pickSecond}).attr("data-action","showSeconds"))),i.append(e("<td>").append(e("<a>").attr({href:"#",tabindex:"-1",title:n.tooltips.decrementSecond}).addClass("bhtc-btn").attr("data-action","decrementSeconds").append(e("<span>").addClass(n.icons.down))))),e("<div>").addClass("bhtc-timepicker-picker").append(e("<table>").addClass("table-condensed").append([t,a,i])).append(e("<div>").addClass("bhtc-toggle-period").append(e('<button style="display: none;">').addClass("bh-btn bh-btn-primary").attr({"data-action":"togglePeriod",tabindex:"-1",title:n.tooltips.togglePeriod})))},P=function(){var t=e("<div>").addClass("bhtc-timepicker-hours").append(e("<table>").addClass("table-condensed")),a=e("<div>").addClass("bhtc-timepicker-minutes").append(e("<table>").addClass("table-condensed")),n=e("<div>").addClass("bhtc-timepicker-seconds").append(e("<table>").addClass("table-condensed")),i=[S()];return T("h")&&i.push(t),T("m")&&i.push(a),T("s")&&i.push(n),i},E=function(){var t=[];return n.showTodayButton&&t.push(e("<td>").append(e("<a>").attr({"data-action":"today",title:n.tooltips.today}).append(e("<span>").addClass(n.icons.today)))),!n.sideBySide&&D()&&N()&&t.push(e("<td>").append(e("<a>").attr({"data-action":"togglePicker",title:n.tooltips.selectTime}).append(e("<span>").addClass(n.icons.time)))),n.showClear&&t.push(e("<td>").append(e("<a>").attr({"data-action":"clear",title:n.tooltips.clear}).append(e("<span>").addClass(n.icons.clear)))),n.showClose&&t.push(e("<td>").append(e("<a>").attr({"data-action":"close",title:n.tooltips.close}).append(e("<span>").addClass(n.icons.close)))),e("<table>").addClass("table-condensed").append(e("<tbody>").append(e("<tr>").append(t)))},B=function(){var t=e("<div>").addClass("bhtc-datetimepicker-widget bhtc-dropdown-menu"),a=e("<div>").addClass("bhtc-datepicker").append(I()),i=e("<div>").addClass("bhtc-timepicker").append(P()),o=e("<ul>").addClass("bhtc-list-unstyled"),r=e("<li>").addClass("bhtc-picker-switch"+(n.collapse?" accordion-toggle":"")).append(E());return n.inline&&t.removeClass("bhtc-dropdown-menu"),s&&t.addClass("bhtc-usetwentyfour"),T("s")&&!s&&t.addClass("wider"),n.sideBySide&&D()&&N()?(t.addClass("bhtc-timepicker-sbs"),"top"===n.toolbarPlacement&&t.append(r),t.append(e("<div>").addClass("row").append(a.addClass("col-md-6")).append(i.addClass("col-md-6"))),"bottom"===n.toolbarPlacement&&t.append(r),t):("top"===n.toolbarPlacement&&o.append(r),D()&&o.append(e("<li>").addClass(n.collapse&&N()?"bhtc-collapse in":"").append(a)),"default"===n.toolbarPlacement&&o.append(r),N()&&o.append(e("<li>").addClass(n.collapse&&D()?"bhtc-collapse":"").append(i)),"bottom"===n.toolbarPlacement&&o.append(r),t.append(o))},A=function(){var t,i=(a.position(),a.offset()),o=n.widgetPositioning.vertical,r=n.widgetPositioning.horizontal;if(n.widgetParent)t=n.widgetParent;else if(a.is("input"))t=a.parent();else{if(n.inline)return void(t=a);t=a}if(e("body").append(f),"auto"===o&&(o=i.top+1.5*f.height()>=e(window).height()+e(window).scrollTop()&&f.height()+a.outerHeight()<i.top?"top":"bottom"),"auto"===r&&(r=t.width()<i.left+f.outerWidth()/2&&i.left+f.outerWidth()>e(window).width()?"right":"left"),"top"===o?f.addClass("bhtc-top").removeClass("bhtc-bottom"):f.addClass("bhtc-bottom").removeClass("bhtc-top"),"right"===r?f.addClass("bhtc-pull-right"):f.removeClass("bhtc-pull-right"),"relative"!==t.css("position")&&(t=t.parents().filter(function(){return"relative"===e(this).css("position")}).first()),0===t.length)throw new Error("datetimepicker component should be placed within a relative positioned container");f.css({top:"top"===o?i.top-f.outerHeight()-8:i.top+a.outerHeight()+8,left:"left"===r?t===a?0:i.left:"auto",right:"left"===r?"auto":t.outerWidth()-a.outerWidth()-(t===a?0:-(e("body").width()-i.left-a.outerWidth()))})},L=function(e){"dp.change"===e.type&&(e.date&&e.date.isSame(e.oldDate)||!e.date&&!e.oldDate)||a.trigger(e)},R=function(e){"y"===e&&(e="YYYY"),L({type:"dp.update",change:e,viewDate:o.clone()})},$=function(e){f&&(e&&(c=Math.max(b,Math.min(3,c+e))),f.find(".bhtc-datepicker > div").hide().filter(".bhtc-datepicker-"+g[c].clsName).show())},M=function(){var t=e("<tr>"),a=o.clone().startOf("w").startOf("d");!0===n.calendarWeeks&&t.append(e("<th>").addClass("bhtc-cw").text("#"));for(var i=0;a.isBefore(o.clone().endOf("w"))&&i<7;)i++,t.append(e("<th>").addClass("dow").text(a.format("dd"))),a.add(1,"d");f.find(".bhtc-datepicker-days thead").append(t)},H=function(e){return!0===n.disabledDates[e.format("YYYY-MM-DD")]},O=function(e){return!0===n.enabledDates[e.format("YYYY-MM-DD")]},_=function(e){return!0===n.disabledHours[e.format("H")]},z=function(e){return!0===n.enabledHours[e.format("H")]},j=function(t,a){if(!t.isValid())return!1;if(n.disabledDates&&"d"===a&&H(t))return!1;if(n.enabledDates&&"d"===a&&!O(t))return!1;if(n.minDate&&t.isBefore(n.minDate,a))return!1;if(n.maxDate&&t.isAfter(n.maxDate,a))return!1;if(n.daysOfWeekDisabled&&"d"===a&&-1!==n.daysOfWeekDisabled.indexOf(t.day()))return!1;if(n.disabledHours&&("h"===a||"m"===a||"s"===a)&&_(t))return!1;if(n.enabledHours&&("h"===a||"m"===a||"s"===a)&&!z(t))return!1;if(n.disabledTimeIntervals&&("h"===a||"m"===a||"s"===a)){var i=!1;if(e.each(n.disabledTimeIntervals,function(){if(t.isBetween(this[0],this[1]))return i=!0,!1}),i)return!1}return!0},F=function(){for(var t=[],a=o.clone().startOf("y").startOf("d");a.isSame(o,"y");)t.push(e("<span>").attr("data-action","selectMonth").addClass("month").text(a.format("MMM"))),a.add(1,"M");f.find(".bhtc-datepicker-months td").empty().append(t)},U=function(){var t=f.find(".bhtc-datepicker-months"),a=t.find("th"),r=t.find("tbody").find("span");a.eq(0).find("span").attr("title",n.tooltips.prevYear),a.eq(1).attr("title",n.tooltips.selectYear),a.eq(2).find("span").attr("title",n.tooltips.nextYear),t.find(".bhtc-disabled").removeClass("bhtc-disabled"),j(o.clone().subtract(1,"y"),"y")||a.eq(0).addClass("bhtc-disabled"),a.eq(1).text(o.year()),j(o.clone().add(1,"y"),"y")||a.eq(2).addClass("bhtc-disabled"),r.removeClass("bhtc-active"),i.isSame(o,"y")&&!u&&r.eq(i.month()).addClass("bhtc-active"),r.each(function(t){j(o.clone().month(t),"M")||e(this).addClass("bhtc-disabled")})},Y=function(){var e=f.find(".bhtc-datepicker-years"),t=e.find("th"),a=o.clone().subtract(5,"y"),r=o.clone().add(6,"y"),s="";for(t.eq(0).find("span").attr("title",n.tooltips.prevDecade),t.eq(1).attr("title",n.tooltips.selectDecade),t.eq(2).find("span").attr("title",n.tooltips.nextDecade),e.find(".bhtc-disabled").removeClass("bhtc-disabled"),n.minDate&&n.minDate.isAfter(a,"y")&&t.eq(0).addClass("bhtc-disabled"),t.eq(1).text(a.year()+"-"+r.year()),n.maxDate&&n.maxDate.isBefore(r,"y")&&t.eq(2).addClass("bhtc-disabled");!a.isAfter(r,"y");)s+='<span data-action="selectYear" class="year'+(a.isSame(i,"y")&&!u?" bhtc-active":"")+(j(a,"y")?"":" bhtc-disabled")+'">'+a.year()+"</span>",a.add(1,"y");e.find("td").html(s)},W=function(){var e=f.find(".bhtc-datepicker-decades"),a=e.find("th"),r=t({y:o.year()-o.year()%100-1}),s=r.clone().add(100,"y"),l=r.clone(),d="";for(a.eq(0).find("span").attr("title",n.tooltips.prevCentury),a.eq(2).find("span").attr("title",n.tooltips.nextCentury),e.find(".bhtc-disabled").removeClass("bhtc-disabled"),(r.isSame(t({y:1900}))||n.minDate&&n.minDate.isAfter(r,"y"))&&a.eq(0).addClass("bhtc-disabled"),a.eq(1).text(r.year()+"-"+s.year()),(r.isSame(t({y:2e3}))||n.maxDate&&n.maxDate.isBefore(s,"y"))&&a.eq(2).addClass("bhtc-disabled");!r.isAfter(s,"y");)d+='<span data-action="selectDecade" class="decade'+(r.isSame(i,"y")?" bhtc-active":"")+(j(r,"y")?"":" bhtc-disabled")+'" data-selection="'+(r.year()+6)+'">'+(r.year()+1)+" - "+(r.year()+12)+"</span>",r.add(12,"y");d+="<span></span><span></span><span></span>",e.find("td").html(d),a.eq(1).text(l.year()+1+"-"+r.year())},Q=function(){var t,a,r,s,l=f.find(".bhtc-datepicker-days"),d=l.find("th"),c=[];if(D()){for(d.eq(0).find("span").attr("title",n.tooltips.prevMonth),d.eq(1).attr("title",n.tooltips.selectMonth),d.eq(2).find("span").attr("title",n.tooltips.nextMonth),l.find(".bhtc-disabled").removeClass("bhtc-disabled"),d.eq(1).text(o.format(n.dayViewHeaderFormat)),j(o.clone().subtract(1,"M"),"M")||d.eq(0).addClass("bhtc-disabled"),j(o.clone().add(1,"M"),"M")||d.eq(2).addClass("bhtc-disabled"),t=o.clone().startOf("M").startOf("w").startOf("d"),s=0;s<42;s++)0===t.weekday()&&(a=e("<tr>"),n.calendarWeeks&&a.append('<td class="bhtc-cw">'+t.week()+"</td>"),c.push(a)),r="",t.isBefore(o,"M")&&(r+=" bhtc-old"),t.isAfter(o,"M")&&(r+=" bhtc-new"),t.isSame(i,"d")&&!u&&(r+=" bhtc-active"),j(t,"d")||(r+=" bhtc-disabled"),t.isSame(x(),"d")&&(r+=" today"),0!==t.day()&&6!==t.day()||(r+=" weekend"),a&&a.append('<td data-action="selectDay" data-day="'+t.format("L")+'" class="day'+r+'">'+t.date()+"</td>"),t.add(1,"d");l.find("tbody").empty().append(c),U(),Y(),W()}},q=function(){var t=f.find(".bhtc-timepicker-hours table"),a=o.clone().startOf("d"),n=[],i=e("<tr>");for(o.hour()>11&&!s&&a.hour(12);a.isSame(o,"d")&&(s||o.hour()<12&&a.hour()<12||o.hour()>11);)a.hour()%4==0&&(i=e("<tr>"),n.push(i)),i.append('<td data-action="selectHour" class="hour'+(j(a,"h")?"":" bhtc-disabled")+'">'+a.format(s?"HH":"hh")+"</td>"),a.add(1,"h");t.empty().append(n)},G=function(){for(var t=f.find(".bhtc-timepicker-minutes table"),a=o.clone().startOf("h"),i=[],r=e("<tr>"),s=1===n.stepping?5:n.stepping;o.isSame(a,"h");)a.minute()%(4*s)==0&&(r=e("<tr>"),i.push(r)),r.append('<td data-action="selectMinute" class="minute'+(j(a,"m")?"":" bhtc-disabled")+'">'+a.format("mm")+"</td>"),a.add(s,"m");t.empty().append(i)},V=function(){for(var t=f.find(".bhtc-timepicker-seconds table"),a=o.clone().startOf("m"),n=[],i=e("<tr>");o.isSame(a,"m");)a.second()%20==0&&(i=e("<tr>"),n.push(i)),i.append('<td data-action="selectSecond" class="second'+(j(a,"s")?"":" bhtc-disabled")+'">'+a.format("ss")+"</td>"),a.add(5,"s");t.empty().append(n)},K=function(){var e,t,a=f.find(".bhtc-timepicker span[data-time-component]");s||(e=f.find(".bhtc-timepicker [data-action=togglePeriod]"),t=i.clone().add(i.hours()>=12?-12:12,"h"),e.text(i.format("A")),j(t,"h")?e.removeClass("bhtc-disabled"):e.addClass("bhtc-disabled")),a.filter("[data-time-component=hours]").text(i.format(s?"HH":"hh")),a.filter("[data-time-component=minutes]").text(i.format("mm")),a.filter("[data-time-component=seconds]").text(i.format("ss")),q(),G(),V()},J=function(){f&&(Q(),K())},Z=function(e){var t=u?null:i;if(!e)return u=!0,r.val(""),a.data("date",""),L({type:"dp.change",date:!1,oldDate:t}),void J();e=e.clone().locale(n.locale),1!==n.stepping&&e.minutes(Math.round(e.minutes()/n.stepping)*n.stepping%60).seconds(0),j(e,"d")?(i=e,o=i.clone(),r.val(i.format(l)),a.data("date",i.format(l)),u=!1,J(),L({type:"dp.change",date:i.clone(),oldDate:t})):(n.keepInvalid||r.val(u?"":i.format(l)),L({type:"dp.error",date:e}))},X=function(){var t=!1;return f?(f.find(".bhtc-collapse").each(function(){var a=e(this).data("collapse");return!a||!a.transitioning||(t=!0,!1)}),t?h:(p&&p.hasClass("bhtc-btn")&&p.toggleClass("bhtc-active"),f.hide(),e(window).off("resize",A),f.off("click","[data-action]"),f.off("mousedown",!1),f.remove(),f=!1,L({type:"dp.hide",date:i.clone()}),r.blur(),h)):h},ee=function(){Z(null)},te={next:function(){var e=g[c].navFnc;o.add(g[c].navStep,e),Q(),R(e)},previous:function(){var e=g[c].navFnc;o.subtract(g[c].navStep,e),Q(),R(e)},pickerSwitch:function(){$(1)},selectMonth:function(t){var a=e(t.target).closest("tbody").find("span").index(e(t.target));o.month(a),c===b?(Z(i.clone().year(o.year()).month(o.month())),n.inline||X()):($(-1),Q()),R("M")},selectYear:function(t){var a=parseInt(e(t.target).text(),10)||0;o.year(a),c===b?(Z(i.clone().year(o.year())),n.inline||X()):($(-1),Q()),R("YYYY")},selectDecade:function(t){var a=parseInt(e(t.target).data("selection"),10)||0;o.year(a),c===b?(Z(i.clone().year(o.year())),n.inline||X()):($(-1),Q()),R("YYYY")},selectDay:function(t){var a=o.clone()
;e(t.target).is(".bhtc-old")&&a.subtract(1,"M"),e(t.target).is(".bhtc-new")&&a.add(1,"M"),Z(a.date(parseInt(e(t.target).text(),10))),N()||n.keepOpen||n.inline||X()},incrementHours:function(){var e=i.clone().add(1,"h");j(e,"h")&&Z(e)},incrementMinutes:function(){var e=i.clone().add(n.stepping,"m");j(e,"m")&&Z(e)},incrementSeconds:function(){var e=i.clone().add(1,"s");j(e,"s")&&Z(e)},decrementHours:function(){var e=i.clone().subtract(1,"h");j(e,"h")&&Z(e)},decrementMinutes:function(){var e=i.clone().subtract(n.stepping,"m");j(e,"m")&&Z(e)},decrementSeconds:function(){var e=i.clone().subtract(1,"s");j(e,"s")&&Z(e)},togglePeriod:function(){Z(i.clone().add(i.hours()>=12?-12:12,"h"))},togglePicker:function(t){var a,i=e(t.target),o=i.closest("ul"),r=o.find(".in"),s=o.find(".bhtc-collapse:not(.in)");if(r&&r.length){if((a=r.data("collapse"))&&a.transitioning)return;r.collapse?(r.collapse("hide"),s.collapse("show")):(r.removeClass("in"),s.addClass("in")),i.is("span")?i.toggleClass(n.icons.time+" "+n.icons.date):i.find("span").toggleClass(n.icons.time+" "+n.icons.date)}},showPicker:function(){f.find(".bhtc-timepicker > div:not(.bhtc-timepicker-picker)").hide(),f.find(".bhtc-timepicker .bhtc-timepicker-picker").show()},showHours:function(){f.find(".bhtc-timepicker .bhtc-timepicker-picker").hide(),f.find(".bhtc-timepicker .bhtc-timepicker-hours").show()},showMinutes:function(){f.find(".bhtc-timepicker .bhtc-timepicker-picker").hide(),f.find(".bhtc-timepicker .bhtc-timepicker-minutes").show()},showSeconds:function(){f.find(".bhtc-timepicker .bhtc-timepicker-picker").hide(),f.find(".bhtc-timepicker .bhtc-timepicker-seconds").show()},selectHour:function(t){var a=parseInt(e(t.target).text(),10);s||(i.hours()>=12?12!==a&&(a+=12):12===a&&(a=0)),Z(i.clone().hours(a)),te.showPicker.call(h)},selectMinute:function(t){Z(i.clone().minutes(parseInt(e(t.target).text(),10))),te.showPicker.call(h)},selectSecond:function(t){Z(i.clone().seconds(parseInt(e(t.target).text(),10))),te.showPicker.call(h)},clear:ee,today:function(){var e=x();j(e,"d")&&Z(e)},close:X},ae=function(t){return!e(t.currentTarget).is(".bhtc-disabled")&&(te[e(t.currentTarget).data("action")].apply(h,arguments),!1)},ne=function(){var t,a={year:function(e){return e.month(0).date(1).hours(0).seconds(0).minutes(0)},month:function(e){return e.date(1).hours(0).seconds(0).minutes(0)},day:function(e){return e.hours(0).seconds(0).minutes(0)},hour:function(e){return e.seconds(0).minutes(0)},minute:function(e){return e.seconds(0)}};return r.prop("bhtc-disabled")||!n.ignoreReadonly&&r.prop("readonly")||f?h:(void 0!==r.val()&&0!==r.val().trim().length?Z(oe(r.val().trim())):n.useCurrent&&u&&(r.is("input")&&0===r.val().trim().length||n.inline)&&(t=x(),"string"==typeof n.useCurrent&&(t=a[n.useCurrent](t)),Z(t)),f=B(),M(),F(),f.find(".bhtc-timepicker-hours").hide(),f.find(".bhtc-timepicker-minutes").hide(),f.find(".bhtc-timepicker-seconds").hide(),J(),$(),e(window).on("resize",A),f.on("click","[data-action]",ae),f.on("mousedown",!1),p&&p.hasClass("bhtc-btn")&&p.toggleClass("bhtc-active"),f.show(),A(),n.focusOnShow&&!r.is(":focus")&&r.focus(),L({type:"dp.show"}),h)},ie=function(){return f?X():ne()},oe=function(e){return e=void 0===n.parseInputDate?t.isMoment(e)||e instanceof Date?t(e):x(e):n.parseInputDate(e),e.locale(n.locale),e},re=function(e){var t,a,i,o,r=null,s=[],l={},d=e.which;w[d]="p";for(t in w)w.hasOwnProperty(t)&&"p"===w[t]&&(s.push(t),parseInt(t,10)!==d&&(l[t]=!0));for(t in n.keyBinds)if(n.keyBinds.hasOwnProperty(t)&&"function"==typeof n.keyBinds[t]&&(i=t.split(" "),i.length===s.length&&C[d]===i[i.length-1])){for(o=!0,a=i.length-2;a>=0;a--)if(!(C[i[a]]in l)){o=!1;break}if(o){r=n.keyBinds[t];break}}r&&(r.call(h,f),e.stopPropagation(),e.preventDefault())},se=function(e){w[e.which]="r",e.stopPropagation(),e.preventDefault()},le=function(t){var a=e(t.target).val().trim(),n=a?oe(a):null;return Z(n),t.stopImmediatePropagation(),!1},de=function(){if(r.off({change:le,blur:blur,keydown:re,keyup:se,focus:n.allowInputToggle?X:""}),a.is("input")){r.off({focus:ne});var e=r.closest(".bhtc-input-group").children(".bhtc-input-group-addon");e.length>0&&e.off("click",function(){r.focus()})}else p&&(p.off("click",ie),p.off("mousedown",!1))},ce=function(t){var a={};return e.each(t,function(){var e=oe(this);e.isValid()&&(a[e.format("YYYY-MM-DD")]=!0)}),!!Object.keys(a).length&&a},he=function(t){var a={};return e.each(t,function(){a[this]=!0}),!!Object.keys(a).length&&a},ue=function(){var e=n.format||"L LT";l=e.replace(/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,function(e){return(i.localeData().longDateFormat(e)||e).replace(/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,function(e){return i.localeData().longDateFormat(e)||e})}),d=n.extraFormats?n.extraFormats.slice():[],d.indexOf(e)<0&&d.indexOf(l)<0&&d.push(l),s=l.toLowerCase().indexOf("a")<1&&l.replace(/\[.*?\]/g,"").indexOf("h")<1,T("y")&&(b=2),T("M")&&(b=1),T("d")&&(b=0),c=Math.max(b,c),u||Z(i)};if(h.destroy=function(){X(),de(),a.removeData("DateTimePicker"),a.removeData("date")},h.toggle=ie,h.show=ne,h.hide=X,h.disable=function(){return X(),p&&p.hasClass("bhtc-btn")&&p.addClass("bhtc-disabled"),r.prop("bhtc-disabled",!0),h},h.enable=function(){return p&&p.hasClass("bhtc-btn")&&p.removeClass("bhtc-disabled"),r.prop("bhtc-disabled",!1),h},h.ignoreReadonly=function(e){if(0===arguments.length)return n.ignoreReadonly;if("boolean"!=typeof e)throw new TypeError("ignoreReadonly () expects a boolean parameter");return n.ignoreReadonly=e,h},h.options=function(t){if(0===arguments.length)return e.extend(!0,{},n);if(!(t instanceof Object))throw new TypeError("options() options parameter should be an object");return e.extend(!0,n,t),e.each(n,function(e,t){if(void 0===h[e])throw new TypeError("option "+e+" is not recognized!");h[e](t)}),h},h.date=function(e){if(0===arguments.length)return u?null:i.clone();if(!(null===e||"string"==typeof e||t.isMoment(e)||e instanceof Date))throw new TypeError("date() parameter must be one of [null, string, moment or Date]");return Z(null===e?null:oe(e)),h},h.format=function(e){if(0===arguments.length)return n.format;if("string"!=typeof e&&("boolean"!=typeof e||!1!==e))throw new TypeError("format() expects a sting or boolean:false parameter "+e);return n.format=e,l&&ue(),h},h.timeZone=function(e){return 0===arguments.length?n.timeZone:(n.timeZone=e,h)},h.dayViewHeaderFormat=function(e){if(0===arguments.length)return n.dayViewHeaderFormat;if("string"!=typeof e)throw new TypeError("dayViewHeaderFormat() expects a string parameter");return n.dayViewHeaderFormat=e,h},h.extraFormats=function(e){if(0===arguments.length)return n.extraFormats;if(!1!==e&&!(e instanceof Array))throw new TypeError("extraFormats() expects an array or false parameter");return n.extraFormats=e,d&&ue(),h},h.disabledDates=function(t){if(0===arguments.length)return n.disabledDates?e.extend({},n.disabledDates):n.disabledDates;if(!t)return n.disabledDates=!1,J(),h;if(!(t instanceof Array))throw new TypeError("disabledDates() expects an array parameter");return n.disabledDates=ce(t),n.enabledDates=!1,J(),h},h.enabledDates=function(t){if(0===arguments.length)return n.enabledDates?e.extend({},n.enabledDates):n.enabledDates;if(!t)return n.enabledDates=!1,J(),h;if(!(t instanceof Array))throw new TypeError("enabledDates() expects an array parameter");return n.enabledDates=ce(t),n.disabledDates=!1,J(),h},h.daysOfWeekDisabled=function(e){if(0===arguments.length)return n.daysOfWeekDisabled.splice(0);if("boolean"==typeof e&&!e)return n.daysOfWeekDisabled=!1,J(),h;if(!(e instanceof Array))throw new TypeError("daysOfWeekDisabled() expects an array parameter");if(n.daysOfWeekDisabled=e.reduce(function(e,t){return(t=parseInt(t,10))>6||t<0||isNaN(t)?e:(-1===e.indexOf(t)&&e.push(t),e)},[]).sort(),n.useCurrent&&!n.keepInvalid){for(var t=0;!j(i,"d");){if(i.add(1,"d"),7===t)throw"Tried 7 times to find a valid date";t++}Z(i)}return J(),h},h.maxDate=function(e){if(0===arguments.length)return n.maxDate?n.maxDate.clone():n.maxDate;if("boolean"==typeof e&&!1===e)return n.maxDate=!1,J(),h;"string"==typeof e&&("now"!==e&&"moment"!==e||(e=x()));var t=oe(e);if(!t.isValid())throw new TypeError("maxDate() Could not parse date parameter: "+e);if(n.minDate&&t.isBefore(n.minDate))throw new TypeError("maxDate() date parameter is before options.minDate: "+t.format(l));return n.maxDate=t,n.useCurrent&&!n.keepInvalid&&i.isAfter(e)&&Z(n.maxDate),o.isAfter(t)&&(o=t.clone().subtract(n.stepping,"m")),J(),h},h.minDate=function(e){if(0===arguments.length)return n.minDate?n.minDate.clone():n.minDate;if("boolean"==typeof e&&!1===e)return n.minDate=!1,J(),h;"string"==typeof e&&("now"!==e&&"moment"!==e||(e=x()));var t=oe(e);if(!t.isValid())throw new TypeError("minDate() Could not parse date parameter: "+e);if(n.maxDate&&t.isAfter(n.maxDate))throw new TypeError("minDate() date parameter is after options.maxDate: "+t.format(l));return n.minDate=t,n.useCurrent&&!n.keepInvalid&&i.isBefore(e)?Z(n.minDate):i.isBefore(t)&&(o=t.clone()),o.isBefore(t)&&(o=t.clone().add(n.stepping,"m")),J(),h},h.defaultDate=function(e){if(0===arguments.length)return n.defaultDate?n.defaultDate.clone():n.defaultDate;if(!e)return n.defaultDate=!1,h;"string"==typeof e&&("now"!==e&&"moment"!==e||(e=x()));var t=oe(e);if(!t.isValid())throw new TypeError("defaultDate() Could not parse date parameter: "+e);if(!j(t))throw new TypeError("defaultDate() date passed is invalid according to component setup validations");return n.defaultDate=t,(n.defaultDate&&n.inline||""===r.val().trim())&&Z(n.defaultDate),h},h.locale=function(e){if(0===arguments.length)return n.locale;if(!t.localeData(e))throw new TypeError("locale() locale "+e+" is not loaded from moment locales!");return n.locale=e,i.locale(n.locale),o.locale(n.locale),l&&ue(),f&&(X(),ne()),h},h.stepping=function(e){return 0===arguments.length?n.stepping:(e=parseInt(e,10),(isNaN(e)||e<1)&&(e=1),n.stepping=e,h)},h.useCurrent=function(e){var t=["year","month","day","hour","minute"];if(0===arguments.length)return n.useCurrent;if("boolean"!=typeof e&&"string"!=typeof e)throw new TypeError("useCurrent() expects a boolean or string parameter");if("string"==typeof e&&-1===t.indexOf(e.toLowerCase()))throw new TypeError("useCurrent() expects a string parameter of "+t.join(", "));return n.useCurrent=e,h},h.collapse=function(e){if(0===arguments.length)return n.collapse;if("boolean"!=typeof e)throw new TypeError("collapse() expects a boolean parameter");return n.collapse===e?h:(n.collapse=e,f&&(X(),ne()),h)},h.icons=function(t){if(0===arguments.length)return e.extend({},n.icons);if(!(t instanceof Object))throw new TypeError("icons() expects parameter to be an Object");return e.extend(n.icons,t),f&&(X(),ne()),h},h.tooltips=function(t){if(0===arguments.length)return e.extend({},n.tooltips);if(!(t instanceof Object))throw new TypeError("tooltips() expects parameter to be an Object");return e.extend(n.tooltips,t),f&&(X(),ne()),h},h.useStrict=function(e){if(0===arguments.length)return n.useStrict;if("boolean"!=typeof e)throw new TypeError("useStrict() expects a boolean parameter");return n.useStrict=e,h},h.sideBySide=function(e){if(0===arguments.length)return n.sideBySide;if("boolean"!=typeof e)throw new TypeError("sideBySide() expects a boolean parameter");return n.sideBySide=e,f&&(X(),ne()),h},h.viewMode=function(e){if(0===arguments.length)return n.viewMode;if("string"!=typeof e)throw new TypeError("viewMode() expects a string parameter");if(-1===v.indexOf(e))throw new TypeError("viewMode() parameter must be one of ("+v.join(", ")+") value");return n.viewMode=e,c=Math.max(v.indexOf(e),b),$(),h},h.toolbarPlacement=function(e){if(0===arguments.length)return n.toolbarPlacement;if("string"!=typeof e)throw new TypeError("toolbarPlacement() expects a string parameter");if(-1===k.indexOf(e))throw new TypeError("toolbarPlacement() parameter must be one of ("+k.join(", ")+") value");return n.toolbarPlacement=e,f&&(X(),ne()),h},h.widgetPositioning=function(t){if(0===arguments.length)return e.extend({},n.widgetPositioning);if("[object Object]"!=={}.toString.call(t))throw new TypeError("widgetPositioning() expects an object variable");if(t.horizontal){if("string"!=typeof t.horizontal)throw new TypeError("widgetPositioning() horizontal variable must be a string");if(t.horizontal=t.horizontal.toLowerCase(),-1===y.indexOf(t.horizontal))throw new TypeError("widgetPositioning() expects horizontal parameter to be one of ("+y.join(", ")+")");n.widgetPositioning.horizontal=t.horizontal}if(t.vertical){if("string"!=typeof t.vertical)throw new TypeError("widgetPositioning() vertical variable must be a string");if(t.vertical=t.vertical.toLowerCase(),-1===m.indexOf(t.vertical))throw new TypeError("widgetPositioning() expects vertical parameter to be one of ("+m.join(", ")+")");n.widgetPositioning.vertical=t.vertical}return J(),h},h.calendarWeeks=function(e){if(0===arguments.length)return n.calendarWeeks;if("boolean"!=typeof e)throw new TypeError("calendarWeeks() expects parameter to be a boolean value");return n.calendarWeeks=e,J(),h},h.showTodayButton=function(e){if(0===arguments.length)return n.showTodayButton;if("boolean"!=typeof e)throw new TypeError("showTodayButton() expects a boolean parameter");return n.showTodayButton=e,f&&(X(),ne()),h},h.showClear=function(e){if(0===arguments.length)return n.showClear;if("boolean"!=typeof e)throw new TypeError("showClear() expects a boolean parameter");return n.showClear=e,f&&(X(),ne()),h},h.widgetParent=function(t){if(0===arguments.length)return n.widgetParent;if("string"==typeof t&&(t=e(t)),null!==t&&"string"!=typeof t&&!(t instanceof e))throw new TypeError("widgetParent() expects a string or a jQuery object parameter");return n.widgetParent=t,f&&(X(),ne()),h},h.keepOpen=function(e){if(0===arguments.length)return n.keepOpen;if("boolean"!=typeof e)throw new TypeError("keepOpen() expects a boolean parameter");return n.keepOpen=e,h},h.focusOnShow=function(e){if(0===arguments.length)return n.focusOnShow;if("boolean"!=typeof e)throw new TypeError("focusOnShow() expects a boolean parameter");return n.focusOnShow=e,h},h.inline=function(e){if(0===arguments.length)return n.inline;if("boolean"!=typeof e)throw new TypeError("inline() expects a boolean parameter");return n.inline=e,h},h.clear=function(){return ee(),h},h.keyBinds=function(e){return n.keyBinds=e,h},h.getMoment=function(e){return x(e)},h.debug=function(e){if("boolean"!=typeof e)throw new TypeError("debug() expects a boolean parameter");return n.debug=e,h},h.allowInputToggle=function(e){if(0===arguments.length)return n.allowInputToggle;if("boolean"!=typeof e)throw new TypeError("allowInputToggle() expects a boolean parameter");return n.allowInputToggle=e,h},h.showClose=function(e){if(0===arguments.length)return n.showClose;if("boolean"!=typeof e)throw new TypeError("showClose() expects a boolean parameter");return n.showClose=e,h},h.keepInvalid=function(e){if(0===arguments.length)return n.keepInvalid;if("boolean"!=typeof e)throw new TypeError("keepInvalid() expects a boolean parameter");return n.keepInvalid=e,h},h.datepickerInput=function(e){if(0===arguments.length)return n.datepickerInput;if("string"!=typeof e)throw new TypeError("datepickerInput() expects a string parameter");return n.datepickerInput=e,h},h.parseInputDate=function(e){if(0===arguments.length)return n.parseInputDate;if("function"!=typeof e)throw new TypeError("parseInputDate() sholud be as function");return n.parseInputDate=e,h},h.disabledTimeIntervals=function(t){if(0===arguments.length)return n.disabledTimeIntervals?e.extend({},n.disabledTimeIntervals):n.disabledTimeIntervals;if(!t)return n.disabledTimeIntervals=!1,J(),h;if(!(t instanceof Array))throw new TypeError("disabledTimeIntervals() expects an array parameter");return n.disabledTimeIntervals=t,J(),h},h.disabledHours=function(t){if(0===arguments.length)return n.disabledHours?e.extend({},n.disabledHours):n.disabledHours;if(!t)return n.disabledHours=!1,J(),h;if(!(t instanceof Array))throw new TypeError("disabledHours() expects an array parameter");if(n.disabledHours=he(t),n.enabledHours=!1,n.useCurrent&&!n.keepInvalid){for(var a=0;!j(i,"h");){if(i.add(1,"h"),24===a)throw"Tried 24 times to find a valid date";a++}Z(i)}return J(),h},h.enabledHours=function(t){if(0===arguments.length)return n.enabledHours?e.extend({},n.enabledHours):n.enabledHours;if(!t)return n.enabledHours=!1,J(),h;if(!(t instanceof Array))throw new TypeError("enabledHours() expects an array parameter");if(n.enabledHours=he(t),n.disabledHours=!1,n.useCurrent&&!n.keepInvalid){for(var a=0;!j(i,"h");){if(i.add(1,"h"),24===a)throw"Tried 24 times to find a valid date";a++}Z(i)}return J(),h},h.viewDate=function(e){if(0===arguments.length)return o.clone();if(!e)return o=i.clone(),h;if(!("string"==typeof e||t.isMoment(e)||e instanceof Date))throw new TypeError("viewDate() parameter must be one of [string, moment or Date]");return o=oe(e),R(),h},a.is("input"))r=a;else if(r=a.find(n.datepickerInput),0===r.size())r=a.find("input");else if(!r.is("input"))throw new Error('CSS class "'+n.datepickerInput+'" cannot be applied to non input element');if(a.hasClass("bhtc-input-group")&&(p=0===a.find(".bhtc-datepickerbutton").size()?a.find(".bhtc-input-group-addon"):a.find(".bhtc-datepickerbutton")),!n.inline&&!r.is("input"))throw new Error("Could not initialize DateTimePicker without an input element");return i=x(),o=i.clone(),e.extend(!0,n,function(){var t,i={};return t=a.is("input")||n.inline?a.data():a.find("input").data(),t.dateOptions&&t.dateOptions instanceof Object&&(i=e.extend(!0,i,t.dateOptions)),e.each(n,function(e){var a="date"+e.charAt(0).toUpperCase()+e.slice(1);void 0!==t[a]&&(i[e]=t[a])}),i}()),h.options(n),ue(),function(){if(r.on({change:le,blur:n.debug?"":X,keydown:re,keyup:se,focus:n.allowInputToggle?ne:""}),a.is("input")){r.on({focus:ne});var e=r.closest(".bhtc-input-group").children(".bhtc-input-group-addon");e.length>0&&e.on("click",function(){r.focus()})}else p&&(p.on("click",ie),p.on("mousedown",!1))}(),r.prop("bhtc-disabled")&&h.disable(),r.is("input")&&0!==r.val().trim().length?Z(oe(r.val().trim())):n.defaultDate&&void 0===r.attr("placeholder")&&Z(n.defaultDate),n.inline&&ne(),e(window).on("click",function(t){var a=e(t.target),n=a.closest("input"),i=a.closest(".bhtc-datetimepicker-widget");f&&(r.length>0&&n[0]===r[0]||f.length>0&&i[0]===f[0]||X())}),h};e.fn.datetimepicker=function(t){return this.each(function(){var n=e(this);n.data("DateTimePicker")||("zh"!==BH_UTILS.lang()&&(e.fn.datetimepicker.defaults.locale="en-gb"),t=e.extend(!0,{},e.fn.datetimepicker.defaults,t),t.format&&(t.format=t.format.replace("yyyy","YYYY"),t.format=t.format.replace("-dd","-DD")),n.data("DateTimePicker",a(n,t)))})},e.fn.datetimepicker.defaults={timeZone:"Etc/UTC",format:!1,dayViewHeaderFormat:"YYYY MMMM",extraFormats:!1,stepping:1,minDate:!1,maxDate:!1,useCurrent:!0,collapse:!0,locale:"zh-cn",defaultDate:!1,disabledDates:!1,enabledDates:!1,icons:{time:"iconfont icon-accesstime",date:"iconfont icon-daterange",up:"iconfont icon-keyboardarrowup",down:"iconfont icon-keyboardarrowdown",previous:"iconfont icon-keyboardarrowleft",next:"iconfont icon-keyboardarrowright",today:"iconfont icon-today",clear:"iconfont icon-highlightremove",close:"iconfont icon-close"},tooltips:{today:"Go to today",clear:"Clear selection",close:"Close the picker",selectMonth:"Select Month",prevMonth:"Previous Month",nextMonth:"Next Month",selectYear:"Select Year",prevYear:"Previous Year",nextYear:"Next Year",selectDecade:"Select Decade",prevDecade:"Previous Decade",nextDecade:"Next Decade",prevCentury:"Previous Century",nextCentury:"Next Century",pickHour:"Pick Hour",incrementHour:"Increment Hour",decrementHour:"Decrement Hour",pickMinute:"Pick Minute",incrementMinute:"Increment Minute",decrementMinute:"Decrement Minute",pickSecond:"Pick Second",incrementSecond:"Increment Second",decrementSecond:"Decrement Second",togglePeriod:"Toggle Period",selectTime:"Select Time"},useStrict:!1,sideBySide:!1,daysOfWeekDisabled:!1,calendarWeeks:!1,viewMode:"days",toolbarPlacement:"default",showTodayButton:!1,showClear:!1,showClose:!1,widgetPositioning:{horizontal:"auto",vertical:"auto"},widgetParent:null,ignoreReadonly:!1,keepOpen:!1,focusOnShow:!0,inline:!1,keepInvalid:!1,datepickerInput:".bhtc-datepickerinput",keyBinds:{up:function(e){if(e){var t=this.date()||this.getMoment();e.find(".bhtc-datepicker").is(":visible")?this.date(t.clone().subtract(7,"d")):this.date(t.clone().add(this.stepping(),"m"))}},down:function(e){if(!e)return void this.show();var t=this.date()||this.getMoment();e.find(".bhtc-datepicker").is(":visible")?this.date(t.clone().add(7,"d")):this.date(t.clone().subtract(this.stepping(),"m"))},"control up":function(e){if(e){var t=this.date()||this.getMoment();e.find(".bhtc-datepicker").is(":visible")?this.date(t.clone().subtract(1,"y")):this.date(t.clone().add(1,"h"))}},"control down":function(e){if(e){var t=this.date()||this.getMoment();e.find(".bhtc-datepicker").is(":visible")?this.date(t.clone().add(1,"y")):this.date(t.clone().subtract(1,"h"))}},left:function(e){if(e){var t=this.date()||this.getMoment();e.find(".bhtc-datepicker").is(":visible")&&this.date(t.clone().subtract(1,"d"))}},right:function(e){if(e){var t=this.date()||this.getMoment();e.find(".bhtc-datepicker").is(":visible")&&this.date(t.clone().add(1,"d"))}},pageUp:function(e){if(e){var t=this.date()||this.getMoment();e.find(".bhtc-datepicker").is(":visible")&&this.date(t.clone().subtract(1,"M"))}},pageDown:function(e){if(e){var t=this.date()||this.getMoment();e.find(".bhtc-datepicker").is(":visible")&&this.date(t.clone().add(1,"M"))}},enter:function(){this.hide()},escape:function(){this.hide()},"control space":function(e){e.find(".bhtc-timepicker").is(":visible")&&e.find('.bhtc-btn[data-action="togglePeriod"]').click()},t:function(){this.date(this.getMoment())},delete:function(){this.clear()}},debug:!1,allowInputToggle:!1,disabledTimeIntervals:!1,disabledHours:!1,enabledHours:!1,viewDate:!1}}(jQuery,moment);